<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Frequently Asked Questions" href="faq.html" /><link rel="prev" title="Developer’s Guide" href="devguide.html" />

    <link rel="shortcut icon" href="_static/magic_conch.ico"/><!-- Generated with Sphinx 7.3.7 and Furo 2024.04.27 -->
        <title>Xonsh Change Log - xonsh 0.16.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=437aa6ec" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=c8b63bf6" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="contents.html"><div class="brand">xonsh 0.16.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="contents.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/ascii_conch_part_transparent_tight.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">xonsh 0.16.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="packages.html">Package Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="appimage.html">AppImage</a></li>
<li class="toctree-l1"><a class="reference internal" href="containers.html">Docker container</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_hist.html">Tutorial: History</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_macros.html">Tutorial: Macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_xontrib.html">Tutorial: Extensions (Xontribs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_xonsh_projects.html">Tutorial: Xonsh Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_events.html">Tutorial: Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_completers.html">Tutorial: Programmable Tab-Completion</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_history_backend.html">Tutorial: Write Your Own History Backend</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_subproc_strings.html">Tutorial: Subprocess Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_ptk.html">Tutorial: <code class="docutils literal notranslate"><span class="pre">prompt_toolkit</span></code> custom keybindings</a></li>
<li class="toctree-l1"><a class="reference internal" href="bash_to_xsh.html">Bash to Xonsh Translation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="editors.html">Editor and IDE Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="subproc_types.html">Subprocess Types Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_virtual_environments.html">Python Virtual Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="keyboard_shortcuts.html">Keyboard Shortcuts</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="xonshrc.html">Run Control File</a></li>
<li class="toctree-l1"><a class="reference internal" href="customization.html">Updating and customizing xonsh</a></li>
<li class="toctree-l1"><a class="reference internal" href="envvars.html">Environment Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="aliases.html">Built-in Aliases</a></li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Core Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="platform-issues.html">Platform-specific tips and tricks</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="api/index.html">Xonsh API</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Xonsh API</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/lang/xonsh.lexer.html">xonsh.lexer</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/lang/xonsh.parser.html">xonsh.parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/lang/xonsh.ast.html">xonsh.ast</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/lang/xonsh.execer.html">xonsh.execer</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/lang/xonsh.imphooks.html">xonsh.imphooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/cmd/xonsh.built_ins.html">xonsh.built_ins</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/cmd/xonsh.environ.html">xonsh.environ</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/cmd/xonsh.aliases.html">xonsh.aliases</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/cmd/xonsh.dirstack.html">xonsh.dirstack</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/cmd/xonsh.jobs.html">xonsh.jobs</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/_autosummary/cmd/xonsh.procs.html">xonsh.procs</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of xonsh.procs</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.procs.pipelines.html">xonsh.procs.pipelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.procs.posix.html">xonsh.procs.posix</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.procs.proxies.html">xonsh.procs.proxies</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.procs.readers.html">xonsh.procs.readers</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.procs.specs.html">xonsh.procs.specs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/cmd/xonsh.inspectors.html">xonsh.inspectors</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/_autosummary/cmd/xonsh.history.html">xonsh.history</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of xonsh.history</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.history.base.html">xonsh.history.base</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.history.dummy.html">xonsh.history.dummy</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.history.json.html">xonsh.history.json</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.history.main.html">xonsh.history.main</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.history.sqlite.html">xonsh.history.sqlite</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/cmd/xonsh.completer.html">xonsh.completer</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/_autosummary/cmd/xonsh.completers.html">xonsh.completers</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of xonsh.completers</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.completers.base.html">xonsh.completers.base</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.completers.bash.html">xonsh.completers.bash</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.completers.bash_completion.html">xonsh.completers.bash_completion</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.completers.commands.html">xonsh.completers.commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.completers.completer.html">xonsh.completers.completer</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.completers.dirs.html">xonsh.completers.dirs</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.completers.environment.html">xonsh.completers.environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.completers.imports.html">xonsh.completers.imports</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.completers.init.html">xonsh.completers.init</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.completers.man.html">xonsh.completers.man</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.completers.path.html">xonsh.completers.path</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.completers.python.html">xonsh.completers.python</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.completers.tools.html">xonsh.completers.tools</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/_autosummary/cmd/xonsh.prompt.html">xonsh.prompt</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of xonsh.prompt</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.prompt.base.html">xonsh.prompt.base</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.prompt.cwd.html">xonsh.prompt.cwd</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.prompt.env.html">xonsh.prompt.env</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.prompt.gitstatus.html">xonsh.prompt.gitstatus</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.prompt.job.html">xonsh.prompt.job</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.prompt.times.html">xonsh.prompt.times</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.prompt.vc.html">xonsh.prompt.vc</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/cmd/xonsh.shell.html">xonsh.shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/cmd/xonsh.base_shell.html">xonsh.base_shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/cmd/xonsh.readline_shell.html">xonsh.readline_shell</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/_autosummary/cmd/xonsh.ptk_shell.html">xonsh.ptk_shell</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of xonsh.ptk_shell</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.ptk_shell.completer.html">xonsh.ptk_shell.completer</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.ptk_shell.formatter.html">xonsh.ptk_shell.formatter</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.ptk_shell.history.html">xonsh.ptk_shell.history</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.ptk_shell.key_bindings.html">xonsh.ptk_shell.key_bindings</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.ptk_shell.shell.html">xonsh.ptk_shell.shell</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.ptk_shell.updator.html">xonsh.ptk_shell.updator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/cmd/xonsh.pretty.html">xonsh.pretty</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/cmd/xonsh.diff_history.html">xonsh.diff_history</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/_autosummary/cmd/xonsh.xoreutils.html">xonsh.xoreutils</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of xonsh.xoreutils</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.xoreutils.cat.html">xonsh.xoreutils.cat</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.xoreutils.echo.html">xonsh.xoreutils.echo</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.xoreutils.pwd.html">xonsh.xoreutils.pwd</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.xoreutils.tee.html">xonsh.xoreutils.tee</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.xoreutils.tty.html">xonsh.xoreutils.tty</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.xoreutils.ulimit.html">xonsh.xoreutils.ulimit</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.xoreutils.umask.html">xonsh.xoreutils.umask</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.xoreutils.uname.html">xonsh.xoreutils.uname</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.xoreutils.uptime.html">xonsh.xoreutils.uptime</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.xoreutils.util.html">xonsh.xoreutils.util</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.xoreutils.which.html">xonsh.xoreutils.which</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/cmd/xonsh.xoreutils.yes.html">xonsh.xoreutils.yes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.events.html">xonsh.events</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/_autosummary/helpers/xonsh.lib.html">xonsh.lib</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of xonsh.lib</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/helpers/xonsh.lib.collections.html">xonsh.lib.collections</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/helpers/xonsh.lib.itertools.html">xonsh.lib.itertools</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/helpers/xonsh.lib.modules.html">xonsh.lib.modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/helpers/xonsh.lib.os.html">xonsh.lib.os</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/helpers/xonsh.lib.subprocess.html">xonsh.lib.subprocess</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.tools.html">xonsh.tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.platform.html">xonsh.platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.jsonutils.html">xonsh.jsonutils</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.lazyjson.html">xonsh.lazyjson</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.lazyasd.html">xonsh.lazyasd</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.openpy.html">xonsh.openpy</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.foreign_shells.html">xonsh.foreign_shells</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.commands_cache.html">xonsh.commands_cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.tracer.html">xonsh.tracer</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.main.html">xonsh.main</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.color_tools.html">xonsh.color_tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.pyghooks.html">xonsh.pyghooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.dumb_shell.html">xonsh.dumb_shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.wizard.html">xonsh.wizard</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.xonfig.html">xonsh.xonfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.xontribs.html">xonsh.xontribs</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.codecache.html">xonsh.codecache</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_autosummary/helpers/xonsh.contexts.html">xonsh.contexts</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/_autosummary/xontribs/xontrib.html">xontrib</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of xontrib</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="api/_autosummary/xontribs/xontrib.coreutils.html">xontrib.coreutils</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced_events.html">Advanced Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="devguide.html">Developer’s Guide</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Xonsh Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="todo.html">Wishlist &amp; To-Dos</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/xonsh/xonsh/edit/main/docs/changelog.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="xonsh-change-log">
<h1>Xonsh Change Log<a class="headerlink" href="#xonsh-change-log" title="Link to this heading">¶</a></h1>
<section id="v0-16-0">
<h2>v0.16.0<a class="headerlink" href="#v0-16-0" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Square brackets can now be used in command arguments without quotes (e.g. <cite>echo a[b]</cite>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">XONSH_BASH_PATH_OVERRIDE</span></code> option (off-by-default) to override what is
returned by <cite>xonsh.platform.bash_command</cite>.</p></li>
<li><p>Added PATH.prepend(path) to add path to the beginning.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Xonsh AppImage now on Python 3.12 that works faster.</p></li>
<li><p>Xonsh AppImage: pinned prompt-toolkit version until fix upstream issue.</p></li>
<li><p>Builtin aliases (xontrib, history) switched to threadable mode.</p></li>
<li><p>EnvPath methods (append, remove, add, insert) prepare the path before action.</p></li>
<li><p>Replaced black formatter with <a class="reference external" href="https://docs.astral.sh/ruff/">ruff-format</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">source_foreign_fn</span></code> now does not run subshells in interactive mode, so
associated RC files like <code class="docutils literal notranslate"><span class="pre">zshrc</span></code> and <code class="docutils literal notranslate"><span class="pre">bashrc</span></code> will not be auto-loaded on
sourcing.</p></li>
<li><p>Removed usage of deprecated <code class="docutils literal notranslate"><span class="pre">cgi</span></code> module</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">ArgParserAlias.hook_pre_add_argument</span></code>, <code class="docutils literal notranslate"><span class="pre">ArgParserAlias.hook_post_add_argument</span></code>.
Please use custom action instead to modify the argument options.</p></li>
<li><p>Removed deprecated module <code class="docutils literal notranslate"><span class="pre">xonsh.proc</span></code></p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed an issue with completions when using absolute paths to commands and having $UPDATE_COMPLETIONS_ON_KEYPRESS set to True. <a class="reference external" href="https://github.com/xonsh/xonsh/issues/5127">https://github.com/xonsh/xonsh/issues/5127</a></p></li>
<li><p>Jobs: fixed “index out of range” exception.</p></li>
<li><p>Expressions like <code class="docutils literal notranslate"><span class="pre">2&gt;1</span></code> are now parsed correctly as Python code instead of being treated like special io-redirection operators.</p></li>
<li><p>Redirect tokens in quotes (e.g. “&gt;”, “2&gt;”, “2&gt;1”) are now correctly passed to commands as regular arguments.</p></li>
<li><p>Fixed NotADirectoryError during load dircolors.</p></li>
<li><p>Fixed a bug that caused <code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">web</span></code> to overwrite its own configuration file. See <a class="reference external" href="https://github.com/xonsh/xonsh/issues/5297">https://github.com/xonsh/xonsh/issues/5297</a></p></li>
<li><p>If an error is encountered while loading the xonshrc file, the traceback is now output as plain text rather than as a list of Tokens</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>anki-code</p></li>
<li><p>pre-commit-ci[bot]</p></li>
<li><p>Peter Ye</p></li>
<li><p>dependabot[bot]</p></li>
<li><p>l-no</p></li>
</ul>
</section>
<section id="v0-15-1">
<h2>v0.15.1<a class="headerlink" href="#v0-15-1" title="Link to this heading">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>pytest: Fix pytest collection starting at pytest&gt;=8.1.0</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>doronz88</p></li>
<li><p>Daniel Saunders</p></li>
<li><p>Andrew</p></li>
</ul>
</section>
<section id="v0-15-0">
<h2>v0.15.0<a class="headerlink" href="#v0-15-0" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://atuin.sh/">Atuin</a> now has official support for xonsh. (Related PR: <a class="reference external" href="https://github.com/atuinsh/atuin/pull/1375">https://github.com/atuinsh/atuin/pull/1375</a>)</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Updated docs to reflect VS Code support for xonsh as the user’s default shell.</p></li>
<li><p>Pinned prompt-toolkit version 3.0.29-3.0.40 to workaround upstream issue. More info in issue 5241.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>anki-code</p></li>
<li><p>pre-commit-ci[bot]</p></li>
<li><p>Jason R. Coombs</p></li>
<li><p>dependabot[bot]</p></li>
<li><p>Matthieu LAURENT</p></li>
</ul>
</section>
<section id="v0-14-4">
<h2>v0.14.4<a class="headerlink" href="#v0-14-4" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>System clipboard can be fully disabled using <code class="docutils literal notranslate"><span class="pre">$XONSH_USE_SYSTEM_CLIPBOARD</span></code>.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>anki-code</p></li>
<li><p>pre-commit-ci[bot]</p></li>
<li><p>dependabot[bot]</p></li>
<li><p>Stefano Rivera</p></li>
<li><p>Nathan Monfils</p></li>
<li><p>JamesParrott</p></li>
<li><p>Airat Makhmutov</p></li>
</ul>
</section>
<section id="v0-14-3">
<h2>v0.14.3<a class="headerlink" href="#v0-14-3" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">on_pre_spec_run</span></code> event.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">on_post_spec_run</span></code> event.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh</span></code> now adds the user site packages directory to <code class="docutils literal notranslate"><span class="pre">sys.path</span></code> where
required for proper <code class="docutils literal notranslate"><span class="pre">xontrib</span></code> discovery</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>pre-commit-ci[bot]</p></li>
<li><p>Jacqueline Leykam</p></li>
<li><p>Joshix-1</p></li>
</ul>
</section>
<section id="v0-14-2">
<h2>v0.14.2<a class="headerlink" href="#v0-14-2" title="Link to this heading">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>history: fix json file permissions upon <cite>sudo</cite> (#5220)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cd</span></code> with no arguments will always return to <code class="docutils literal notranslate"><span class="pre">$HOME</span></code></p></li>
<li><p>Correctly parse multi line foreign aliases</p></li>
<li><p>Upgrade Python version at the introduction (<a class="reference external" href="https://github.com/xonsh/xonsh/pull/5193">https://github.com/xonsh/xonsh/pull/5193</a>)</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>anki-code</p></li>
<li><p>pre-commit-ci[bot]</p></li>
<li><p>dependabot[bot]</p></li>
<li><p>doronz88</p></li>
<li><p>mgunyho</p></li>
<li><p>ShalokShalom</p></li>
<li><p>Wilfried Pollan</p></li>
</ul>
</section>
<section id="v0-14-1">
<h2>v0.14.1<a class="headerlink" href="#v0-14-1" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">delete</span></code> command to both the JSON and SQLite history backends allowing users to delete commands from history that matches a pattern.</p></li>
<li><p>Now you can become a sponsor to xonsh - <a class="reference external" href="https://github.com/sponsors/xonsh">https://github.com/sponsors/xonsh</a></p></li>
<li><p>Added preliminary support for Python v3.12</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Always load rc files except that –norc is passed.</p></li>
<li><p>Unset the default line continuation environment variables (<code class="docutils literal notranslate"><span class="pre">$MULTILINE_PROMPT_PRE</span></code> and <code class="docutils literal notranslate"><span class="pre">$MULTILINE_PROMPT_POS</span></code>) to allow differentiating between user setting an empty value and not setting anything</p></li>
<li><p>Dropped support for Python v3.8</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>This change fixes issue #4855, that is, rc files will be loaded in non-interactive mode.</p></li>
<li><p>platform: fix <cite>BASH_COMPLETIONS_DEFAULT</cite> on M1</p></li>
<li><p>Fix wrong verification for the simple output, introduced by PR5072</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Noortheen Raja</p></li>
<li><p>anki-code</p></li>
<li><p>pre-commit-ci[bot]</p></li>
<li><p>Evgeny</p></li>
<li><p>doronz88</p></li>
<li><p>Ivan Ogasawara</p></li>
<li><p>HackTheOxidation</p></li>
<li><p>Cosine Chen</p></li>
</ul>
</section>
<section id="v0-14-0">
<h2>v0.14.0<a class="headerlink" href="#v0-14-0" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>key_bindings: map <cite>escape-f</cite> as another word completer for macOS</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">pull</span></code> command to SQLite history backend to pull the history from parallel sessions and add to the current session.</p></li>
<li><p>Add support for <a class="reference external" href="https://gitlab.freedesktop.org/Per_Bothner/specifications/blob/master/proposals/semantic-prompts.md">Semantic Prompt</a> for line continuations in multiline prompts via two environment variables: <code class="docutils literal notranslate"><span class="pre">$MULTILINE_PROMPT_PRE</span></code> (e.g., <code class="docutils literal notranslate"><span class="pre">\x01\x1b]133;P;k=c\x07\x02</span></code>), and <code class="docutils literal notranslate"><span class="pre">$MULTILINE_PROMPT_POS</span></code> (e.g., <code class="docutils literal notranslate"><span class="pre">\x01\x1b]133;B\x07\x02</span></code>) that are inserted before/after each continuation line ‘dots’ block to mark input</p></li>
<li><p>Wheels for Python 3.11 are part of the automated release action</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">chdir</span></code> to <code class="docutils literal notranslate"><span class="pre">xonsh.tools</span></code>. This allows to use <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">chdir(&quot;dir&quot;):</span></code> to run commands block in the certain directory without manually cd-ing.</p></li>
<li><p>Display the current branch of Fossil VCS checkouts in the prompt,
similar to git and hg.</p></li>
<li><p>Added link to xonsh on Mastodon - <a class="reference external" href="https://mastodon.online/&#64;xonsh">https://mastodon.online/&#64;xonsh</a></p></li>
<li><p>xontrib load: added option <code class="docutils literal notranslate"><span class="pre">-s</span></code> to skip warning about not installed xontribs.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Altered documentation for xonshrc to remove Python REPL prompts so that you can copy the code without having to edit it.</p></li>
<li><p>xonsh AppImage - bumped python to 3.11</p></li>
<li><p>The prompt end character switched to <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>.</p></li>
<li><p>The <cite>command not found</cite> error will show the <code class="docutils literal notranslate"><span class="pre">repr(cmd)</span></code> to uncover the cases when the command name has <code class="docutils literal notranslate"><span class="pre">\n</span></code>, <code class="docutils literal notranslate"><span class="pre">\t</span></code> or not visible color codes and raises the error.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">abbrevs</span></code> xontrib transferred to <a class="reference external" href="https://github.com/xonsh/xontrib-abbrevs">xontrib-abbrevs</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bashisms</span></code> xontrib transferred to <a class="reference external" href="https://github.com/xonsh/xontrib-bashisms">xontrib-bashisms</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">free_cwd</span></code> xontrib transferred to <a class="reference external" href="https://github.com/xonsh/xontrib-free-cwd">xontrib-free-cwd</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">whole_word_jumping</span></code> xontrib transferred to <a class="reference external" href="https://github.com/xonsh/xontrib-whole-word-jumping">xontrib-whole-word-jumping</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fish_completer</span></code> xontrib transferred to <a class="reference external" href="https://github.com/xonsh/xontrib-fish-completer">xontrib-fish-completer</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vox</span></code>, <code class="docutils literal notranslate"><span class="pre">autovox</span></code>, <code class="docutils literal notranslate"><span class="pre">voxapi</span></code> xontribs transferred to <a class="reference external" href="https://github.com/xonsh/xontrib-vox">xontrib-vox</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdb</span></code>, <code class="docutils literal notranslate"><span class="pre">xog</span></code> xontribs transferred to <a class="reference external" href="https://github.com/xonsh/xontrib-debug-tools">xontrib-debug-tools</a>.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed xpip alias for xonsh AppImage.</p></li>
<li><p>Fixed missing <code class="docutils literal notranslate"><span class="pre">webconfig/js/xonsh_sticker.svg</span></code> in <code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">web</span></code>.</p></li>
<li><p>update load_xontrib pytest fixture to handle auto-loaded xontribs</p></li>
<li><p>Suppress subprocess traceback on exception in case <code class="docutils literal notranslate"><span class="pre">$XONSH_SHOW_TRACEBACK=False</span></code> with <code class="docutils literal notranslate"><span class="pre">$RAISE_SUBPROC_ERROR=True</span></code>.</p></li>
<li><p>Improve the error message when <code class="docutils literal notranslate"><span class="pre">$RAISE_SUBPROC_ERROR</span></code> is set to True.</p></li>
<li><p>Fixed xontrib-jupyter to work in JupyterLab and terminal-based <a class="reference external" href="https://github.com/joouha/euporie">Euporie</a> environment.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>anki-code</p></li>
<li><p>pre-commit-ci[bot]</p></li>
<li><p>Evgeny</p></li>
<li><p>Mark Bestley</p></li>
<li><p>Samuel Dion-Girardeau</p></li>
<li><p>doronz88</p></li>
<li><p>Ivan Ogasawara</p></li>
<li><p>Tobias Becker</p></li>
<li><p>AkshayWarrier</p></li>
<li><p>Thomas Hess</p></li>
<li><p>kouhe3</p></li>
</ul>
</section>
<section id="v0-13-4">
<h2>v0.13.4<a class="headerlink" href="#v0-13-4" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>tests for methods changed in tools.py (is_tok_color_dict)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$XDG_CACHE_HOME</span></code>, <code class="docutils literal notranslate"><span class="pre">$XONSH_CACHE_DIR</span></code> are now available inside <code class="docutils literal notranslate"><span class="pre">Xonsh</span></code></p></li>
<li><p>#2455 Add <cite>on_command_not_found</cite> event, fired when a command is not found.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>is_str_str_dict changed to check for Token:style dict</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$COMMANDS_CACHE_SIZE_WARNING</span></code> is removed. When <code class="docutils literal notranslate"><span class="pre">$COMMANDS_CACHE_SAVE_INTERMEDIATE</span></code> is enabled,
the cache file size is optimized.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>#4668 Fix ptk completion stacking when auto-suggest is on and no normal completions are generated.</p></li>
<li><p>$XONSH_STYLE_OVERRIDES cannot be assigned dict of {Token: str} #4375</p></li>
<li><p>commands_cache: add a configurable value to disable cache. useful for running scripts</p></li>
<li><p>fixed stale results when <code class="docutils literal notranslate"><span class="pre">$COMMANDS_CACHE_SAVE_INTERMEDIATE</span></code> is enabled.</p></li>
<li><p>#4951 Fix gitstatus prompt when rebasing</p></li>
<li><p>fixed using aliases to override commands without the file extension on Windows</p></li>
<li><p>#3279 Add <cite>XONSH_HISTORY_IGNORE_REGEX</cite> support. You can specify a regular
expression in the environment variable <cite>XONSH_HISTORY_IGNORE_REGEX</cite> and any
command that matches the expression will not be added to the history.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Noortheen Raja</p></li>
<li><p>pre-commit-ci[bot]</p></li>
<li><p>Vasilis Gerakaris</p></li>
<li><p>Lie Ryan</p></li>
<li><p>Blake Ramsdell</p></li>
<li><p>Justin</p></li>
<li><p>yotamolenik</p></li>
<li><p>austin-yang</p></li>
<li><p>Marco Rubin</p></li>
<li><p>Qyriad</p></li>
</ul>
</section>
<section id="v0-13-3">
<h2>v0.13.3<a class="headerlink" href="#v0-13-3" title="Link to this heading">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pygments</span></code> startup crash when incorrect prepending <code class="docutils literal notranslate"><span class="pre">bg:</span></code> to <code class="docutils literal notranslate"><span class="pre">noinherit</span></code>
style directives</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
</ul>
</section>
<section id="v0-13-2">
<h2>v0.13.2<a class="headerlink" href="#v0-13-2" title="Link to this heading">¶</a></h2>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>When there is no git repository, the values of all <code class="docutils literal notranslate"><span class="pre">gitstatus</span></code> prompt fields are now <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p>With <code class="docutils literal notranslate"><span class="pre">$THREAD_SUBPROCS=False</span></code>: When a callable alias is executed with <code class="docutils literal notranslate"><span class="pre">![]</span></code>, its standard output and standard error are no longer captured. This is because a separate thread is required in order to both capture the output and stream it to the terminal while the alias is running.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed timeit syntax error</p></li>
<li><p>When there is no git repository, <code class="docutils literal notranslate"><span class="pre">$PROMPT</span></code> format strings like <code class="docutils literal notranslate"><span class="pre">{gitstatus:</span> <span class="pre">hello</span> <span class="pre">{}}</span></code> now work as expected.</p></li>
<li><p>With <code class="docutils literal notranslate"><span class="pre">$THREAD_SUBPROCS=False</span></code>: When <code class="docutils literal notranslate"><span class="pre">cd</span></code> is used with an invalid directory, the error message is now correctly displayed.</p></li>
<li><p>Fixed case when xpip returns None instead of command.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>anki-code</p></li>
<li><p>Peter Ye</p></li>
<li><p>pre-commit-ci[bot]</p></li>
<li><p>Lie Ryan</p></li>
<li><p>amukher3</p></li>
<li><p>Ashish Kurmi</p></li>
</ul>
</section>
<section id="v0-13-1">
<h2>v0.13.1<a class="headerlink" href="#v0-13-1" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>The ujson (faster version of json) added to xonsh[full] package.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Bumped Python version in <cite>xonsh.AppImage</cite> to 3.10</p></li>
<li><p>The terminal’s title is updated with the current command’s name even if the command is a captured command or a callable alias</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Warn and continue if a user without <code class="docutils literal notranslate"><span class="pre">pygments</span></code> tries to load an unknown style</p></li>
<li><p>Fixed a bash completion bug when prefixing a file path with ‘&lt;’ or ‘&gt;’ (for redirecting stdin/stdout/stderr)</p></li>
<li><p>Fixed a bash completion bug when completing a git branch name when deleting a remote branch (e.g. <cite>git push origin :dev-branch</cite>)</p></li>
<li><p>A callable alias containing subprocess commands no longer freezes when piped to another command</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">less</span></code> no longer stops when a callable alias containing subprocess commands is piped into it</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gitstatus</span></code> Prompt-field would be empty on paths without git setup.</p></li>
<li><p>When using the sway window manager, <code class="docutils literal notranslate"><span class="pre">swaymsg</span> <span class="pre">-t</span> <span class="pre">get_inputs</span></code> no longer fails with the error “Unable to receive IPC response”</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">current_job</span></code> variable now works as expected when used in <code class="docutils literal notranslate"><span class="pre">$TITLE</span></code></p></li>
</ul>
<p><strong>Security:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xpip</span></code> will never add <code class="docutils literal notranslate"><span class="pre">sudo</span></code> under any circumstances and will instead append <code class="docutils literal notranslate"><span class="pre">--user</span></code> as needed</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>anki-code</p></li>
<li><p>Peter Ye</p></li>
<li><p>pre-commit-ci[bot]</p></li>
<li><p>Stefano Rivera</p></li>
<li><p>jbw3</p></li>
<li><p>jgart</p></li>
<li><p>Michael Panitz (at Cascadia College)</p></li>
<li><p>Tim Gates</p></li>
</ul>
</section>
<section id="v0-13-0">
<h2>v0.13.0<a class="headerlink" href="#v0-13-0" title="Link to this heading">¶</a></h2>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">xonsh</span></code> code-base is no longer amalgamated, so tracebacks should be
human-readable without intervention.  This may have (minor) impacts on startup
speed.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fix xontrib loading for <cite>free_cwd</cite></p></li>
<li><p>Fixed <cite>whole_word_jumping</cite> xontrib failing on Linux, conditional import of <code class="docutils literal notranslate"><span class="pre">ptk_win32</span></code> → Windows only</p></li>
<li><p>Fixed error caused by unintialized Xonsh session env when using Xonsh as a library just for its Pygments lexer plugin.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>anki-code</p></li>
<li><p>Eddie Peters</p></li>
<li><p>cmidkiff87</p></li>
<li><p>Hannes Römer</p></li>
</ul>
</section>
<section id="v0-12-6">
<h2>v0.12.6<a class="headerlink" href="#v0-12-6" title="Link to this heading">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>String literal concatenation now works with f-strings and path literals</p></li>
<li><p>A SyntaxError is raised when string literal concatenation is attempted with literals of different types (e.g. str and bytes)</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>Peter Ye</p></li>
</ul>
</section>
<section id="v0-12-5">
<h2>v0.12.5<a class="headerlink" href="#v0-12-5" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Support for f-glob strings (e.g. <code class="docutils literal notranslate"><span class="pre">fg`{prefix}*`</span></code>)</p></li>
<li><p>Now xontribs support <a class="reference external" href="https://github.com/xonsh/xonsh/issues/4541">loading and unloading</a>
with functions <code class="docutils literal notranslate"><span class="pre">_load_xontrib_(xsh:</span> <span class="pre">XonshSession,</span> <span class="pre">**kwargs)</span> <span class="pre">-&gt;</span> <span class="pre">dict</span></code>,
<code class="docutils literal notranslate"><span class="pre">_unload_xontrib_(xsh:</span> <span class="pre">XonshSession,</span> <span class="pre">**kwargs)</span> <span class="pre">-&gt;</span> <span class="pre">None</span></code> defined in their module.
<a class="reference external" href="https://xon.sh/tutorial_xontrib.html">Updated doc</a></p></li>
<li><p>Added a special ‘$LAST_RETURN_CODE’ environment variable to access the return code of the last issued command. (Only set during interactive use).</p></li>
<li><p>New prompt-customization fields: ‘last_return_code_if_nonzero’, ‘last_return_code’.</p></li>
<li><p>Documented the HISTCONTROL ignorespace option</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>![] now returns a HiddenCommandPipeline when run with a background command (e.g. <cite>![sleep 10 &amp;]</cite>)</p></li>
<li><p>Extended <cite>whole_word_jumping</cite> xontrib with matching bindings for
<cite>delete</cite> and <cite>backspace</cite>. The <cite>XONSH_WHOLE_WORD_CTRL_BKSP</cite> environment
variable can be set to <cite>False</cite> to avoid binding <cite>control+backspace</cite> in
incompatible terminals.</p></li>
<li><p>The default prompt (on unix-systems) now includes a red [&lt;errorcode&gt;] field in case a command failed.</p></li>
<li><p>New docs theme <code class="docutils literal notranslate"><span class="pre">furo</span></code></p></li>
<li><p>completions from fish are now filter based on the current prefix.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>xontrib <code class="docutils literal notranslate"><span class="pre">prompt_ret_code</span></code> is now removed.
Now the default prompt already shows the last-return-code when the previous command fails.
Please use the new prompt fields <code class="docutils literal notranslate"><span class="pre">last_return_code</span></code>, <code class="docutils literal notranslate"><span class="pre">last_return_code_if_nonzero</span></code> from
the <a class="reference external" href="https://github.com/xonsh/xonsh/pull/4798">PR</a></p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Using <cite>fg</cite> for commands started in the background (e.g. <cite>![sleep 10 &amp;]</cite>) now works</p></li>
<li><p>SIGHUP (instead of SIGKILL) is sent to unfinished jobs when exiting the shell. This allows the <cite>nohup</cite> command to work properly.</p></li>
<li><p><cite>bg</cite> now properly resumes jobs in the background</p></li>
<li><p>ExecAlias now sets the returncode of a command correctly</p></li>
<li><p>Empty/comment-only commands no longer get added to the history</p></li>
<li><p>On prompt-toolkit, when there is a job like <cite>sleep 500 &amp;</cite> running in the background, pressing Ctrl+D twice to force quit now works properly</p></li>
<li><p>Environment Variables are now completed correctly when in quotes</p></li>
<li><p>Silence spurious errors on exit due to out-of-order cleanup</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>Peter Ye</p></li>
<li><p>dev2718</p></li>
<li><p>dependabot[bot]</p></li>
<li><p>Stefano Rivera</p></li>
<li><p>Naveen</p></li>
<li><p>jbw3</p></li>
<li><p>Italo Cunha</p></li>
<li><p>Timmy Welch</p></li>
</ul>
</section>
<section id="v0-12-4">
<h2>v0.12.4<a class="headerlink" href="#v0-12-4" title="Link to this heading">¶</a></h2>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
</ul>
</section>
<section id="v0-12-3">
<h2>v0.12.3<a class="headerlink" href="#v0-12-3" title="Link to this heading">¶</a></h2>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>fix: remove os.path.basename from _get_git_branch()</p></li>
<li><p>now 3rd party xontrib list is maintained at <a class="reference external" href="https://github.com/xonsh/awesome-xontribs/">Awesome Xontribs</a> page.
Going forward, new contributions will be updated here, making it not depending on <a class="reference external" href="https://github.com/xonsh/xonsh/issues/4679">the xonsh release</a>.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>Removed Python 3.7 support following <a class="reference external" href="https://numpy.org/neps/nep-0029-deprecation_policy.html">NEP0029</a></p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Dictionaries are now pretty-printed with their items in the correct order</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>Peter Ye</p></li>
<li><p>doronz88</p></li>
<li><p>Stefano Rivera</p></li>
</ul>
</section>
<section id="v0-12-2">
<h2>v0.12.2<a class="headerlink" href="#v0-12-2" title="Link to this heading">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed completions for command argument paths after equal signs</p></li>
<li><p>A trailing space no longer gets appended when tab-completing command arguments that involve equals signs. For example <cite>dd sta</cite> gets completed to <cite>dd status=</cite>, without a space space after the equals sign.</p></li>
<li><p>regression on <a class="reference external" href="https://github.com/xonsh/xonsh/pull/4771">gitstatus</a> prompt is fixed now. It will display the value now instead of the name.</p></li>
<li><p><a class="reference external" href="https://github.com/xonsh/xonsh/pull/4763">fixed</a> <code class="docutils literal notranslate"><span class="pre">vox</span> <span class="pre">rm</span></code> crashing when user input is required</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>Peter Ye</p></li>
</ul>
</section>
<section id="v0-12-1">
<h2>v0.12.1<a class="headerlink" href="#v0-12-1" title="Link to this heading">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>fixed regression issue in loading <a class="reference external" href="https://github.com/xonsh/xonsh/pull/4757">xontrib-abbrevs</a></p></li>
<li><p>Allow xonsh to start gracefully even if modal cursors aren’t in the available
prompt_toolkit version</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>Noortheen Raja</p></li>
</ul>
</section>
<section id="v0-12-0">
<h2>v0.12.0<a class="headerlink" href="#v0-12-0" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p>Added interface to complete any alias that has <code class="docutils literal notranslate"><span class="pre">xonsh_complete</span></code> attribute. It is a function with <code class="docutils literal notranslate"><span class="pre">fn(**kwargs)</span> <span class="pre">-&gt;</span> <span class="pre">Iterator[RichCompletion</span> <span class="pre">|</span> <span class="pre">str]</span></code> signature.</p></li>
<li><p>added <code class="docutils literal notranslate"><span class="pre">$ALIAS_COMPLETIONS_OPTIONS_LONGEST</span></code> to control showing options in completions</p></li>
<li><p>added <code class="docutils literal notranslate"><span class="pre">$CMD_COMPLETIONS_SHOW_DESC</span></code> environment variable to control showing command completions with a description part.</p></li>
<li><p><cite>completer complete</cite> command is added to test current completions</p></li>
<li><p>completions from man page will now show the description for the options if available.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$XONSH_COMPLETER_DIRS</span></code> to put command completers</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Aliases.register</span></code> to register an alias function.</p></li>
<li><p>Tracebacks are now printed in color if available (interactive session with shell that supports colors with pygments installed and $COLOR_RESULTS enabled)</p></li>
<li><p>Added python’s match statement for python &gt;=3.10.</p></li>
<li><p>Added support for the $SHLVL environment variable, typed as int, using bash’s semantics.</p></li>
<li><p>Python files with command completions can be put inside <code class="docutils literal notranslate"><span class="pre">xompletions</span></code> namespace package,
they will get loaded lazily.</p></li>
<li><p><cite>xontrib.fish_completer</cite> is available to complete using <cite>fish</cite> shell.</p></li>
<li><p>Support for pythons sys.last_type, sys.last_value, sys.last_traceback.</p></li>
<li><p>added <code class="docutils literal notranslate"><span class="pre">xonsh-uname</span></code> command to <code class="docutils literal notranslate"><span class="pre">xoreutils</span></code></p></li>
<li><p>auto-completion support for commands : <code class="docutils literal notranslate"><span class="pre">source-foreign</span></code>, <code class="docutils literal notranslate"><span class="pre">source-bash</span></code>, <code class="docutils literal notranslate"><span class="pre">source-zsh</span></code>, <code class="docutils literal notranslate"><span class="pre">source-cmd</span></code></p></li>
<li><p>added <code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">transfer</span></code> command to transfer history entries between backends.</p></li>
<li><p>now <code class="docutils literal notranslate"><span class="pre">$PROMPT_FIELDS</span></code> is a custom class with method <code class="docutils literal notranslate"><span class="pre">pick(field_name)</span></code> to get the field value efficiently.
The results are cached within the same prompt call.</p></li>
<li><p>new class <code class="docutils literal notranslate"><span class="pre">xonsh.prompt.base.PromptField</span></code> to ease creating/extending prompt-fields</p></li>
<li><p><strong>Sublime Text 4</strong> extension to the Editors page.</p></li>
<li><p>Support for the <a class="reference external" href="https://virtualenv.pypa.io/en/20.0.1/extend.html#activation-scripts">virtualenv</a> <code class="docutils literal notranslate"><span class="pre">activate.xsh</span></code> script is back! Ensure you create the virtualenv from the same python where xonsh is installed.</p></li>
<li><p>vox new/create accepts a new <code class="docutils literal notranslate"><span class="pre">--prompt</span></code> argument, which is passed through to <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">venv</span></code></p></li>
<li><p>New set of commands and options to manage virtualenvs inspired from <code class="docutils literal notranslate"><span class="pre">pew</span></code></p>
<blockquote>
<div><ul>
<li><p>runin</p></li>
<li><p>runinall</p></li>
<li><p>new</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--link</span></code> : to associate venv with project directory</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--temp</span></code> : to create temporary virtualenvs</p></li>
</ul>
</div></blockquote>
</li>
<li><p>activate</p>
<blockquote>
<div><ul class="simple">
<li><p>now will cd into project directory if the venv is associated</p></li>
</ul>
</div></blockquote>
</li>
<li><p>toggle-ssp - toggle system site packages</p></li>
<li><p>project - manage project path associations</p></li>
<li><p>wipe - to quickly remove all user installed packages</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">prompt.env.env_name</span></code> is now aware of the “prompt” key in <code class="docutils literal notranslate"><span class="pre">pyvenv.cfg</span></code> - search order from first to last is: <code class="docutils literal notranslate"><span class="pre">$VIRTUAL_ENV_PROMPT</span></code>, <code class="docutils literal notranslate"><span class="pre">pyvenv.cfg</span></code>, <code class="docutils literal notranslate"><span class="pre">$VIRTUAL_ENV</span></code>, $``CONDA_DEFAULT_ENV``</p></li>
<li><p>new command <code class="docutils literal notranslate"><span class="pre">vox</span> <span class="pre">upgrade</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">web</span></code> can now update <code class="docutils literal notranslate"><span class="pre">abbrevs/aliases/env-variables</span></code>.</p></li>
<li><p>Added <cite>xontrib-default-command &lt;https://github.com/oh-my-xonsh/xontrib-default-command&gt;</cite> to xontrib list.</p></li>
<li><p>new <a class="reference external" href="https://github.com/jnoortheen/xontrib-django">xontrib-django</a> for django management completions</p></li>
<li><p>Added <cite>xontrib-gruvbox &lt;https://github.com/rpdelaney/xontrib-gruvbox&gt;</cite> to xontrib list.</p></li>
<li><p>Added <cite>xontrib-up &lt;https://github.com/oh-my-xonsh/xontrib-up&gt;</cite> to xontrib list.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>BREAKING CHANGE: <code class="docutils literal notranslate"><span class="pre">/etc/xonshrc</span></code> location for run control file has been deprecated in favor of <code class="docutils literal notranslate"><span class="pre">/etc/xonsh/xonshrc</span></code>.</p></li>
<li><p>Both <code class="docutils literal notranslate"><span class="pre">*.xsh</span></code> and <code class="docutils literal notranslate"><span class="pre">*.py</span></code> files inside <code class="docutils literal notranslate"><span class="pre">$XONSHRC_DIR</span></code> will get loaded now.</p></li>
<li><p>Environment-variables of no predefined type or path environment variables are now represented as strings via the empty string.</p></li>
<li><p>Made stacktraces behave like in python, i.e. when something in user-provided code fails (both interactively and non-interactively), only that part is shown, and the (static) part of the stacktrace showing the location where the user code was called in xonsh remains hidden. When an unexpected exception occurs inside xonsh, everything is shown like before.</p></li>
<li><p>run_compiled_code, run_script_with_cache, run_code_with_cache now return sys.exc_info() triples instead of throwing errors</p></li>
<li><p>SyntaxError tracebacks now by default hide the internal parser state (like in python); set XONSH_DEBUG &gt;= 1 to enable it again.</p></li>
<li><p>XonshError tracebacks now by default hide xonshs internal state; set XONSH_DEBUG &gt;= 1 to enable it again.</p></li>
<li><p>run_code_with_cache takes a new parameter display_filename to override the filename shown in exceptions (this is independent of caching)</p></li>
<li><p>Update uptime lib by the last one from Pypi</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">umask</span></code>, <code class="docutils literal notranslate"><span class="pre">ulimit</span></code> commands will not override the system’s commands unless requested</p></li>
<li><p>Xontribs that require other third party packages are moved to its own packages.
The following xontribs are moved and can be loaded after install as usual</p>
<ul>
<li><p>mpl</p></li>
<li><p>distributed</p></li>
<li><p>jupyter-kernel</p></li>
<li><p>jedi</p></li>
</ul>
</li>
<li><p>Xonsh adopts <a class="reference external" href="https://numpy.org/neps/nep-0029-deprecation_policy.html">NEP-0029</a> in supporting Python versions.</p></li>
<li><p>Privatise certain attributes of lexer/parser to minimise API surface</p></li>
<li><p>Make <cite>XSH.load</cite> calls explicit (not in Execer)</p></li>
<li><p>Make import hooks require Execer</p></li>
<li><p>Simplified foreign functions</p></li>
<li><p>Updated tutorial.rst to clarify use of time_format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vox</span> <span class="pre">new</span></code> will use default python version of the system rather than the one vox is run with</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">web</span></code> now shows latest xontribs available from <code class="docutils literal notranslate"><span class="pre">xonsh.xontribs_meta</span></code></p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$XONSH_GITSTATUS_*</span></code> is removed
since the prompt fields can be customized easily now individually.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$XONSH_GITSTATUS_FIELDS_HIDDEN</span></code> is removed.
Please set hidden fields in <code class="docutils literal notranslate"><span class="pre">$PROMPT_FIELDS['gitstatus'].hidden</span> <span class="pre">=</span> <span class="pre">(...)</span></code></p></li>
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">xonsh.ptk2</span></code> module whcih was kept for some old packages sake. Now xonsh requires atleast ptk3 version.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Some of the bash completions scripts can change path starting with ‘~/’ to <cite>/home/user/</cite> during autocompletion.
xonsh <cite>bash_completions</cite> does not expect that, so it breaks autocompletion by producing paths like <cite>~/f/home/user/foo</cite>.
After the fix if bash returns changed paths then <cite>/home/user</cite> prefix will be replaced with <cite>~/</cite>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span></code> completer now handles path completions correctly</p></li>
<li><p>SyntaxErrors thrown during compilation (i.e. not during parsing) now include the offending source line.</p></li>
<li><p>If a .xsh file is imported, the resulting module will now always have an absolute __file__ attribute to be consistent with pythons behavior since python 3.4.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$CONDA_DEFAULT_ENV</span></code> is now respected when xonsh is run outside of conda.</p></li>
<li><p>Fixed unpacking of dictionaries inside a dictionary</p></li>
<li><p>Empty or comments only .xsh files can now be imported to align with pythons behavior.</p></li>
<li><p>Fixed regex globbing for file paths that contain special regex characters (e.g. “test*1/model”)</p></li>
<li><p>Fixed list comprehension in return statement incorrectly being parsed as a subprocess command.</p></li>
<li><p>Fixed the expansion of $XONSH_TRACEBACK_LOGFILE user paths (e.g. “~/log”)</p></li>
<li><p>Fixed DeprecationWarning when providing autocompletion for a non-callable type with <code class="docutils literal notranslate"><span class="pre">(</span></code></p></li>
<li><p>OSC codes in <code class="docutils literal notranslate"><span class="pre">$PROMPT</span></code> is no longer removed when using ptk shell.
These codes need to be escaped with <code class="docutils literal notranslate"><span class="pre">\001..\002</span></code> instead.</p></li>
<li><p>Attempt to show a modal cursor in vi_mode (ie. block in cmd, bar in ins)</p></li>
<li><p>Xonsh can now be used in VIM (e.g. by “:read !ls” if VIM is configured to use xonsh. This may be the case when xonsh is the default shell.)</p></li>
<li><p>Fixed OSError on Windows when GnuWin32 is installed in the PATH.</p></li>
<li><p>Do not show welcome message when any <code class="docutils literal notranslate"><span class="pre">$XONSHRC_DIR</span></code> directory entry exists.</p></li>
<li><p>SyntaxErrors now get initialized with all available fields so that the error message can be formatted properly.</p></li>
<li><p>Raising BaseException no longer causes Xonsh to crash (fix #4567)</p></li>
<li><p>Exceptions in user code when using xonsh non-interactively no longer simply crash xonsh, rather a proper stacktrace is printed and also postmain() is called.</p></li>
<li><p>Tracebacks will now show the correct filename (i.e. as in python) for interactive use “&lt;stdin&gt;”, scripts read by stdin “&lt;stdin&gt;” and -c commands “&lt;string&gt;”. (Instead of MD5 hashes as filenames or “&lt;xonsh-code&gt;”)</p></li>
<li><p>Default ZSH FUNCSCMD was not working in ZSH 5.8 (and possibly other versions)</p></li>
<li><p>Passing multiple files to be sourced to source-foreign was broken</p></li>
<li><p>prompt field <code class="docutils literal notranslate"><span class="pre">current_branch</span></code> will now work empty git repository.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>anki-code</p></li>
<li><p>Daniel Shimon</p></li>
<li><p>Peter Ye</p></li>
<li><p>Jason R. Coombs</p></li>
<li><p>dev2718</p></li>
<li><p>Evgeny</p></li>
<li><p>Angus Hollands</p></li>
<li><p>omjadas</p></li>
<li><p>Oliver Bestwalter</p></li>
<li><p>Samuel Dion-Girardeau</p></li>
<li><p>Ryan Delaney</p></li>
<li><p>E Pluribus Unum</p></li>
<li><p>ylmrx</p></li>
<li><p>Hierosme</p></li>
<li><p>Kyllingene</p></li>
<li><p>zzj</p></li>
<li><p>Daniel</p></li>
<li><p>Ganer</p></li>
<li><p>mattmc3</p></li>
<li><p>Evan Hubinger</p></li>
</ul>
</section>
<section id="v0-11-0">
<h2>v0.11.0<a class="headerlink" href="#v0-11-0" title="Link to this heading">¶</a></h2>
</section>
<section id="id2">
<h2>v0.11.0<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>added new utility classes <code class="docutils literal notranslate"><span class="pre">xonsh.cli_utils.ArgParserAlias</span></code>, <code class="docutils literal notranslate"><span class="pre">xonsh.cli_utils.ArgCompleter</span></code>.
These are helper classes, that add coloring and auto-completion support to the alias-commands.</p></li>
<li><p>when <code class="docutils literal notranslate"><span class="pre">$ENABLE_ASYNC_PROMPT=True</span></code> lazy load <code class="docutils literal notranslate"><span class="pre">prompt-toolkit</span></code>’s color-input support.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">CTRL-Right</span></code> key binding to complete a single auto-suggestion word.</p></li>
<li><p>Show environment variables’ type and descriptions when completing them.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">CTRL-Backspace</span></code> key binding to delete a single word via <code class="docutils literal notranslate"><span class="pre">$XONSH_CTRL_BKSPC_DELETION</span></code>.</p></li>
<li><p>Improved <code class="docutils literal notranslate"><span class="pre">pip</span></code>/<code class="docutils literal notranslate"><span class="pre">xpip</span></code> completer.</p></li>
<li><p>Separator used by gitstatus can now be styled using <code class="docutils literal notranslate"><span class="pre">XONSH_GITSTATUS_SEPARATOR</span></code>.</p></li>
<li><p>Complete ‘import’ statements with modules that aren’t loaded.</p></li>
<li><p>Complete multiple modules/objects in ‘import’ statements.</p></li>
<li><p>Multiple new metadata fields in <code class="docutils literal notranslate"><span class="pre">setup.py</span></code></p></li>
<li><p>Pure Python control files are now supported when named <code class="docutils literal notranslate"><span class="pre">*.py</span></code>.
Using python files may lower the startup time by a bit.</p></li>
<li><p>new environment variable <code class="docutils literal notranslate"><span class="pre">$XONSH_TRACE_SUBPROC_FUNC</span></code>
to handle <code class="docutils literal notranslate"><span class="pre">$XONSH_TRACE_SUBPROC</span></code> output</p></li>
<li><p>Added <cite>xontrib-pyrtn &lt;https://github.com/dyuri/xontrib-pyrtn&gt;</cite> to xontrib list.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Display error message when running <cite>xonfig colors</cite> in a non-interactive shell</p></li>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">ArgparserAlias</span></code> for <code class="docutils literal notranslate"><span class="pre">dirs</span></code>, <code class="docutils literal notranslate"><span class="pre">popd</span></code>, <code class="docutils literal notranslate"><span class="pre">pushd</span></code></p></li>
<li><p>use <code class="docutils literal notranslate"><span class="pre">ArgparserAlias</span></code> for <code class="docutils literal notranslate"><span class="pre">disown</span></code> alias with completion support</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">history</span></code> alias now has colored help message and completion support when running interactively.</p></li>
<li><p>using <code class="docutils literal notranslate"><span class="pre">ArgparserAlias</span></code> for <code class="docutils literal notranslate"><span class="pre">trace</span></code> alias with completion support</p></li>
<li><p>improve <code class="docutils literal notranslate"><span class="pre">vox</span></code> CLI completions</p></li>
<li><p>use ArgparserAlias for <code class="docutils literal notranslate"><span class="pre">xexec</span></code>. Now it supports completions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonfig</span></code> now has colored help message when ran interactively.</p></li>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">ArgparserAlias</span></code> to improve <code class="docutils literal notranslate"><span class="pre">xontrib</span></code> completions</p></li>
<li><p>Changed !() to also capture background subprocesses</p></li>
<li><p>Suggested commands are cached for better performance.</p></li>
<li><p>Improved pipelines performance by using a mutable buffer.</p></li>
<li><p>Curly braces { } in directory names are now escaped in the prompt</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">--rc</span></code> argument is extended to support directories as well as files.
Passing a directory will result in all <code class="docutils literal notranslate"><span class="pre">*.xsh</span></code> files in the directory being
sorted and loaded at startup (equivalent to using the environment variable
<code class="docutils literal notranslate"><span class="pre">XONSHRC_DIR</span></code>).</p></li>
<li><p>The environment variables <code class="docutils literal notranslate"><span class="pre">XONSHRC</span></code> and <code class="docutils literal notranslate"><span class="pre">XONSHRC_DIR</span></code> are no longer updated by xonsh on
startup according to which files were actually loaded. This caused problems if xonsh is called
recursively, as the child shells would inherit the modified startup environment of the parent.
These variables will now be left untouched, and the actual RC files loaded (according to those
variables and command line arguments) can be seen in the output of <code class="docutils literal notranslate"><span class="pre">xonfig</span></code>.</p></li>
<li><p>Replaced <a class="reference external" href="https://github.com/eugenesvk/xontrib-linuxbrew">xontrib-linuxbrew</a> with <a class="reference external" href="https://github.com/eugenesvk/xontrib-homebrew">xontrib-homebrew</a>, which also supports Homebrew on macOS</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>Completely dropped the deprecated <code class="docutils literal notranslate"><span class="pre">--config-path</span></code> argument, which no longer
did anything.</p></li>
<li><p>The environment variable <code class="docutils literal notranslate"><span class="pre">LOADED_RC_FILES</span></code> is no longer set. It contained a list of booleans
as to which RC files had been successfully loaded, but it required knowledge of the RC loading
internals to interpret which status corresponded to which file. As above, the (successfully)
loaded RC files are now shown in <code class="docutils literal notranslate"><span class="pre">xonfig</span></code>.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Add quotes in autocomplete when filename contains brackets</p></li>
<li><p>Handle <code class="docutils literal notranslate"><span class="pre">None</span></code> value on XSH.env if <code class="docutils literal notranslate"><span class="pre">$UPDATE_OS_ENVIRON</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
<li><p>Implemented <cite>__hash__</cite> method to Env, so that it can be used in <cite>lru_cache</cite> without crashing.</p></li>
<li><p>Make sure aliases are always captured regardless of <code class="docutils literal notranslate"><span class="pre">$XONSH_CAPTURE_ALWAYS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fromdircolors</span></code> doesn’t crash if output from subprocess call to <code class="docutils literal notranslate"><span class="pre">dircolors</span></code> returns
nothing (usually due to permission errors)</p></li>
<li><p>Fixed issue with environment not being iterable on session objects.</p></li>
<li><p>Fixed issue where environment is None in commands cache.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">${...}.swap()</span></code> can be called from multiple threads safetly.</p></li>
<li><p>Piping multiple function aliases doesn’t raise a recursion error anymore.</p></li>
<li><p>Fixed detection of App Execution Alias for latest 3.8 and 3.9 releases</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Jedi</span></code> completer doesn’t complete paths with <code class="docutils literal notranslate"><span class="pre">~</span></code>.</p></li>
<li><p>Sometimes the completion menu doesn’t take space when cursor is at the bottom of the screen.</p></li>
<li><p>vox now passes system-site-packages option</p></li>
<li><p>Fix Duplicate paths left over when add paths to Path via xonsh.tools.EnvPath</p></li>
<li><p>Fix  Crash with FileNotFoundError when current working directory is deleted #4467</p></li>
<li><p>Completing a single-arg python code segment (e.g. <code class="docutils literal notranslate"><span class="pre">&#64;(/etc/hos&lt;TAB&gt;)</span></code>).</p></li>
<li><p>Fixed pipelines in WSL2</p></li>
<li><p>Newline symbols in Prompt-toolkit’s completions are replaced by &lt;space&gt;</p></li>
<li><p>Fix launching processes on Windows by using full paths (<a class="reference external" href="https://bugs.python.org/issue8557">https://bugs.python.org/issue8557</a>)</p></li>
</ul>
</section>
<section id="v0-10-1">
<h2>v0.10.1<a class="headerlink" href="#v0-10-1" title="Link to this heading">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">execx</span></code> and <code class="docutils literal notranslate"><span class="pre">xonsh</span> <span class="pre">-c</span></code> previously exposed xonsh-internal code in global scope. They also did not support defining variables and then referring to them in comprehensions, generators, functions, or lambdas. - <a class="reference external" href="https://github.com/xonsh/xonsh/issues/4363">https://github.com/xonsh/xonsh/issues/4363</a></p></li>
<li><p>Short color token names can be used in <code class="docutils literal notranslate"><span class="pre">register_custom_style()</span></code> (#4339)</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gyuri Horak</p></li>
<li><p>Jeremy Schlatter</p></li>
</ul>
</section>
<section id="v0-10-0">
<h2>v0.10.0<a class="headerlink" href="#v0-10-0" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p>Added ability to set XONSH_HISTORY_FILE before loading the history backend.</p></li>
<li><p>Added ability to get the arguments list in ExecAlias using <code class="docutils literal notranslate"><span class="pre">$args</span></code> and <code class="docutils literal notranslate"><span class="pre">$arg&lt;n&gt;</span></code> environment variables.</p></li>
<li><p>Added instruction how to run xonsh AppImage on Alpine</p></li>
<li><p>Xonsh now supports generators as completer functions.</p></li>
<li><p>Completion Context - Allow completers to access a parsed representation of the current commandline context.</p></li>
<li><p>Added casting CommandPipeline to int, hash and str.</p></li>
<li><p>Ability to call the tool by the name from callable alias with the same name without the infinite loop error.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">on</span> <span class="pre">wsl</span></code> field when running xonfig (when linux is detected)</p></li>
<li><p>Help and superhelp (<code class="docutils literal notranslate"><span class="pre">obj?</span></code> and <code class="docutils literal notranslate"><span class="pre">obj??</span></code>) now use the <code class="docutils literal notranslate"><span class="pre">__name__</span></code> if available.</p></li>
<li><p>added <code class="docutils literal notranslate"><span class="pre">$XONSH_GITSTATUS_FIELDS_TO_HIDE</span></code> to hide unwanted fields from <code class="docutils literal notranslate"><span class="pre">{gitstatus}</span></code> prompt field.</p></li>
<li><p>Added number of lines added and removed to gitstatus</p></li>
<li><p>Saving current working directory (cwd) to the history.</p></li>
<li><p>Added XONSH_HISTORY_SAVE_CWD environment variable.</p></li>
<li><dl class="simple">
<dt>Added environment variable <code class="docutils literal notranslate"><span class="pre">$COMPLETE_DOTS</span></code> to specify how current and previous directories should be tab completed in cd  (‘./’, ‘../’):</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">always</span></code> Always complete paths with ./ and ../</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">never</span></code> Never complete paths with ./ and ../</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">matching</span></code> Complete if path starts with . or ..</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Complete <code class="docutils literal notranslate"><span class="pre">import</span></code> keyword in <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">...</span> <span class="pre">import</span></code> statements.</p></li>
<li><p>Enabled case-insensitive completions for the <code class="docutils literal notranslate"><span class="pre">jedi</span></code> xontrib.</p></li>
<li><p>Non-exclusive completers that enable aggregating multiple completer results.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">$XONSH_CAPTURE_ALWAYS</span></code> variable for opt-in interactive capturing.
Since this capturing breaks background jobs and some interactive programs (like <code class="docutils literal notranslate"><span class="pre">git</span></code> invoking an editor),
This behavior is now opt-in using this variable.
See <a class="reference external" href="https://github.com/xonsh/xonsh/pull/4283">https://github.com/xonsh/xonsh/pull/4283</a> and linked issues.</p></li>
<li><p>Wrap selection with quote/parens when <code class="docutils literal notranslate"><span class="pre">$XONSH_AUTOPAIR=True</span></code>.</p></li>
<li><p>Now xonsh will work with Python 3.10. (Match statement is not supported).</p></li>
<li><p>In addition to reading single rc files at startup (<code class="docutils literal notranslate"><span class="pre">/etc/xonshrc</span></code>, <code class="docutils literal notranslate"><span class="pre">~/.config/xonsh/rc.xsh</span></code>),
xonsh now also supports rc.d-style config directories, from which all files are sourced. This is
designed to support drop-in style configuration where you could, for example, have a common config
file shared across multiple machines and a separate machine specific file.</p>
<p>This is controlled by the environment variable <code class="docutils literal notranslate"><span class="pre">XONSHRC_DIR</span></code>, which defaults to
<code class="docutils literal notranslate"><span class="pre">[&quot;/etc/xonsh/rc.d&quot;,</span> <span class="pre">&quot;~/.config/xonsh/rc.d&quot;]</span></code>. If those directories exist, then any <code class="docutils literal notranslate"><span class="pre">xsh</span></code> files
contained within are sorted and then sourced.</p>
</li>
<li><p>Added xontrib-prompt-starship - Starship prompt in xonsh shell.</p></li>
<li><p>Added XONSH_SUBPROC_CAPTURED_PRINT_STDERR (default False) environment variable to hide unwanted printing the stderr when using captured object.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">$XONSH_TRACE_COMPLETIONS</span></code> variable for completions debugging.</p></li>
<li><p>Added warning about prompt-toolkit in the welcome message.</p></li>
<li><p>Added history backend name to the xonfig.</p></li>
<li><p><a class="reference external" href="https://github.com/eugenesvk/xontrib-linuxbrew">xontrib-linuxbrew</a> to add Homebrew’s shell environment to xonsh shell on Linux</p></li>
<li><p>Added xontrib-macro-lib - the library of the useful macros for the xonsh shell: <a class="reference external" href="https://github.com/anki-code/xontrib-macro-lib">https://github.com/anki-code/xontrib-macro-lib</a></p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>update imphooks encoding regex to match the newer version at PEP 263</p></li>
<li><p>Enabled bracketed paste mode for readline to protect against paste jacking</p></li>
<li><p>The group of environment variables around history moved to the “Interactive Prompt History” section.</p></li>
<li><p>Disabled completing subpaths for commands in <code class="docutils literal notranslate"><span class="pre">jedi</span></code>.</p></li>
<li><p>Improved <code class="docutils literal notranslate"><span class="pre">which</span></code> output for non-simple aliases</p></li>
<li><p>New json history will be in XONSH_DATA_DIR/history_json directory.</p></li>
<li><p>Completers for <code class="docutils literal notranslate"><span class="pre">and/or</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;&amp;/||/|</span></code> and environment variables are now non-exclusive.</p></li>
<li><p>Disabled ptk copying words/lines to clipboard on deletion (can be re-enabled with <code class="docutils literal notranslate"><span class="pre">$XONSH_COPY_ON_DELETE</span></code>).</p></li>
<li><p>Separated between <code class="docutils literal notranslate"><span class="pre">XONSH_DEBUG</span></code> and <code class="docutils literal notranslate"><span class="pre">XONSH_NO_AMALGAMATE</span></code>. Setting <code class="docutils literal notranslate"><span class="pre">XONSH_DEBUG=1</span></code> now acts like <code class="docutils literal notranslate"><span class="pre">XONSH_DEBUG=2</span></code> before (basic information like input transformation, command replacement) and <code class="docutils literal notranslate"><span class="pre">XONSH_DEBUG=2</span></code> like <code class="docutils literal notranslate"><span class="pre">XONSH_DEBUG=1</span></code> before (more debugging information presented, like PLY parsing messages).</p></li>
<li><p>Cleaned up available aliases for <code class="docutils literal notranslate"><span class="pre">shell_type</span></code></p></li>
<li><p>Speedup commands-cache by saving results between runs and use the last run’s result</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">completer</span> <span class="pre">add</span></code> command after the non-exclusive completers.
This means it will not block them from adding their completions.</p></li>
<li><p>Updated the tab-completion tutorial.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>handle importing/decoding user modules with a ‘UTF-8 with BOM’ encoding (#4160)</p></li>
<li><p>Fixed XONSH_HISTORY_FILE that has the actual path from the history backend now</p></li>
<li><p>Annotated assignments (<code class="docutils literal notranslate"><span class="pre">x:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">42</span></code>, <code class="docutils literal notranslate"><span class="pre">x:</span> <span class="pre">int</span></code>).</p></li>
<li><p>Fixed xpip sudo behavior in xonsh AppImage.</p></li>
<li><p>Prevent cancelled future errors for async prompt ($ENABLE_ASYNC_PROMPT) fields from bubbling up (and destroying the prompt’s formatting)</p></li>
<li><p>$() no longer silently captures stderr</p></li>
<li><p>Added catching callable argument and raising appropriate exception</p></li>
<li><p>Crashing command-not-found output for bad file names on linux.</p></li>
<li><p>Fixed error message when an empty command is run</p></li>
<li><p>Fixed &#64;$ crash when no output is sent out by the command</p></li>
<li><p>Fixed xonsh crash when launched using <cite>xonsh -c ‘$(“”)’</cite></p></li>
<li><p>now abbrevs callback will not remove word from <code class="docutils literal notranslate"><span class="pre">buffer.text</span></code>. See <a class="reference external" href="https://github.com/xonsh/xonsh/issues/3642#issuecomment-793789741">https://github.com/xonsh/xonsh/issues/3642#issuecomment-793789741</a></p></li>
<li><p>Fixed the incorrect SyntaxError that was thrown when a subprocess command was preceded by a comment ending with a colon</p></li>
<li><p>Fixed the missing auto-indentation in readline and prompt_toolkit when a statement ending with a colon was followed by a comment</p></li>
<li><p>Fixed the incorrect auto-indentation in prompt_toolkit when a comment ended with a colon</p></li>
<li><p>Fixed JSON history garbage collection for XONSH_HISTORY_SIZE in seconds.</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">skip</span></code> completer (completes <code class="docutils literal notranslate"><span class="pre">sudo</span></code>, <code class="docutils literal notranslate"><span class="pre">which</span></code> and other commands).</p></li>
<li><p>In a subprocess command, having whitespace in between the left bracket and the command no longer raises a SyntaxError.</p></li>
<li><p>Reduced history reading when run script or command. Potential speed increasing.</p></li>
<li><p>Fixed crash on statup if XONSH_COLOR_STYLE is set to something invalid.</p></li>
<li><p>Fixed the colorize and/or keywords.</p></li>
<li><p>Functions can be used for $TITLE, the same way as for $PROMPT. (#4148)</p></li>
<li><p>wsl detection works on archlinux wsl2 now (and hopefully everywhere)</p></li>
<li><p>Fixed an exception when run xonfig wizard in no RC mode.</p></li>
<li><p>Bash completions now handle quoted and space-containing arguments better.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">import</span></code> completions always work.</p></li>
<li><p>Test consistent RC loading behaviour in a variety of startup scenarios</p></li>
<li><p>Absolute paths to executables don’t break bash completions anymore</p></li>
<li><p>Fix colors and text in the welcome message.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>anki-code</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>Gyuri Horak</p></li>
<li><p>Daniel Shimon</p></li>
<li><p>Matthias Bussonnier</p></li>
<li><p>Gordon Ball</p></li>
<li><p>cryzed</p></li>
<li><p>Peter Ye</p></li>
<li><p>Evgeny</p></li>
<li><p>Jeremy Schlatter</p></li>
<li><p>jmoranos</p></li>
<li><p>Walter A. Boring IV</p></li>
<li><p>bhawkins</p></li>
<li><p>JackofSpades707</p></li>
<li><p>Luiz Antonio Lazoti</p></li>
<li><p>francium</p></li>
</ul>
</section>
<section id="v0-9-27">
<h2>v0.9.27<a class="headerlink" href="#v0-9-27" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Add new internal command “disown” to remove background jobs from the shell’s job list</p></li>
<li><p>Python3.9 issues with subscriptor forms fixed.</p></li>
<li><p>added <a class="reference external" href="https://github.com/eugenesvk/xontrib-cd">xontrib-cd</a></p></li>
<li><p>Added <strong>xontrib-history-encrypt</strong> - new history backend that encrypt the xonsh shell commands history to prevent leaking sensitive data. If you like the idea give a star to the repository <a class="reference external" href="https://github.com/anki-code/xontrib-history-encrypt">https://github.com/anki-code/xontrib-history-encrypt</a></p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>New awesome landing on <a class="reference external" href="https://xon.sh">https://xon.sh</a> - feel free to share and tweet!</p></li>
<li><p>History files (json, sqlite) now have 600 (rw only for user) permission by default.</p></li>
<li><p>PTK(python-prompt-toolkit) is no longer vendored with xonsh.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed a bug where “cd” and “rmdir” would return non-directory completions</p></li>
<li><p>SQLite History Backend: show message instead of exiting when disk is full.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>anki-code</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>Tejasvi S Tomar</p></li>
<li><p>Evgeny</p></li>
<li><p>Adam Schwalm</p></li>
<li><p>Nate Simon</p></li>
</ul>
</section>
<section id="v0-9-26">
<h2>v0.9.26<a class="headerlink" href="#v0-9-26" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>abbrevs now support callbacks</p></li>
<li><p>Added a new xontrib <code class="docutils literal notranslate"><span class="pre">tcg</span></code></p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>now xonsh stdout delegates <code class="docutils literal notranslate"><span class="pre">isatty</span></code> to wrapped io stream.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>anki-code</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>Gao, Xiang</p></li>
</ul>
</section>
<section id="v0-9-25">
<h2>v0.9.25<a class="headerlink" href="#v0-9-25" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p>VC_GIT_INCLUDE_UNTRACKED environment variable if untracked file changes are desired to show a dirty working directory</p></li>
<li><p>added <a class="reference external" href="https://github.com/vaaaaanquish/xontrib-powerline2">xontrib-powerline2</a></p></li>
<li><p>Add ‘<code class="docutils literal notranslate"><span class="pre">|</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">|=</span></code>’ operators to the <code class="docutils literal notranslate"><span class="pre">Aliases</span></code> class.</p></li>
<li><p>Add tests to the merging functionality.</p></li>
<li><p>Add “back2dir” xontrib (<a class="reference external" href="https://github.com/anki-code/xontrib-back2dir">https://github.com/anki-code/xontrib-back2dir</a>) - back to the latest used directory when starting xonsh shell.</p></li>
<li><p>show code-coverage for PRs</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">CommandPipeline.raw_out</span></code> and <code class="docutils literal notranslate"><span class="pre">CommandPipeline.raw_err</span></code> to get stdout/err as raw bytes.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">&#64;()</span></code> operator now supports <code class="docutils literal notranslate"><span class="pre">bytes</span></code> objects.</p></li>
<li><p>index for history’s sqlite-DB</p></li>
<li><p>support passing style from RichCompleter to PTK’s Completer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.cli_utils</span></code> to create cli from functions easily.</p></li>
<li><p>Python API for completer command with <code class="docutils literal notranslate"><span class="pre">xonsh.completer</span></code> module functions.</p></li>
<li><dl class="simple">
<dt>Added new environment variable <code class="docutils literal notranslate"><span class="pre">$PROMPT_TOKENS_FORMATTER</span></code>.</dt><dd><p>That can be used to set a callable that receives all tokens in the prompt template.
It gives option to format the prompt with different prefix based on other tokens values.
Enables users to implement something like [powerline](<a class="reference external" href="https://github.com/vaaaaanquish/xontrib-powerline2">https://github.com/vaaaaanquish/xontrib-powerline2</a>)
without resorting to separate $PROMPT_FIELDS. Works with <code class="docutils literal notranslate"><span class="pre">ASYNC_PROMPT</span></code> as well.
Check the <a class="reference external" href="https://github.com/xonsh/xonsh/pull/3922">PR</a> for a snippet implementing powerline</p>
</dd>
</dl>
</li>
<li><p>PTK style rules can be defined in custom styles using the <code class="docutils literal notranslate"><span class="pre">Token.PTK</span></code> token prefix.
For example <code class="docutils literal notranslate"><span class="pre">custom_style[&quot;Token.PTK.CompletionMenu.Completion.Current&quot;]</span> <span class="pre">=</span> <span class="pre">&quot;bg:#ff0000</span> <span class="pre">#fff&quot;</span></code> sets the <code class="docutils literal notranslate"><span class="pre">completion-menu.completion.current</span></code> PTK style to white on red.</p></li>
<li><p>Added new environment variable <code class="docutils literal notranslate"><span class="pre">XONSH_STYLE_OVERRIDES</span></code>. It’s a dictionary containing pygments/ptk style definitions that overrides the styles defined by <code class="docutils literal notranslate"><span class="pre">XONSH_COLOR_STYLE</span></code>.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$XONSH_STYLE_OVERRIDES[&quot;Token.Literal.String.Single&quot;] = &quot;#00ff00&quot;  # green &#39;strings&#39; (pygments)
$XONSH_STYLE_OVERRIDES[&quot;completion-menu&quot;] = &quot;bg:#ffff00 #000&quot;  # black on yellow completion (ptk)
$XONSH_STYLE_OVERRIDES[&quot;Token.PTK.CompletionMenu.Completion.Current&quot;] = &quot;bg:#ff0000 #fff&quot; # current completion is white on red (ptk via pygments)
</pre></div>
</div>
</li>
<li><dl class="simple">
<dt>support PTK’s clipboard integration if pyperclip is installed.</dt><dd><p>So that some common emacs like
<a class="reference external" href="https://github.com/prompt-toolkit/python-prompt-toolkit/blob/master/examples/prompts/system-clipboard-integration.py">cut/copy</a>
will work out of the box.</p>
</dd>
</dl>
</li>
<li><p>Added Python 3.9 to continuous integration.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">open</span> <span class="pre">in</span> <span class="pre">google</span> <span class="pre">cloud</span> <span class="pre">shell</span></code> button 🤩</p></li>
<li><p>Respect ignorespace present in $HISTCONTROL</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_get_normalized_pstring_quote</span></code> returns a consistent set of prefixes, and the quote, for all path-string variants e.g. inputs <code class="docutils literal notranslate"><span class="pre">pr'</span></code> and <code class="docutils literal notranslate"><span class="pre">rp'</span></code> both produce the tuple <code class="docutils literal notranslate"><span class="pre">(&quot;pr&quot;,</span> <span class="pre">&quot;'&quot;)</span></code>. This function is used by <code class="docutils literal notranslate"><span class="pre">xonsh.completers.complete_path</span></code> and <code class="docutils literal notranslate"><span class="pre">xonsh.completers._path_from_partial_string</span></code>.</p></li>
<li><p>Added warning about huge amount of commands in CommandsCache that could affect on start speed.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.procs</span></code> subpackage for handling subprocess mode.</p></li>
<li><p>Environment variable <code class="docutils literal notranslate"><span class="pre">$COMPLETION_MODE</span></code> controls kind of TAB completion used with prompt-toolkit shell.
<code class="docutils literal notranslate"><span class="pre">default</span></code>, the default, retains prior Xonsh behavior: first TAB displays the common prefix of matching completions,
next TAB selects the first or next available completion.
<code class="docutils literal notranslate"><span class="pre">menu-complete</span></code> enables TAB behavior like <code class="docutils literal notranslate"><span class="pre">readline</span></code> command <code class="docutils literal notranslate"><span class="pre">menu-complete</span></code>.  First TAB selects the first matching
completion, subsequent TABs cycle through available completions till the last one.  Next TAB after that displays
the common prefix, then the cycle repeats.</p></li>
<li><p>Added timing probes for prompt tokens, lexer and before prompt.</p></li>
<li><p>improve github actions by adding cache</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xog</span></code> xontrib - a simple command to establish and print temporary traceback
log file.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">xontribs</span></code> section to the <code class="docutils literal notranslate"><span class="pre">xonfig</span></code>.</p></li>
<li><p>added xontrib-avox-poetry(<a class="reference external" href="http://github.com/jnoortheen/xontrib-avox-poetry">http://github.com/jnoortheen/xontrib-avox-poetry</a>)</p></li>
<li><p>added xontrib-broot(<a class="reference external" href="http://github.com/jnoortheen/xontrib-broot">http://github.com/jnoortheen/xontrib-broot</a>)</p></li>
<li><p>added <a class="reference external" href="https://github.com/jnoortheen/xontrib-cmd-durations">xontrib-long-cmd-durations</a></p></li>
<li><p>added <a class="reference external" href="https://github.com/jnoortheen/xontrib-commands">xontrib-commands</a></p></li>
<li><p>added xontrib-powerline3(<a class="reference external" href="http://github.com/jnoortheen/xontrib-powerline3">http://github.com/jnoortheen/xontrib-powerline3</a>)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">xontrib-zoxide</span></code> to the list of xontribs.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">xontrib-gitinfo</span></code> to the list of xontribs.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CommandPipeline.__repr__</span></code> now returns formatted output wherein its printed
attributes are also repr strings. This improves the output of <code class="docutils literal notranslate"><span class="pre">!()</span></code>.</p></li>
<li><p>prompt-toolkit required version updated to &gt;=3.0</p></li>
<li><p>group environment variables into categories.</p></li>
<li><p>The SQLite history backend now has the same logic of storing stdout to the memory like json history backend.</p></li>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">ujson</span></code> (if installed) in LazyJSON to loading json history 15% faster.</p></li>
<li><p>use requirements.txt env in both CI/local/pre-commit checks</p></li>
<li><p>add caching to CI jobs to improve speed</p></li>
<li><p>The change that allows Nuitka build the xonsh binary.</p></li>
<li><p>Remove <code class="docutils literal notranslate"><span class="pre">p</span></code>, <code class="docutils literal notranslate"><span class="pre">rp</span></code> and <code class="docutils literal notranslate"><span class="pre">pr</span></code> prefix from partial p-string used in <code class="docutils literal notranslate"><span class="pre">xonsh.completers._path_from_partial_string</span></code>, such that <code class="docutils literal notranslate"><span class="pre">ast.literal_eval</span></code> does not raise <code class="docutils literal notranslate"><span class="pre">SyntaxError</span></code>. <code class="docutils literal notranslate"><span class="pre">pr</span></code> and <code class="docutils literal notranslate"><span class="pre">rp</span></code> strings are now treated internally as raw strings, but the p-string quote is correctly returned.</p></li>
<li><p>Increment the prefix length when the prefix input to <code class="docutils literal notranslate"><span class="pre">xonsh.completers.complete_path</span></code> is a p-string. This preserves the length of the prefix for path-string variants.</p></li>
<li><p>Pygments debug messages about cache will be shoen only in debug mode.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ulimit</span></code> builtin now operates on “soft” limits by default.</p></li>
<li><p>tests for vc-branch should accept both master and main</p></li>
<li><p>upgrade black formatter to version 20.8b1</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">xontribs_meta.py</span></code> instead of <code class="docutils literal notranslate"><span class="pre">xontribs.json</span></code></p></li>
<li><p>Welcome message cosmetic changes.</p></li>
<li><p>rewrite xontribs/jedi.xsh -&gt; xontribs/jedi.py to take advantage of python tooling</p></li>
</ul>
<p><strong>Deprecated:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PTK_STYLE_OVERRIDES</span></code> has been deprecated, its function replaced by <code class="docutils literal notranslate"><span class="pre">XONSH_STYLE_OVERRIDES</span></code></p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">xonsh.proc</span></code> module has been deprecated. Please use the new
<code class="docutils literal notranslate"><span class="pre">xonsh.procs</span></code> subpackage instead. Deprecation warnings related to this
have been added.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>The deprecated <code class="docutils literal notranslate"><span class="pre">foreground</span></code> decorator has been removed.
Please use <code class="docutils literal notranslate"><span class="pre">unthreadable</span></code> instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.proc.unthreadable</span></code> and <code class="docutils literal notranslate"><span class="pre">xonsh.proc.uncapturable</span></code>
have been moved to <code class="docutils literal notranslate"><span class="pre">xonsh.tools</span></code>. Please import from
this module instead.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul>
<li><p>Now the directory and the symlink to this directory will be read from PATH once. Increasing the startup speed on Linux.</p></li>
<li><p>Environment variable registration no longer fails to validate when the default
is a callable.</p></li>
<li><p>Default values created from callables are stored on in the evironment.</p></li>
<li><p>Completers also recognize <code class="docutils literal notranslate"><span class="pre">:</span></code> as a valid split point for insertion for, e.g. pytest completions</p>
<p>pytest test_worker::&lt;TAB&gt;</p>
</li>
<li><p>Colorize <code class="docutils literal notranslate"><span class="pre">and</span></code>/<code class="docutils literal notranslate"><span class="pre">or</span></code> operators correctly like <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>/<code class="docutils literal notranslate"><span class="pre">||</span></code></p></li>
<li><p>Speed of CommandsCache increased when aliases have multiple updates (i.e. init conda).</p></li>
<li><p>Now when loading RC files, xonsh will not fail to import modules located on
the same folder.</p></li>
<li><p>Setting an alias with IO redirections (e.g <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">|</span> <span class="pre">wc</span></code>) now works correctly.</p></li>
<li><p>PTK shell: <code class="docutils literal notranslate"><span class="pre">window</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">childres</span></code> error while completion is triggered - <a class="reference external" href="https://github.com/xonsh/xonsh/issues/3963">https://github.com/xonsh/xonsh/issues/3963</a></p></li>
<li><p>make_xontrib - typerror - <a class="reference external" href="https://github.com/xonsh/xonsh/issues/3971">https://github.com/xonsh/xonsh/issues/3971</a></p></li>
<li><p>Fix libc detection on FreeBSD</p></li>
<li><p>Fix uptime functionality on FreeBSD</p></li>
<li><p>Updated History Backend tutorial.</p></li>
<li><p>enabled flake8 warning on ambiguous names. it is fun naming variables in coded words until oneday it looks like encrypted.</p></li>
<li><p>Added ANSI fallback for <code class="docutils literal notranslate"><span class="pre">xonsh.tools.print_color</span></code> if shell is not yet initialized. Fixes #3840.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">./run-tests.xsh</span></code> without arguments previously gave an esoteric error. It
now prints help on how to run the tests.</p></li>
<li><p>The git customisation example in the .xonshrc docs uses the right module name</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Jamie Bliss</p></li>
<li><p>a</p></li>
<li><p>David Strobach</p></li>
<li><p>Bob Hyman</p></li>
<li><p>anki-code</p></li>
<li><p>Gyuri Horak</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>Carmen Bianca Bakker</p></li>
<li><p>Danny Sepler</p></li>
<li><p>vaaaaanquish</p></li>
<li><p>Daniel Shimon</p></li>
<li><p>Jerzy Drozdz</p></li>
<li><p>Faris A Chugthai</p></li>
<li><p>Asaf Fisher</p></li>
<li><p>Dominic Ward</p></li>
<li><p>omjadas</p></li>
<li><p>Leandro Emmanuel Reina Kiperman</p></li>
<li><p>Henré Botha</p></li>
<li><p>Aneesh Durg</p></li>
<li><p>colons</p></li>
<li><p>yggdr</p></li>
</ul>
</section>
<section id="v0-9-24">
<h2>v0.9.24<a class="headerlink" href="#v0-9-24" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Ability to register custom styles via <code class="docutils literal notranslate"><span class="pre">xonsh.pyghooks.register_custom_style</span></code></p></li>
<li><p>Add method of escaping an environment variable from expansion to the Bash to Xonsh Translation Guide.</p></li>
<li><p>added mypy to the project. many of the errors are ignored. but it is a start.</p></li>
<li><p>Added example of subproc calling to the tutorial.</p></li>
<li><p>New xontrib-sh (<a class="reference external" href="https://github.com/anki-code/xontrib-sh">https://github.com/anki-code/xontrib-sh</a>) to paste and run snippets from bash, zsh, fish.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Now <code class="docutils literal notranslate"><span class="pre">COMPLETIONS_CONFIRM</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code> by default.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.AppImage</span></code> python version pinned to 3.8.</p></li>
<li><p>Cookiecutter template to creating new xontribs has many improvements (<a class="reference external" href="https://github.com/xonsh/xontrib-cookiecutter">https://github.com/xonsh/xontrib-cookiecutter</a>).</p></li>
<li><p>Docs sections improvement.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">random</span></code>.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>#1207 - custom color themes</p></li>
<li><p>Webconfig updarted for the <code class="docutils literal notranslate"><span class="pre">NO_COLOR</span></code> to <code class="docutils literal notranslate"><span class="pre">RESET</span></code> change.</p></li>
<li><p>async prompt field’s returns from earlier data</p></li>
<li><p>Async prompt will now support nested-format strings in prompts</p></li>
<li><p>handle None value for ASYNC_PROMPT_THREAD_WORKERS</p></li>
<li><p>Fixed f-strings parsing in Python 3.9</p></li>
<li><p>Fixed reset color in <code class="docutils literal notranslate"><span class="pre">xontrib</span> <span class="pre">list</span></code>.</p></li>
<li><p>Fixed NO_COLOR to RESET in prompt_ret_code and mplhooks.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>David Strobach</p></li>
<li><p>a</p></li>
<li><p>anki-code</p></li>
<li><p>Gyuri Horak</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>Will Shanks</p></li>
</ul>
</section>
<section id="v0-9-23">
<h2>v0.9.23<a class="headerlink" href="#v0-9-23" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>add API docs for ptk_shell.updator module</p></li>
<li><p>add flake8-docstrings to the project. it integrates pydocstyle to flake8.</p></li>
<li><p>Support for ANSI OSC escape sequences in <code class="docutils literal notranslate"><span class="pre">$PROMPT</span></code>, setting <code class="docutils literal notranslate"><span class="pre">$TITLE</span></code> for example. (#374, #1403)</p></li>
<li><p>Now ptk_shell supports loading its sections in thread, speeding up the prompt. Enable it by setting <code class="docutils literal notranslate"><span class="pre">$ENABLE_ASYNC_PROMPT=True</span></code>.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">unset</span></code>, <code class="docutils literal notranslate"><span class="pre">export</span></code>, <code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">-e</span></code>, <code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">-x</span></code>, <code class="docutils literal notranslate"><span class="pre">shopt</span></code>, <code class="docutils literal notranslate"><span class="pre">complete</span></code> to xontrib bashisms.</p></li>
<li><p>Use command_cache when finding available commands, to speedup command-not-found suggestions</p></li>
<li><p>Added Visual Studio Code (VSCode) extension and Vim syntax file to the Editors page.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">exit(exit_code)</span></code> function by default in not interactive mode. Now importing <code class="docutils literal notranslate"><span class="pre">exit</span></code> from <code class="docutils literal notranslate"><span class="pre">sys</span></code> is not needed.</p></li>
<li><p>Added Python syntax highlighting of xsh files on Github repo xonsh/xonsh</p></li>
<li><p>history clear, history off and history on actions, for managing whether history in the current session is saved.</p></li>
<li><p>ValueErrors from environ.register now report the name of the bad env var</p></li>
<li><p>Add a new color <code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code> that is used to designate the terminal’s default color.</p></li>
<li><p>Add a new special color token <code class="docutils literal notranslate"><span class="pre">RESET</span></code> used to reset all attributes.</p></li>
<li><p>Add a new xonsh tool ‘print_warning’ that prints a traceback with a warning message.</p></li>
<li><p>Added <a class="reference external" href="https://github.com/anki-code/xontrib-onepath">xontrib-onepath</a> to associate files with apps in xonsh shell like in graphical OS.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">print_color</span></code> and <code class="docutils literal notranslate"><span class="pre">printx</span></code> functions to builtins as reference to <code class="docutils literal notranslate"><span class="pre">xonsh.tools.print_color</span></code>.</p></li>
<li><p>Added to xontrib whole_word_jumping: Shift+Delete hotkey to delete whole word.</p></li>
<li><p>Added “Advanced String Literals” to the “Tutorial”.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">jupyter-kernel</span></code> new subcommand to generate xonsh kernel spec for jupyter.
Installing a new xonsh kernel for jupyter automatically removes any other one registered with jupyter,
otherwise the new one might not be used.</p></li>
<li><p>Added xontrib <code class="docutils literal notranslate"><span class="pre">powerline-binding</span></code> (<a class="reference external" href="https://github.com/dyuri/xontrib-powerline-binding">https://github.com/dyuri/xontrib-powerline-binding</a>) - uses <code class="docutils literal notranslate"><span class="pre">powerline</span></code> to render the prompt.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Improved printing of xonsh <code class="docutils literal notranslate"><span class="pre">--shell-type</span></code> argument in help message.</p></li>
<li><p>“Bash to Xonsh Translation Guide” improvements.</p></li>
<li><p>More stable exception handling in the tab completer.</p></li>
<li><p>Changed sections order in docs</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">path</span></code> type in <code class="docutils literal notranslate"><span class="pre">${...}.register</span></code> was renamed to <code class="docutils literal notranslate"><span class="pre">env_path</span></code> as it should be and added
new <code class="docutils literal notranslate"><span class="pre">path</span></code> type instead that represent <code class="docutils literal notranslate"><span class="pre">pathlib.Path</span></code>. Now you can register typed environment
variables that will be converted to <code class="docutils literal notranslate"><span class="pre">Path</span></code>.</p></li>
<li><p>xonsh/environ.py: new rule: for “registered” environment variables (in <code class="docutils literal notranslate"><span class="pre">DEFAULT_VARS</span></code> or via <code class="docutils literal notranslate"><span class="pre">env.register()</span></code>),
if default is set to <code class="docutils literal notranslate"><span class="pre">DefaultNotGiven</span></code>, then variable has no default and raises <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> if it is not
actually defined in environment.  Likewise, <code class="docutils literal notranslate"><span class="pre">&quot;var&quot;</span> <span class="pre">in</span> <span class="pre">__xonsh__.env</span></code> will return False.</p></li>
<li><p>Changed defaults for ANSICON, TERM and VIRTUAL_ENV to <code class="docutils literal notranslate"><span class="pre">DefaultNotGiven</span></code>, so code can rationally test whether
the expected external program has defined these variables.  No need to do this for variables that xonsh
itself defines.</p></li>
<li><p>Moved internal uses of <code class="docutils literal notranslate"><span class="pre">NO_COLOR</span></code> to <code class="docutils literal notranslate"><span class="pre">RESET</span></code>.</p></li>
<li><p>When retrieving the git status or other fields for building the prompt xonsh will run
the git commands with <code class="docutils literal notranslate"><span class="pre">$GIT_OPTIONAL_LOCKS=0</span></code>.  For details on what this entails see
the git documentation for
<a class="reference external" href="https://git-scm.com/docs/git#Documentation/git.txt-codeGITOPTIONALLOCKScode/">GIT_OPTIONAL_LOCKS</a>.</p></li>
<li><p>Minor improvements to the get prompt speed. (Mostly in git.)</p></li>
<li><p>ptk key binding for TAB – hitting TAB to start completion now automatically selects the first displayed completion (if any).
hitting TAB when in insert mode inserts TAB, as heretofore.  This more exactly follows behavior of readline <code class="docutils literal notranslate"><span class="pre">menu-complete</span></code>.
There is no configuration option for tailoring this behavior.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">info</span></code> displays whether jupyter detected in environment and
also path of xonsh jupyter kernel spec, if any.</p></li>
<li><p>xontrib-argcomplete and xontrib-pipeliner description improvement.</p></li>
</ul>
<p><strong>Deprecated:</strong></p>
<ul class="simple">
<li><p>Deprecated the <code class="docutils literal notranslate"><span class="pre">NO_COLOR</span></code> color reset token in favor of <code class="docutils literal notranslate"><span class="pre">RESET</span></code>.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>Deprecated <code class="docutils literal notranslate"><span class="pre">--config-path</span></code> argument suppressed from help.</p></li>
<li><p>setup no longer (tries to) install jupyter kernel automatically,
user must run <code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">jupyter-kernel</span></code> manually.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>cygwin needs full path to find exe; disable thread_subprocs as default for cygwin</p></li>
<li><p>Fixed logic in git dirty working directory</p></li>
<li><p>Fixed type registration for <code class="docutils literal notranslate"><span class="pre">*DIRS</span></code> environment variables.</p></li>
<li><p>Fixed #3703 and #3739, recent code change made it impossible to tell whether a (registered) environment variable
was missing from environment or present and set to its registered default value. The test for ANSICON was
failing due to this.</p></li>
<li><p>Fixed environment variables substitution: unknown variables stay unreplaced now (#3818).</p></li>
<li><p>Fixed xpg xontrib link</p></li>
<li><p>Fix crash when xonsh tries to run windows app execution aliases.</p></li>
<li><p>Setup wasn’t consistently detecting jupyter in environment; <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></code> worked, but
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">.</span></code> wouldn’t (because pip mucks with <code class="docutils literal notranslate"><span class="pre">sys.path</span></code>),
nor would install from wheel (because it doesn’t run <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">info</span></code> now displays actual value of ON_MSYS and ON_CYGWIN instead of lazy bool type.
(maybe was happening only on Windows?)</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Gil Forsyth</p></li>
<li><p>Morten Enemark Lund</p></li>
<li><p>Bob Hyman</p></li>
<li><p>a</p></li>
<li><p>anki-code</p></li>
<li><p>christopher</p></li>
<li><p>Eadaen1</p></li>
<li><p>Danny Sepler</p></li>
<li><p>Gyuri Horak</p></li>
<li><p>cafehaine</p></li>
<li><p>Wendell Turner</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>Marius van Niekerk</p></li>
<li><p>Wendell CTR Turner</p></li>
</ul>
</section>
<section id="v0-9-22">
<h2>v0.9.22<a class="headerlink" href="#v0-9-22" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Added xontrib-argcomplete to support kislyuk/argcomplete - tab completion for argparse.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">tools.debian_command_not_found()</span></code> function for finding commands in
debian/ubuntu packages.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">tools.conda_suggest_command_not_found()</span></code> function for finding commands in
conda packages.</p></li>
<li><p>Borrow shift-selection from prompt-toolkit. Shift-arrow (selects a letter) and control-shift-arrow (selects a word) should now be supported.</p></li>
<li><p>Documentation for keyboard shortcuts</p></li>
<li><p>Xonsh now supports bash-style variable assignments preceding
subprocess commands (e.g. <code class="docutils literal notranslate"><span class="pre">$FOO=&quot;bar&quot;</span> <span class="pre">bash</span> <span class="pre">-c</span> <span class="pre">r&quot;echo</span> <span class="pre">$FOO&quot;</span></code>).</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Added the fastest way to run xonsh AppImage to the docs.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">command_not_found()</span></code> is now a wrapper function that finds packages for missing
commands in a variety of locations. This function now also takes an <code class="docutils literal notranslate"><span class="pre">env</span></code> argument
for looking up values in the enviornment.</p></li>
<li><p>The variable cwd_dir, used for prompts,
now always has a slash at the end, so users can use the
construct “{cwd_dir}{cwd_base}” in their custom prompt definitions.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>crash when starting wizard by <code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">wizard</span></code>
xonsh.environ: ensure get_docs(name).doc_default is str when name is not registered.</p></li>
<li><p>Fixed issue where xontribs were failing from <code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">'_MergedKeyBindings'</span> <span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'add'</span></code></p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>David Strobach</p></li>
<li><p>Bob Hyman</p></li>
<li><p>anki-code</p></li>
<li><p>Danny Sepler</p></li>
<li><p>Eadaen1</p></li>
</ul>
</section>
<section id="v0-9-21">
<h2>v0.9.21<a class="headerlink" href="#v0-9-21" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh-in-docker.py</span></code> script now has <code class="docutils literal notranslate"><span class="pre">--pytest</span></code> parameter,
that automates pytest installation into the Docker container.</p></li>
<li><p>Setup extras tag ‘[full]’ to install prompt-toolkit and pygments in one fell swoop.
Full feature install can be <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">xonsh[full]</span></code>.</p></li>
<li><p>Support for PEP 570 positional-only parameters.</p></li>
<li><p>Support for starred expressions within return statement
(<code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">x,</span> <span class="pre">*my_list</span></code>).</p></li>
<li><p>Xonsh now runs in Python 3.9</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vox</span></code> xontrib now supports <code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">--activate</span></code> and <code class="docutils literal notranslate"><span class="pre">deactivate</span> <span class="pre">--remove</span></code>
to create + activate and deactivate + remove virtual environments in a single
command.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Rewrote Installation and Configuration sections of Getting Started doc
to clarify install from packages, and generally improve flow.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed incorrect reference to XONSH_HIST_SIZE instead of XONSH_HISTORY_SIZE</p></li>
<li><p>RST code-block:: xonshcon now works.</p></li>
<li><p>Non-default parameters can not follow defaults anymore.</p></li>
<li><p>Fixed parser not emmiting errors in some cases.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Jamie Bliss</p></li>
<li><p>David Strobach</p></li>
<li><p>Bob Hyman</p></li>
<li><p>Will S</p></li>
<li><p>Danny Sepler</p></li>
<li><p>Marius van Niekerk</p></li>
</ul>
</section>
<section id="v0-9-20">
<h2>v0.9.20<a class="headerlink" href="#v0-9-20" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">abbrevs</span></code> expansion now allows for setting cursor to a specific
position within the expanded abbrev. For instance</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">abbrevs</span><span class="p">[</span><span class="s2">&quot;eswap&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;with ${...}.swap(&lt;edit&gt;):</span><span class="se">\n</span><span class="s2">    &quot;</span>
</pre></div>
</div>
<p>expands <code class="docutils literal notranslate"><span class="pre">eswap</span></code> as you type to environment context manager
<code class="docutils literal notranslate"><span class="pre">swap()</span></code> syntax and places the cursor at the position of the
<code class="docutils literal notranslate"><span class="pre">&lt;edit&gt;</span></code> mark removing the mark itself in the process.</p>
</li>
<li><p>Support for ANSI escape codes in <code class="docutils literal notranslate"><span class="pre">$PROMPT</span></code>/<code class="docutils literal notranslate"><span class="pre">$RIGHT_PROMPT</span></code>. In this way 3rd party prompt generators like <code class="docutils literal notranslate"><span class="pre">powerline</span></code> or <code class="docutils literal notranslate"><span class="pre">starship</span></code> can be used to set the prompt. ANSI escape codes might be mixed with the normal formatting (like <code class="docutils literal notranslate"><span class="pre">{BOLD_GREEN}</span></code>) and <em>prompt variables</em> (like <code class="docutils literal notranslate"><span class="pre">{user}</span></code>) should work as well.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$PROMPT=lambda: $(starship prompt)
$RIGHT_PROMPT=&quot;\x1b[33m{hostname} {GREEN}&gt; &quot;
</pre></div>
</div>
</li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">$HOSTNAME</span></code> and <code class="docutils literal notranslate"><span class="pre">$HOSTTYPE</span></code> environment variables.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">Env.rawkeys()</span></code> iterator for iterating over all keys in an environment,
not just the string keys like with <code class="docutils literal notranslate"><span class="pre">__iter__()</span></code>.</p></li>
<li><p>New landing page for <a class="reference external" href="https://xon.sh">https://xon.sh</a></p></li>
<li><p>Added xonsh AppImage to the GitHub release assets</p></li>
<li><p>xonsh now comes with a bulitin version of prompt-toolkit (3.0.5) which will be used as fall back if prompt_toolkit is not installed.</p></li>
<li><p>Support for Python 3.8 PEP 572 assignment expressions (walrus operator).</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>custom startup scripts replaced by setup.py -generated (console) entrypoint scripts for both xonsh and xonsh-cat.
This means xonsh.bat and xonsh-cat.bat are replaced on Windows by xonsh.exe and xonsh-cat.exe, respectively.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Iterating over <code class="docutils literal notranslate"><span class="pre">${...}</span></code> or <code class="docutils literal notranslate"><span class="pre">__xonsh__.env</span></code> yields only string
values again.</p></li>
<li><p>List comprehensions do not ignore the second and subsequent <code class="docutils literal notranslate"><span class="pre">if</span></code> clauses
in multi-if comprehension expressions any more.</p></li>
<li><p>Xonsh can now fully handle special Xonsh syntax within f-strings, including
environmnent variables within <code class="docutils literal notranslate"><span class="pre">${}</span></code> operator and captured subprocess
expansion within f-string expressions.</p></li>
<li><p>Avoid startup error on Windows when py.exe chooses wrong python interpreter to run xonsh.
When multiple interpreters are in PATH, ‘py’ will choose the first one (usually in the virtual environment),
but ‘py -3’ finds the system-wide one, apparently by design.</p></li>
<li><p>For xonsh-cat, avoid parsing and processing first (0’th) argument when invoked directly from OS shell.</p></li>
<li><p>Run control files are now read in with <code class="docutils literal notranslate"><span class="pre">$THREAD_SUBPROCS</span></code> off.
This prevents a weird error when starting xonsh from Bash (and
possibly other shells) where the top-level xonsh process would
be stopped and placed into the background during startup. It
may be necessary to set <code class="docutils literal notranslate"><span class="pre">$THREAD_SUBPROCS=False</span></code> in downstream
xonsh scripts and modules.</p></li>
<li><p>Fixed installation issues where generated files (like the parser table and
amalgamated modules) were not installed.</p></li>
<li><p>The xonsh test suite has been cleaned up. So no more failing test. Hopefully.</p></li>
<li><p>Addressed robustness issue with <code class="docutils literal notranslate"><span class="pre">&quot;locked&quot;</span></code> history key not
being present at startup.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vox</span></code> xontrib works again with the new environment defaults.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Morten Enemark Lund</p></li>
<li><p>David Strobach</p></li>
<li><p>Bob Hyman</p></li>
<li><p>anki-code</p></li>
<li><p>Raphael Das Gupta</p></li>
<li><p>Gyuri Horak</p></li>
</ul>
</section>
<section id="v0-9-19">
<h2>v0.9.19<a class="headerlink" href="#v0-9-19" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">history</span></code> command now supports <code class="docutils literal notranslate"><span class="pre">flush</span></code> action</p></li>
<li><p>Added new items on “Bash to xsh” page</p></li>
<li><p>JsonHistory: added <code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">gc</span> <span class="pre">--force</span></code> switch to allow user to override above warning.</p></li>
<li><p>JsonHistoryGC: display following warning when garbage collection would delete “too” much data and don’t delete anything.</p>
<p>“Warning: History garbage collection would discard more history ({size_over} {units}) than it would keep ({limit_size}).n”
“Not removing any history for now. Either increase your limit ($XONSH_HISTORY_SIZE), or run <code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">gc</span> <span class="pre">--force</span></code>.”,</p>
<p>It is displayed when the amount of history on disk is more than double the limit configured (or defaulted) for $XONSH_HISTORY_SIZE.</p>
</li>
<li><p>$LS_COLORS code ‘mh’ now recognized for (multi) hard-linked files.</p></li>
<li><p>$LS_COLORS code ‘ca’ now recognized for files with security capabilities (linux only).</p></li>
<li><p>CI step to run flake8 after pytest.</p></li>
<li><p>RichCompletion for completions with different display value, description and prefix_len.</p></li>
<li><p>Allow completer access to multiline document when available via <code class="docutils literal notranslate"><span class="pre">xonsh.completers.tools.get_ptk_completer().current_document</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">abbrevs</span></code> word expasion can now be reverted by pressing
the space bar second time immediately after the previous
word got expanded.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ulimit</span></code> command.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdb</span></code> xontrib, that runs pdb debugger on reception of SIGUSR1 signal.</p></li>
<li><p>xontrib-xpg is a xontrib for running or explaining sql queries for posgresql database.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Xonsh now launches subprocesses with their <code class="docutils literal notranslate"><span class="pre">argv[0]</span></code> argument containing
the command exactly as inserted by the user instead of setting it to the
resolved path of the executable. This is for consistency with bash and other
shells.</p></li>
<li><p>Added ability to register, deregister environment variables;
centralized environment default variables</p></li>
<li><p>Added exit to the “Bash to xsh” article.</p></li>
<li><p>xonsh.main _failback_to_other_shells now tries user’s login shell (in $SHELL) before trying system wide shells from /etc/shells.</p></li>
<li><p>The current working directory is now correctly obtained in line 501 of xonsh/parsers/base.py</p></li>
<li><p>Garbage collection avoids deleting history and issues a warning instead if existing history is more than double the comfigured limit.
This protects active users who might have accumulated a lot of history while a bug was preventing garbage collection.  The warning
will be displayed each time Xonsh is started until user takes action to reconcile the situation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tests\test_integrations.py</span></code> no longer runs with XONSH_DEBUG=1 (because new, debug-only progress messages from history were breaking it).</p></li>
<li><p>Updated pytest_plugin for pytest 5.4 API, pip requirements for pytest&gt;= 5.4</p></li>
<li><dl class="simple">
<dt>Major improvements to Jedi xontrib completer:</dt><dd><ul>
<li><p>Use new Jedi API</p></li>
<li><p>Replace the existing python completer</p></li>
<li><p>Create rich completions with extra info</p></li>
<li><p>Use entire multiline document if available</p></li>
<li><p>Complete xonsh special tokens</p></li>
<li><p>Be aware of _ (last result)</p></li>
<li><p>Only show dunder attrs when prefix ends with ‘_’</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Many files are starting to be formatted using <code class="docutils literal notranslate"><span class="pre">pyupgrade</span> <span class="pre">--py36-plus</span></code>, in order to automatically update to newer
Python constructs.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xontrib</span> <span class="pre">load</span></code> does not stop loading modules on error any more.</p></li>
</ul>
<p><strong>Deprecated:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">--flake8</span></code> now exits with error message to use flake8 instead.
Allows single list of lint exceptions to apply in CI and your IDE.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>Removed history replay</p></li>
<li><p>pytest-flake8 package from requirements*.txt</p></li>
<li><p>Xonsh now relies exclusively on Setuptools for install.</p></li>
<li><p>Compatibility with Python 3.5 has been removed as well as all related code. In
particular xonsh.inspector does not defined <code class="docutils literal notranslate"><span class="pre">getouterframes</span></code> anymore, use
<code class="docutils literal notranslate"><span class="pre">inspect.getouterframe</span></code> directly.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Unhandled exception triggered by unexpected return from callable alias.</p></li>
<li><p>Fix path completer throwing exception sometimes</p></li>
<li><p>Fixed help operator not displaying definition for callables.</p></li>
<li><p>JsonHistory.files(): Now once again enumerates history files from the directory.  This has been broken for about 2 years.</p></li>
<li><p>JsonHistory.run_gc(): Don’t busy loop while waiting for history garbage collection to complete, sleep a bit instead.
This does much to keep Xonsh ptk_shell responsive when dealing with very large history on disk.</p></li>
<li><p>Fixed JSON history indexing error.</p></li>
<li><p>Fixed syntax error in scripts containing line continuation syntax.</p></li>
<li><p>$LS_COLORS code ‘fi’ now used for “regular files”, as it should have been all along. (was ‘rs’)
See (#3608)[<a class="reference external" href="https://github.com/xonsh/xonsh/issues/3608">https://github.com/xonsh/xonsh/issues/3608</a>].</p></li>
<li><p>pyghooks.color_files now follows implememntation of ls –color closely.  Thanks &#64;qwenger!
However, a few documented differences remain due to use in Xonsh.</p></li>
<li><p>$LS_COLORS[‘ln’] = ‘target’ now works.  Also fixes #3578.</p></li>
<li><p>Fixed exit code for commands executed via <code class="docutils literal notranslate"><span class="pre">-c</span></code> (#3402)</p></li>
<li><p>Logical subprocess operators now work after long arguments (e.g. <code class="docutils literal notranslate"><span class="pre">--version</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span></code> completer no longer erroneously fires for <code class="docutils literal notranslate"><span class="pre">pipx</span></code></p></li>
<li><p>Updated development guide to reference flake8 instead of pylint</p></li>
<li><p>Corrected flake8 config for allowed exceptions.</p></li>
<li><p>various pytest warnings in a “clean” test run.</p></li>
<li><p>The current Mercurial topic is shown.</p></li>
<li><p>Fixed import problems due to modules using deprecated pkg_resources methods by proxying calls to the underlying loader.</p></li>
<li><p>Typo in ‘source’ alias.</p></li>
<li><p>Crash in ‘completer’ completer.</p></li>
<li><p>Don’t complete unnecessarily in ‘base’ completer</p></li>
<li><p>Viewing mock objects in the shell</p></li>
<li><p>Fixed formatting error in <code class="docutils literal notranslate"><span class="pre">vox</span> <span class="pre">rm</span></code> command.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Gil Forsyth</p></li>
<li><p>Morten Enemark Lund</p></li>
<li><p>Bob Hyman</p></li>
<li><p>David Strobach</p></li>
<li><p>Burak Yiğit Kaya</p></li>
<li><p>Matthias Bussonnier</p></li>
<li><p>anki-code</p></li>
<li><p>David Dotson</p></li>
<li><p>con-f-use</p></li>
<li><p>Daniel Shimon</p></li>
<li><p>Jason R. Coombs</p></li>
<li><p>Gyuri Horak</p></li>
<li><p>Achim Herwig</p></li>
<li><p>Marduk Bolaños</p></li>
<li><p>Stefane Fermigier</p></li>
<li><p>swedneck</p></li>
<li><p>Feng Tian</p></li>
<li><p>cafehaine</p></li>
<li><p>paugier</p></li>
</ul>
</section>
<section id="v0-9-18">
<h2>v0.9.18<a class="headerlink" href="#v0-9-18" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>external <em>xontrib-hist-navigator</em> to facilitate directory history navigation.</p></li>
<li><p>Support package prompt-toolkit V3 as well as V2 in prompt_toolkit shell.</p></li>
<li><p>New <a class="reference external" href="https://github.com/anki-code/xontrib-output-search">xontrib-output-search</a> to get identifiers, names, paths, URLs and words from the previous command output and use them for the next command.</p></li>
<li><p>New <a class="reference external" href="https://github.com/anki-code/xontrib-pipeliner">xontrib-pipeliner</a> is to easily process the lines using pipes.</p></li>
<li><p>New <a class="reference external" href="https://github.com/anki-code/xontrib-prompt-bar">xontrib-prompt-bar</a> with elegance bar style for prompt.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>$SHELL_TYPE “prompt_toolkit” with any suffix creates the “prompt_toolkit” shell, requires package prompt-toolkit &gt;= 2.0</p></li>
<li><p>Moved code from package xonsh.ptk2 to xonsh.ptk_shell (because it’s the only one now); package xonsh.ptk2 redirects thence.</p></li>
<li><p>Added extremely simplified xonsh AppImage building process.</p></li>
<li><p>Added examples of usage $XONSH_TRACE_SUBPROC to the docs</p></li>
<li><p>Use UTF-8 encoding when writing .xonshrc with webconfig for Windows compatibility</p></li>
</ul>
<p><strong>Deprecated:</strong></p>
<ul class="simple">
<li><p>prompt-toolkit versions before 2.0</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>package xonsh.ptk</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed name autosuggestion in path completer (#3519)</p></li>
<li><p>Flake8/black fixes to the whole code tree, in 3 steps.
Devs should update their IDE to run both during file editing, to avoid a re-accumulation of arbitrary exceptions.</p></li>
<li><p>tests/test_builtins.py, fix test case test_convert_macro_arg_eval(kind).</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>Jamie Bliss</p></li>
<li><p>Bob Hyman</p></li>
<li><p>anki-code</p></li>
<li><p>Raphael Das Gupta</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>Manor Askenazi</p></li>
<li><p>Marduk Bolaños</p></li>
</ul>
</section>
<section id="v0-9-17">
<h2>v0.9.17<a class="headerlink" href="#v0-9-17" title="Link to this heading">¶</a></h2>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;$()</span></code> subprocess operator now properly strips newline characters off
the lines of multiline output.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;$()</span></code> subprocess operator does not require leading and trailing whitespace
anymore, so expansions like <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">/lib/modules/&#64;$(uname</span> <span class="pre">-r)/kernel</span></code> or
<code class="docutils literal notranslate"><span class="pre">gdb</span> <span class="pre">--pid=&#64;$(pidof</span> <span class="pre">crashme)</span></code> are now possible.</p></li>
<li><p>Moved most CI to github actions (OSX is still on travis)</p></li>
<li><p>Replaced Repl.It with RunThis on the front page of the docs.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>autovox xontrib now works with Python 3.5</p></li>
<li><p>It is now possible to pass <code class="docutils literal notranslate"><span class="pre">&quot;&amp;&quot;</span></code> as the last argument in subprocess mode.</p></li>
<li><p>Fixed a bug on Windows causing <code class="docutils literal notranslate"><span class="pre">FileNotFoundError</span></code> exception if path
elements contain trailing spaces.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Gil Forsyth</p></li>
<li><p>David Strobach</p></li>
</ul>
</section>
<section id="v0-9-16">
<h2>v0.9.16<a class="headerlink" href="#v0-9-16" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">abbrevs</span></code> xontrib.</p></li>
<li><p>Added <a class="reference external" href="https://github.com/dyuri/xontrib-pyenv">xontrib-pyenv</a> to list of registered xontribs.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xdg-open</span></code> now runs unthreaded.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Return Token.Text when filesystem item’s type not defined in LS_COLORS; avoid crashing Pygments.</p></li>
<li><p>Fixed bug on Windows if Path elements has trailing spaces. Windows in general and <code class="docutils literal notranslate"><span class="pre">os.path.isdir()</span></code>
doesn’t care about trailing spaces but <code class="docutils literal notranslate"><span class="pre">os.scandir()</span></code> does.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Morten Enemark Lund</p></li>
<li><p>Bob Hyman</p></li>
<li><p>David Strobach</p></li>
<li><p>Gyuri Horak</p></li>
<li><p>Chris Lasher</p></li>
</ul>
</section>
<section id="v0-9-15">
<h2>v0.9.15<a class="headerlink" href="#v0-9-15" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Adds documentation for how to setup an emacs editing mode for xonsh.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">$XONSH_TRACE_SUBPROC</span></code> environment variable.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">-l</span></code>, <code class="docutils literal notranslate"><span class="pre">-c</span></code> and <code class="docutils literal notranslate"><span class="pre">-a</span></code> options to <code class="docutils literal notranslate"><span class="pre">xexec</span></code>, works now like <code class="docutils literal notranslate"><span class="pre">exec</span></code>
in bash/zsh</p></li>
<li><p><strong>$HISTCONTROL</strong> - <em>errordups</em> support for history-sqlite backend</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-l</span></code> switch works like bash, loads environment in non-interactive shell</p></li>
<li><p>The xonsh pytest plugin no longer messes up the test order for pytest. Xsh test
are still executed first to avoid a bug were other tests would prevent <code class="docutils literal notranslate"><span class="pre">test_*.xsh</span></code>
files to run correctly.</p></li>
<li><p>New repo name for xxh</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Correctly follow symlinks when using dot-dot paths with cd -P.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">execx</span></code> does not require the input string to be newline-terminated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">evalx</span></code> accepts newline-terminated input string.</p></li>
<li><p>Fixed issue where negative exit codes (such as those produced
by core dumps) where treated as logical successes when chaining
processes with other boolean expressions.</p></li>
<li><p>Fixed XONSH_TRACE_SUBPROC for pipeline command.</p></li>
<li><p>updated CONTRIBUTING.rst about running pylint for changed files</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Morten Enemark Lund</p></li>
<li><p>David Strobach</p></li>
<li><p>anki-code</p></li>
<li><p>Samuel Lotz</p></li>
<li><p>Gyuri Horak</p></li>
<li><p>Noortheen Raja</p></li>
<li><p>Gabriel Vogel</p></li>
<li><p>anki</p></li>
<li><p>Jerzy Drozdz</p></li>
</ul>
</section>
<section id="v0-9-14">
<h2>v0.9.14<a class="headerlink" href="#v0-9-14" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Added building process of standalone rootless AppImage for xonsh.</p></li>
<li><p>pyproject.toml – so vscode can use black as python formatter interactively</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">xonsh/interactive</span></code> container has been added, in addition to the previous <code class="docutils literal notranslate"><span class="pre">xonsh/xonsh</span></code> and <code class="docutils literal notranslate"><span class="pre">xonsh/action</span></code> containers. See <a class="reference external" href="https://hub.docker.com/u/xonsh">https://hub.docker.com/u/xonsh</a></p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">$THREAD_SUBPROCS</span></code> environment variable allows you to
specify whether threadable subprocesses should actually be
run in a thread or not.  Default <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p>event on_lscolors_changed which fires when an item in $LS_COLORS changed.</p></li>
<li><p>dict pyghooks.file_color_tokens containing color tokens for file types defined in $LS_COLORS.</p></li>
<li><p>file pyproject.toml containing config rules for black formatter consistent with flake8</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">umask</span></code> utility to view or set the file creation mask</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">web</span></code> command that launches a web UI (in your browser) that
allows users to configure their <code class="docutils literal notranslate"><span class="pre">$XONSH_COLOR_STYLE</span></code>, <code class="docutils literal notranslate"><span class="pre">$PROMPT</span></code>, and
loaded xontribs in an interactive way. This is the prefered way to initialize
the <code class="docutils literal notranslate"><span class="pre">~/.xonshrc</span></code> file on a new system or for new users.  It supersedes the
old <code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">wizard</span></code> command.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.webconfig</span></code> subpackage for creating and launching <code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">web</span></code>.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">localtime</span></code> entry to the <code class="docutils literal notranslate"><span class="pre">$PROMPT_FIELDS</span></code> dictionary, allowing users
to easily place the current time in their prompt. This can be formatted with
the <code class="docutils literal notranslate"><span class="pre">time_format</span></code> entry of <code class="docutils literal notranslate"><span class="pre">$PROMPT_FIELDS</span></code>, which defaults to <code class="docutils literal notranslate"><span class="pre">&quot;%H:%M:%S&quot;</span></code>.
These are implemented in the new <code class="docutils literal notranslate"><span class="pre">xonsh.prompt.times</span></code> module.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">html</span></code> module in <code class="docutils literal notranslate"><span class="pre">xonsh.lazyimps</span></code> was added to lazily import
<code class="docutils literal notranslate"><span class="pre">pygments.formatters.html</span></code>.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.pyghooks.XonshHtmlFormatter</span></code> class that enables HTML formatting of
xonsh color strings.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>the feature list: subprocess mode colorizes files per $LS_COLORS, when they appear as arguments in the command line.
Yet another approximation of ls -c file coloring behavior.</p></li>
<li><p>file setup.cfg to declare flake8 rules for all tools (not just pytest)</p></li>
<li><p>Moved python 3.8 parsing out of base parser</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">xonsh.pyghooks.XonshLexer</span></code> now inherits from <code class="docutils literal notranslate"><span class="pre">Python3Lexer</span></code>,
rather than <code class="docutils literal notranslate"><span class="pre">PythonLexer</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.pyghooks.XonshStyle</span></code> now presents the <code class="docutils literal notranslate"><span class="pre">highlight_color</span></code> and
<code class="docutils literal notranslate"><span class="pre">background_color</span></code> from the underlying style correctly.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>Removed deprecated <code class="docutils literal notranslate"><span class="pre">xonda</span></code> <code class="docutils literal notranslate"><span class="pre">xontrib</span></code> from list</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/xonsh/xonsh/issues/3427">[color] in .gitconfig (#3427)</a> now stripped from {curr_branch}</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://i.imgur.com/EMhPdgU.png">Before</a></p></li>
<li><p><a class="reference external" href="https://i.imgur.com/sJiqgsb.png">After</a></p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>The autovox xontrib now preserves activated environment on cd</p></li>
<li><p>setup.cfg – duplicated flake8 config so interactive use and test runs enforce same rules. (Implementation is arguably a regression.)</p></li>
<li><p>Pressing <code class="docutils literal notranslate"><span class="pre">Ctrl+Z</span></code> no longer deadlocks the terminal,
allowing further input from the user, even for threaded
subprocesses.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">XonshImportHook.get_source()</span></code> now takes a dotted module name instead of a file path, as it should</p></li>
<li><p>Fixed documentation on environment variable <code class="docutils literal notranslate"><span class="pre">$PROMPT_REFRESH_INTERVAL</span></code>.</p></li>
<li><p>Using rmtree on windows no longer attempts to use invalid <code class="docutils literal notranslate"><span class="pre">rm</span></code> command
and uses <code class="docutils literal notranslate"><span class="pre">del</span></code> instead.</p></li>
<li><p>Avoid crash in SubprocessSpec._run_binary() when command line has 2 real subprocesses piped together.</p></li>
<li><p>Fixed an issue on Windows where pressing ctrl-c could sometimes result
in a traceback if the process had already quit before being killed by xonsh.</p></li>
<li><p>Modified base_shell._TeeStdBuf to feed bytes not str to console window under VS Code.</p></li>
<li><p>Command line with leading whitespace improperly formated (PTK2/PTK3).</p></li>
<li><p>Fix Ctrl-C event causing Atribute error on Windows (for reals this time).</p></li>
<li><p>Unit test failures in test_integrations under ubuntu 19.10 with Python 3.8.0</p></li>
<li><p>.gitignore entries for venv under project root (as for autovox) and for VS Code.</p></li>
<li><p>Minor typo fixes to xontrib descriptions.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Gil Forsyth</p></li>
<li><p>Morten Enemark Lund</p></li>
<li><p>Jamie Bliss</p></li>
<li><p>Bob Hyman</p></li>
<li><p>David Strobach</p></li>
<li><p>Burak Yiğit Kaya</p></li>
<li><p>anki-code</p></li>
<li><p>adam j hartz</p></li>
<li><p>Nickolay Bukreyev</p></li>
<li><p>Edmund Miller</p></li>
<li><p>Mike Crowe</p></li>
<li><p>Sylvain Corlay</p></li>
<li><p>Chris Lasher</p></li>
<li><p>Marcio Mazza</p></li>
</ul>
</section>
<section id="v0-9-13">
<h2>v0.9.13<a class="headerlink" href="#v0-9-13" title="Link to this heading">¶</a></h2>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">$LS_COLORS</span></code> environment variable will no longer raise exceptions when trying
to convert ANSI color sequences to xonsh color names.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>Remove built in support for “win unicode console”. Full unicode support on windows is now provided by
using the new <a class="reference external" href="https://github.com/microsoft/terminal">Windows terminal</a>.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed issue converting ANSI color codes that contained both slow blink and set foreground
or set background sequences.</p></li>
<li><p>Fix coreutils <code class="docutils literal notranslate"><span class="pre">cat</span></code> behaviour on empty input (e.g. <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">-</span></code>).</p></li>
<li><p>Fix Ctrl-C event causing Atribute error on Windows.</p></li>
<li><p>Fix Added OpenBSD as a platform</p></li>
<li><p>Fix Corrected aliases for OpenBSD to not include <code class="docutils literal notranslate"><span class="pre">--color=auto</span></code> and <code class="docutils literal notranslate"><span class="pre">-v</span></code></p></li>
<li><p>Fixed a regession with xonsh superhelp <code class="docutils literal notranslate"><span class="pre">??</span></code> operator and <code class="docutils literal notranslate"><span class="pre">which</span> <span class="pre">-v</span></code> which showed Pythons builtin
doc strings.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Morten Enemark Lund</p></li>
<li><p>David Kalliecharan</p></li>
</ul>
</section>
<section id="v0-9-12">
<h2>v0.9.12<a class="headerlink" href="#v0-9-12" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">autovox</span></code> xontrib</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.lib.itertools.as_iterable</span></code> for making sure that strings are turned into iterables</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">percol</span></code> command no longer predicts as threadable.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">source</span></code> alias is now unthreaded, enabling <code class="docutils literal notranslate"><span class="pre">contextvars</span></code> to be used
correctly in sourced files.</p></li>
<li><p>Changed the <code class="docutils literal notranslate"><span class="pre">ExecAlias</span></code> to only be applied when the logical operators
(<code class="docutils literal notranslate"><span class="pre">and</span></code>, <code class="docutils literal notranslate"><span class="pre">or</span></code>) are surrounded by whitespace.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul>
<li><p>Fixed missing ANSI color modifiers which causes traceback when they were used by <code class="docutils literal notranslate"><span class="pre">$LS_COLORS</span></code>.</p></li>
<li><p>gray empty bottom bar when using $XONSH_UPDATE_PROMPT_ON_KEYPRESS</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.lib.subprocess.check_output()</span></code> now properly captures output.</p></li>
<li><p>Correct ANSI colors for the default color scheme to stop suppressing the bold / italic / underline modifiers.</p></li>
<li><p>tab completion for cd correctly handles the CDPATH environment variable</p></li>
<li><p>On Windows, send <code class="docutils literal notranslate"><span class="pre">CTRL_C_EVENT</span></code> to subprocesses instead of <code class="docutils literal notranslate"><span class="pre">SIGINT</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh</span></code> will return a non-zero exit code if it is run in file mode and
cannot find the file specified, e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ xonsh thisfiledoesntexist.xsh
xonsh: thisfiledoesntexist.xsh: No such file or directory.
$ _.returncode
1
</pre></div>
</div>
</li>
<li><p>Fixed issue with Jedi xontrib incorrectly raising errors
during tab completion.</p></li>
<li><p>Defining functions inside of the shell no longer crashes on Python 3.8.</p></li>
<li><p>The encoding for xonsh script are now always assumed to be utf-8, even on
Windows where the default encoding can be different. This allows for writing
real unicode characters in the xonsh script files.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Gil Forsyth</p></li>
<li><p>Morten Enemark Lund</p></li>
<li><p>Jamie Bliss</p></li>
<li><p>christopher</p></li>
<li><p>Carmen Bianca Bakker</p></li>
<li><p>Caleb Hattingh</p></li>
<li><p>Sean Farley</p></li>
<li><p>Allan Crooks</p></li>
<li><p>micimize</p></li>
<li><p>nedsociety</p></li>
<li><p>fanosta</p></li>
</ul>
</section>
<section id="v0-9-11">
<h2>v0.9.11<a class="headerlink" href="#v0-9-11" title="Link to this heading">¶</a></h2>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">vox</span> <span class="pre">activate</span></code> will now prepend the absolute path of the virtualenv <code class="docutils literal notranslate"><span class="pre">bin/</span></code> directory (or <code class="docutils literal notranslate"><span class="pre">Scripts/</span></code> on Windows) to <code class="docutils literal notranslate"><span class="pre">$PATH</span></code>; before this was a relative path.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul>
<li><p>“lou carcolh” example and description of <code class="docutils literal notranslate"><span class="pre">endidx</span></code> in completer tutorial</p></li>
<li><p>Logical operators in aliases are now executed as expected, e.g.
<code class="docutils literal notranslate"><span class="pre">aliases['echocat']</span> <span class="pre">=</span> <span class="pre">'echo</span> <span class="pre">&quot;hi&quot;</span> <span class="pre">and</span> <span class="pre">echo</span> <span class="pre">&quot;there&quot;'</span></code> will, when run, return</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hi</span>
<span class="n">there</span>
</pre></div>
</div>
</li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Gil Forsyth</p></li>
<li><p>con-f-use</p></li>
<li><p>Caleb Hattingh</p></li>
</ul>
</section>
<section id="v0-9-10">
<h2>v0.9.10<a class="headerlink" href="#v0-9-10" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>$PROMPT_REFRESH_INTERVAL: Automatically invalidate the PROMPT every so many seconds.</p></li>
<li><p>Allow disabling individual items in gitstatus prompt</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">cat</span></code> can’t read pseudo files with zero size such as /proc/* or /sys/* (#3182, #3199)</p></li>
<li><p>command-not-found: now works on non-Debian bansed distributions</p></li>
<li><p>Implemented <code class="docutils literal notranslate"><span class="pre">'target'</span></code> psuedo-color in <code class="docutils literal notranslate"><span class="pre">$LS_COLORS</span></code> for link coloring based
off of the link target. This was causing issues on some systems where this is
the default.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Gil Forsyth</p></li>
<li><p>Morten Enemark Lund</p></li>
<li><p>virus</p></li>
<li><p>vaaaaanquish</p></li>
<li><p>K.-Michael Aye</p></li>
<li><p>Alexander Steffen</p></li>
<li><p>Jan Chren</p></li>
<li><p>Sean Farley</p></li>
<li><p>László Vaskó</p></li>
<li><p>Nils ANDRÉ-CHANG</p></li>
<li><p>chengxuncc</p></li>
</ul>
</section>
<section id="v0-9-9">
<h2>v0.9.9<a class="headerlink" href="#v0-9-9" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>$COMPLETION_IN_THREAD: When this is True, background theads is used for completion.</p></li>
<li><p>Open man page when requesting help for subprocess commands, e.g. using <code class="docutils literal notranslate"><span class="pre">sh?</span></code></p></li>
<li><p>Add several cmds/tools for predict list</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Changed <code class="docutils literal notranslate"><span class="pre">XonshSession.link_builtins</span></code> to set a <code class="docutils literal notranslate"><span class="pre">DynamicAccessProxy</span></code> for each <code class="docutils literal notranslate"><span class="pre">builtin</span></code> link</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">events</span></code> is now unlinked from <code class="docutils literal notranslate"><span class="pre">builtins</span></code></p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">DeprecationWarningProxy</span></code>; no longer needed</p></li>
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">load_proxies</span></code> and <code class="docutils literal notranslate"><span class="pre">unload_proxies</span></code>; moved functionality to <code class="docutils literal notranslate"><span class="pre">XonshSession.link_builtins</span></code>, <code class="docutils literal notranslate"><span class="pre">XonshSession.unlink_builtins</span></code>, respectively.</p></li>
<li><p>Removed deprecated <code class="docutils literal notranslate"><span class="pre">builtin.__xonsh_*__</span></code> alises, please use <code class="docutils literal notranslate"><span class="pre">builtins.__xonsh__.*</span></code> instead.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Added proxied <code class="docutils literal notranslate"><span class="pre">__dir__</span></code> method to <code class="docutils literal notranslate"><span class="pre">DynamicAccessProxy</span></code> to restore
tab-completion for objects that use the proxy (especially <code class="docutils literal notranslate"><span class="pre">events</span></code>)</p></li>
<li><p>Avoid displaying finished tasks in title.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inspect.getsource</span></code> now works correctly and the <code class="docutils literal notranslate"><span class="pre">__xonsh__.execer</span></code> resets
<code class="docutils literal notranslate"><span class="pre">&lt;filename&gt;</span></code> correctly.  This was causing several very strange buggy
behaviors.</p></li>
<li><p>Hitting <code class="docutils literal notranslate"><span class="pre">Enter</span></code> while <code class="docutils literal notranslate"><span class="pre">$VI_MODE=True</span></code> now executes the current code block
irrespective of cursor position</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Gil Forsyth</p></li>
<li><p>David Dotson</p></li>
<li><p>vaaaaanquish</p></li>
<li><p>Alexander Steffen</p></li>
<li><p>Ke Zhang</p></li>
<li><p>Daniel Smith</p></li>
</ul>
</section>
<section id="v0-9-8">
<h2>v0.9.8<a class="headerlink" href="#v0-9-8" title="Link to this heading">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed a bug in sourcing Bash functions, where <code class="docutils literal notranslate"><span class="pre">delare</span> <span class="pre">-F</span></code> contained
newlines, meaning that the <code class="docutils literal notranslate"><span class="pre">read</span></code> command that followed it would only
pick up the first function declaration. <code class="docutils literal notranslate"><span class="pre">echo</span></code> is used to normalize
whitespace.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
</ul>
</section>
<section id="v0-9-7">
<h2>v0.9.7<a class="headerlink" href="#v0-9-7" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>add xontrib (xontrib-readable-traceback)</p></li>
<li><p>Registered kitty xontrib.</p></li>
<li><p>The zipapp extra was added to install the importlib.resources backport on &lt;3.7</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>turn off warning on completer</p></li>
<li><p>xontrib metadata loading is now zipapp safe when possible</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Updated py-bash-completion that is vended with xonsh to v0.2.6 which
includes a fix completion which uses a subshell environment and a
fix for string index error in stripped prefix.</p></li>
<li><p>Removed obsolte “Alt+.” keybinding in xontrib-bashisms that was causing built-in binding to malfunction.</p></li>
<li><p>Fixed that occurs when type a command before rendering.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Jamie Bliss</p></li>
<li><p>con-f-use</p></li>
<li><p>vaaaaanquish</p></li>
<li><p>Gyuri Horak</p></li>
</ul>
</section>
<section id="v0-9-6">
<h2>v0.9.6<a class="headerlink" href="#v0-9-6" title="Link to this heading">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed exception in help/version threadable predictor</p></li>
<li><p>Fixed gitstatus prompt so that it also now reports deleted files</p></li>
<li><p>Fixed issue where the prompt-toolkit2 shell could not display and
would end up in an infinite error loop if <code class="docutils literal notranslate"><span class="pre">$MULTILINE_PROMPT</span></code>
was a suitably “false” value, such as <code class="docutils literal notranslate"><span class="pre">None</span></code> or an empty string.</p></li>
<li><p>Fixed issue where setting <code class="docutils literal notranslate"><span class="pre">$XONSH_STDERR_PREFIX</span></code> and <code class="docutils literal notranslate"><span class="pre">$XONSH_STDERR_POSTFIX</span></code>
and running a command in the <code class="docutils literal notranslate"><span class="pre">xonshrc</span></code> file would throw an error.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>David Strobach</p></li>
<li><p>virus</p></li>
<li><p>shadow-light</p></li>
</ul>
</section>
<section id="v0-9-5">
<h2>v0.9.5<a class="headerlink" href="#v0-9-5" title="Link to this heading">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Style ‘bw’. Background colors was added in the style description.</p></li>
<li><p>Fix causing error in <code class="docutils literal notranslate"><span class="pre">get_predictor_threadable</span></code> on windows when try to run not exist command</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span></code> completer no longer fires when <code class="docutils literal notranslate"><span class="pre">pip</span></code> happens to appear within a word
like <code class="docutils literal notranslate"><span class="pre">bagpipes</span></code></p></li>
<li><p>Fixed issue with <code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">gc</span></code> command not running properly.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Gil Forsyth</p></li>
<li><p>Jean-Benoist Leger</p></li>
<li><p>virus</p></li>
<li><p>con-f-use</p></li>
</ul>
</section>
<section id="v0-9-4">
<h2>v0.9.4<a class="headerlink" href="#v0-9-4" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Add processing <code class="docutils literal notranslate"><span class="pre">%d</span></code> for avoid overwriting in <code class="docutils literal notranslate"><span class="pre">run-tests.xsh</span></code></p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul>
<li><p>Xonsh now does not attempt to expand raw strings, so now:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ echo &quot;$HOME&quot;
/home/user
$ echo r&quot;$HOME&quot;
$HOME
</pre></div>
</div>
</li>
<li><p>sudoedit now runs unthreaded</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>threadable predictor for ‘env’ command based on predictor from the executed
command. Fixes #2759 and #3103.</p></li>
<li><p>An error in the ‘xon.sh’ executable that only popped up during testing has
been fixed.  Specifically: It now directly calls ‘python3’ without invoking
‘env’.</p></li>
<li><p>bashisms extension can be used again with prompt_toolkit v1</p></li>
<li><p>Fix a crash when setting <code class="docutils literal notranslate"><span class="pre">$INTENSIFY_COLORS_ON_WIN</span></code> in certain situations.</p></li>
<li><p>Fix issue with bashsisms xontrib causing syntax errors for some Python statements</p></li>
<li><p>portable trick to pass args which replace ‘/usr/bin/env’ is removed and
‘/usr/bin/env’ is used. Fixes bug when a python3 used is outside the default
‘PATH’.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Morten Enemark Lund</p></li>
<li><p>Jean-Benoist Leger</p></li>
<li><p>David Strobach</p></li>
<li><p>virus</p></li>
<li><p>Carmen Bianca Bakker</p></li>
<li><p>con-f-use</p></li>
<li><p>cclauss</p></li>
<li><p>Eddie Peters</p></li>
</ul>
</section>
<section id="v0-9-3">
<h2>v0.9.3<a class="headerlink" href="#v0-9-3" title="Link to this heading">¶</a></h2>
<p><strong>Deprecated:</strong></p>
<ul class="simple">
<li><p>Python v3.4 has been fully, completely, and (hopefully) correctly
deprecated. Please migrate to an officially supported version of Python.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
</ul>
</section>
<section id="v0-9-2">
<h2>v0.9.2<a class="headerlink" href="#v0-9-2" title="Link to this heading">¶</a></h2>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>For aliases, predictor is build with the predictor of original command, in
place of default predictor.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Updated setup.py to require Python 3.4 using the <code class="docutils literal notranslate"><span class="pre">python_requires</span></code> keyword.
This rectifies issues with pip installing xonsh. Python 3.4 support will
be removed on the following release.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Jean-Benoist Leger</p></li>
</ul>
</section>
<section id="v0-9-1">
<h2>v0.9.1<a class="headerlink" href="#v0-9-1" title="Link to this heading">¶</a></h2>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>We no longer manually check the Python version in <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>,
but instead use the setuptools <code class="docutils literal notranslate"><span class="pre">python_requires</span></code> feature.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Updates for integrating with new colors styles in Pygments v2.4.0.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
</ul>
</section>
<section id="v0-9-0">
<h2>v0.9.0<a class="headerlink" href="#v0-9-0" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Implemented the following “bang command” bashisms: <code class="docutils literal notranslate"><span class="pre">!$</span></code>, <code class="docutils literal notranslate"><span class="pre">$*</span></code>, <code class="docutils literal notranslate"><span class="pre">!^</span></code>,
and <code class="docutils literal notranslate"><span class="pre">!&lt;str&gt;</span></code>.  These are in addition to <code class="docutils literal notranslate"><span class="pre">!!</span></code>, which was already
implemented.</p></li>
<li><p>asciinema (terminal recorder) added in not threadable commands.</p></li>
<li><p>tput added in not threadable commands.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">color_tools.KNOWN_XONSH_COLORS</span></code> frozenset.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">pyghooks.PYGMENTS_MODIFIERS</span></code> mapping from color modifier names to
pygments colors.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">pyghooks.color_name_to_pygments_code()</span></code> function for converting
color names into pygments color codes.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Circle now runs <code class="docutils literal notranslate"><span class="pre">black</span></code> checks on contents of bundled xontribs</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">black</span></code> checks no longer skip some files buried deeper in the directory
tree.</p></li>
<li><p>Errors while formatting the prompt are highlighted for easier debugging.</p></li>
<li><p>Pygments styles only define the standard set of colors, by default.
Additional colors are computed as needed.</p></li>
<li><p>PTYs created for running threadable command have now size set to same size
than main terminal.</p></li>
<li><p>Update documentation pointing to the minimal required version of
Python (3.5).</p></li>
</ul>
<p><strong>Deprecated:</strong></p>
<ul class="simple">
<li><p>Drop support for Python 3.4.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pyghooks.KNOWN_COLORS</span></code> is no longer needed or useful as pygments colors
are computed automatically.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">style_tools.KNOWN_COLORS</span></code> was never used, redundant with
<code class="docutils literal notranslate"><span class="pre">pyghooks.KNOWN_COLORS</span></code> and has thus been removed.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed a DeprecationWarning that would show up during an import of MutableSet.</p></li>
<li><p>Fixed error with aliases composed of functions wrapped in functools.partial.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">black</span></code> formatted all xontribs</p></li>
<li><p>deleting a non existing environement variable with default value do nothing
instead of raising a exception trying to deleting it in existing values dict.</p></li>
<li><p>Fixed crash while converting ANSI color codes with leading zeroes</p></li>
<li><p>Fixed crash while parsing invalid ANSI color code</p></li>
<li><p>fix causing infinite loop when doing <code class="docutils literal notranslate"><span class="pre">cat</span></code> empty file</p></li>
<li><p>Fixed issue which occurs when user doesn’t have access to parent directory and
xonsh scan all parents directory to find if we are in a Hg repository.</p></li>
<li><p>Fixed issue with pygments-cache not properly generating a cache the first
time when using prompt-toolkit when using <code class="docutils literal notranslate"><span class="pre">ptk2</span></code>.
This was due to a lingering lazy import of <code class="docutils literal notranslate"><span class="pre">pkg_resources</span></code>
that has been removed.</p></li>
<li><p>Minor update for Python v3.8.</p></li>
<li><p>Fixed a “‘NoneType’ object is not iterable” bug when looking up <code class="docutils literal notranslate"><span class="pre">stty</span></code>
in command cache.</p></li>
<li><p>The release tarball now includes all test files.</p></li>
<li><p>Arguments passed to python in ‘scripts/xonsh’ and in ‘scripts/xonsh-cat’ are
now passed by a portable hack in sh, not anymore by /usr/bin/env.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Gil Forsyth</p></li>
<li><p>Jean-Benoist Leger</p></li>
<li><p>David Strobach</p></li>
<li><p>virus</p></li>
<li><p>Carmen Bianca Bakker</p></li>
<li><p>Alexander Sosedkin</p></li>
<li><p>Kale Kundert</p></li>
<li><p>Andrés García García</p></li>
<li><p>Samuel Dion-Girardeau</p></li>
<li><p>Steven Kryskalla</p></li>
<li><p>Rodrigo Oliveira</p></li>
</ul>
</section>
<section id="v0-8-12">
<h2>v0.8.12<a class="headerlink" href="#v0-8-12" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Support for more ANSI escape sequence modifers allowed in color names.
The current modifiers now allowed are: BOLD, FAINT, ITALIC, UNDERLINE,
SLOWBLINK, FASTBLINK, INVERT, CONCEAL, and STRIKETHROUGH.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">ansi_tools.ansi_color_name_to_escape_code()</span></code> function for
converting a color name to an ANSI escape code.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">color_tools.RE_XONSH_COLOR</span></code> is a regular expression for matching
xonsh color names.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">color_tools.iscolor()</span></code> is a simple function for testing whether a
string is a valid color name or not.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">tools.all_permutations()</span></code> function yields all possible permutations
of an iterable, including removals.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>change url of xontrib-autojump</p></li>
<li><p>ANSI color styles may now be defined simply by their plain and intense colors.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SET_FOREGROUND_3INTS_</span></code> renamed to <code class="docutils literal notranslate"><span class="pre">SET_FOREGROUND_FAINT_</span></code>,
<code class="docutils literal notranslate"><span class="pre">SET_BACKGROUND_3INTS_</span></code> renamed to <code class="docutils literal notranslate"><span class="pre">SET_BACKGROUND_FAINT_</span></code>,
<code class="docutils literal notranslate"><span class="pre">SET_FOREGROUND_SHORT_</span></code> renamed to <code class="docutils literal notranslate"><span class="pre">SET_FOREGROUND_SLOWBLINK_</span></code>, and
<code class="docutils literal notranslate"><span class="pre">SET_BACKGROUND_SHORT_</span></code> renamed to <code class="docutils literal notranslate"><span class="pre">SET_BACKGROUND_SLOWBLINK_</span></code>.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ansi_tools.ANSI_REVERSE_COLOR_NAME_TRANSLATIONS</span></code> removed, as it is
no longer needed.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed issues where <code class="docutils literal notranslate"><span class="pre">$LS_COLORS</span></code> could not convert valid ANSI colors.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>virus</p></li>
</ul>
</section>
<section id="v0-8-11">
<h2>v0.8.11<a class="headerlink" href="#v0-8-11" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.color_tools.short_to_ints()</span></code> function for directly
converting a short (0 - 256) color into a 3-tuple of ints
representing its RGB value.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.ansi_colors.ansi_reverse_style()</span></code> function for
converting a mapping of color names to ANSI escape codes into
a mapping from escape codes into color names. This is not a
round-trippable operation.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.ansi_colors.ansi_color_escape_code_to_name()</span></code> function
for converting an ANSI color escape code into the closest xonsh
color name for a given style.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.events.EventManager.exists()</span></code> method enables checking
whether events actually exist without making the event if it
doesn’t exist.</p></li>
<li><p>New command-specific event categories called <code class="docutils literal notranslate"><span class="pre">on_pre_spec_run_&lt;cmd-name&gt;</span></code>
and <code class="docutils literal notranslate"><span class="pre">on_post_spec_run_&lt;cmd-name&gt;</span></code> will be fired before and after
<code class="docutils literal notranslate"><span class="pre">SubpocSpec.run()</span></code> is called.  This allows for command specific
events to be executed.  For example, <code class="docutils literal notranslate"><span class="pre">on_pre_spec_run_ls</span></code> would
be run prior to an invocation of <code class="docutils literal notranslate"><span class="pre">ls</span></code>.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.environ.LsColors</span></code> class for managing the <code class="docutils literal notranslate"><span class="pre">$LS_COLORS</span></code>
environment variable. This ensures that the <code class="docutils literal notranslate"><span class="pre">ls</span></code> command respects the
<code class="docutils literal notranslate"><span class="pre">$XONSH_COLOR_STYLE</span></code> setting. An instance of this class is added to the
environment when either the <code class="docutils literal notranslate"><span class="pre">$LS_COLORS</span></code> class is first accessed or
the <code class="docutils literal notranslate"><span class="pre">ls</span></code> command is executed.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">on_pre_spec_run_ls</span></code> event is initialized with a default handler
that ensures that <code class="docutils literal notranslate"><span class="pre">$LS_COLORS</span></code> is set in the actual environment prior
to running an <code class="docutils literal notranslate"><span class="pre">ls</span></code> command.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.tools.detype()</span></code> function that simply calls an object’s own
<code class="docutils literal notranslate"><span class="pre">detype()</span></code> method in order to detype it.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.tools.always_none()</span></code> function that simply returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">Env.set_ensurer()</span></code> method for setting an ensurer on an environment.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>The black and white style <code class="docutils literal notranslate"><span class="pre">bw</span></code> now uses actual black and white
ANSI colore codes for its colors, rather than just empty color
sequences.</p></li>
<li><p>An environment variable <code class="docutils literal notranslate"><span class="pre">detype</span></code> operation no longer needs to be a
function, but may also be <code class="docutils literal notranslate"><span class="pre">None</span></code>. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this variable is
considered not detypeable, and will not be exported to subprocess
environments via the <code class="docutils literal notranslate"><span class="pre">Env.detype()</span></code> function.</p></li>
<li><p>An environment variable <code class="docutils literal notranslate"><span class="pre">detype</span></code> function no longer needs to return
a string, but may also return <code class="docutils literal notranslate"><span class="pre">None</span></code>. If <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned, this
variable is  considered not detypeable, and will not be exported to
subprocess environments via the <code class="docutils literal notranslate"><span class="pre">Env.detype()</span></code> function.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Env.detype()</span></code> method has been updated to respect the new
<code class="docutils literal notranslate"><span class="pre">None</span></code> types when detyping.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">xonsh.tools.expandvars()</span></code> function has been updated to respect
the new <code class="docutils literal notranslate"><span class="pre">None</span></code> types when detyping.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">xonsh.xonfig.make_xonfig_wizard()</span></code> function has been updated to respect
the new <code class="docutils literal notranslate"><span class="pre">None</span></code> types when detyping.</p></li>
<li><p>Event handlers may now be added and discarded during event firing for
normal events.  Such modifications will not be applied until the
current firing operation is concluded. Thus you won’t see newly added
events fired.</p></li>
<li><p>xonsh now uses its own vendored version of ply. Any installed versions will no longer be used. This reflects that ply is no
longer distributed as an installable package.</p></li>
<li><p>Updated to use ply version 3.11.</p></li>
<li><p>Reverted change in <code class="docutils literal notranslate"><span class="pre">give_to_terminal</span></code> to restore working version of
<code class="docutils literal notranslate"><span class="pre">cmake</span></code>, <code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">-i</span></code>, etc.  This breaks <code class="docutils literal notranslate"><span class="pre">pv</span> <span class="pre">|</span> <span class="pre">head</span></code>.</p></li>
</ul>
<p><strong>Deprecated:</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">xonsh.color_tools.make_pallete()</span></code> function is no
longer deprecated, as it is actually needed in other parts of
xonsh still, such as <code class="docutils literal notranslate"><span class="pre">pyghooks</span></code>.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>All code references to <code class="docutils literal notranslate"><span class="pre">$FORMATTER_DICT</span></code> have been removed.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Resolved issues where macro functions were not able to properly
accept single-line statements in <code class="docutils literal notranslate"><span class="pre">exec</span></code> and <code class="docutils literal notranslate"><span class="pre">single</span></code> mode.</p></li>
<li><p>Minor fixes to <code class="docutils literal notranslate"><span class="pre">xonsh.events.debug_level()</span></code>.</p></li>
<li><p>Fixed a regression where some interactive commands were not waited for
properly for long enough.</p></li>
<li><p>Fixed environments not showing in the prompt when using Anaconda Python.</p></li>
<li><p>Fixed regression with anaconda activate/deactivate scripts not working on Windows.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Morten Enemark Lund</p></li>
</ul>
</section>
<section id="v0-8-10">
<h2>v0.8.10<a class="headerlink" href="#v0-8-10" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.aliases.partial_eval_alias()</span></code> function and related classes
for dispatching and evaluating partial alias applications for callable
aliases.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Subprocesses will no longer close file descriptors automatically.
This was causing issues with other commands that expected file
descriptors to remain open, such as <code class="docutils literal notranslate"><span class="pre">make</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">xonsh.Aliases.eval_alias()</span></code> method updated to use
<code class="docutils literal notranslate"><span class="pre">xonsh.aliases.partial_eval_alias()</span></code>.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">xonsh.completers.base.complete_base()</span></code> to no longer throw an
error caused by <code class="docutils literal notranslate"><span class="pre">complete_python()</span></code> sometimes returning a tuple.
This fixes cases such as <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">&amp;&amp;&lt;TAB&gt;</span></code>.</p></li>
<li><p>Fixed regression with line continuations in implicit subprocess mode within
indented blocks of code, such as if-statements.</p></li>
<li><p>Resolved issue where setting empty signal masks was causing the
terminal to close. This was problematic for certain command
pipelines. For example, <code class="docutils literal notranslate"><span class="pre">pv</span> <span class="pre">/dev/urandom</span> <span class="pre">|</span> <span class="pre">head</span></code> now works.</p></li>
<li><p>Prevents recursive errors from being raised when there is no child process
in <code class="docutils literal notranslate"><span class="pre">xonsh.jobs.wait_for_active_job()</span></code>.</p></li>
<li><p>Tweaked <code class="docutils literal notranslate"><span class="pre">xonsh.completers.commands.complete_skipper()</span></code> to insert a space following
certain tokens (<code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">||</span></code>, <code class="docutils literal notranslate"><span class="pre">|</span></code>, <code class="docutils literal notranslate"><span class="pre">and</span></code>, <code class="docutils literal notranslate"><span class="pre">or</span></code>) to avoid overwriting existing tokens
with completer output.</p></li>
<li><p>Fixed bug with evaluating recursive aliases that did not implement
the full callable alias signature.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Gil Forsyth</p></li>
<li><p>Troy de Freitas</p></li>
</ul>
</section>
<section id="v0-8-9">
<h2>v0.8.9<a class="headerlink" href="#v0-8-9" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>New <code class="docutils literal notranslate"><span class="pre">env_prefix</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">env_postfix</span></code> prompt fields for rendering the pre- and
post-fix characters of the an active virtual environment.</p></li>
<li><p>ON_WSL attribute in platform.py</p></li>
<li><p>Rendering of <code class="docutils literal notranslate"><span class="pre">{env_name}</span></code> in <code class="docutils literal notranslate"><span class="pre">$PROMPT</span></code> is now suppressed if
the <code class="docutils literal notranslate"><span class="pre">$VIRTUAL_ENV_DISABLE_PROMPT</span></code> environment variable is
defined and truthy.</p></li>
<li><p>Rendering of <code class="docutils literal notranslate"><span class="pre">{env_name}</span></code> in <code class="docutils literal notranslate"><span class="pre">$PROMPT</span></code> is now overridden by
the value of <code class="docutils literal notranslate"><span class="pre">str($VIRTUAL_ENV_PROMPT)</span></code> if that environment variable
is defined and <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">None</span></code>. <code class="docutils literal notranslate"><span class="pre">$VIRTUAL_ENV_DISABLE_PROMPT</span></code> takes precedence
over <code class="docutils literal notranslate"><span class="pre">$VIRTUAL_ENV_PROMPT</span></code>.</p></li>
<li><p>A xontrib which adds support for <a class="reference external" href="https://direnv.net/">direnv</a></p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">env_name</span></code> prompt field now looks up the pre- and post-fix characters,
rather than relying on hard-coded values.</p></li>
<li><p>Some minor <code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">show</span></code> efficiency improvements.</p></li>
<li><p>If we are on wsl, avoid to use xonsh_preexec_fn when pipe.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Made <code class="docutils literal notranslate"><span class="pre">$PATH</span></code> searching more robust to broken symlinks on Windows.</p></li>
<li><p>undesirable SIGSTOP by putting in a SIGCONT</p></li>
<li><p>Fixed issue with recursive aliases not being passed all keyword arguments
that are part of the callable alias spec. This allows commands like
<code class="docutils literal notranslate"><span class="pre">aliases['hsa']</span> <span class="pre">=</span> <span class="pre">&quot;history</span> <span class="pre">show</span> <span class="pre">all&quot;;</span> <span class="pre">hsa</span> <span class="pre">|</span> <span class="pre">head</span></code> to no longer fail
with strange errors.</p></li>
</ul>
<p><strong>Authors:</strong></p>
<ul class="simple">
<li><p>Anthony Scopatz</p></li>
<li><p>Sagar Tewari</p></li>
<li><p>Brian Skinn</p></li>
<li><p>Yohei Tamura</p></li>
<li><p>anatoly techtonik</p></li>
<li><p>74th</p></li>
<li><p>Chad Kennedy</p></li>
</ul>
</section>
<section id="v0-8-8">
<h2>v0.8.8<a class="headerlink" href="#v0-8-8" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">vox</span> <span class="pre">new</span></code> has an added <code class="docutils literal notranslate"><span class="pre">-p</span> <span class="pre">--interpreter</span></code> flag for choosing the Python interpreter to use for virtualenv creation</p></li>
<li><p>The default Python intrepreter vox uses to create virtual environments can be set using the <code class="docutils literal notranslate"><span class="pre">$VOX_DEFAULT_INTERPRETER</span></code> environment variable.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lib.ChainDB</span></code> now resolves results to the type of the inputs if possible</p></li>
</ul>
</section>
<section id="v0-8-7">
<h2>v0.8.7<a class="headerlink" href="#v0-8-7" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p>New xonsh syntax <code class="docutils literal notranslate"><span class="pre">pf</span></code> strings – combining path strings with f-strings.</p>
<p>Usage:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gil@bad_cat<span class="w"> </span>~<span class="w"> </span>$<span class="w"> </span><span class="nv">repos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;github.com&#39;</span>
gil@bad_cat<span class="w"> </span>~<span class="w"> </span>$<span class="w"> </span>pf<span class="s2">&quot;~/{repos}&quot;</span>
PosixPath<span class="o">(</span><span class="s1">&#39;/home/gil/github.com&#39;</span><span class="o">)</span>
gil@bad_cat<span class="w"> </span>~<span class="w"> </span>$<span class="w"> </span>pf<span class="s2">&quot;{</span><span class="nv">$HOME</span><span class="s2">}&quot;</span>
PosixPath<span class="o">(</span><span class="s1">&#39;/home/gil&#39;</span><span class="o">)</span>
gil@bad_cat<span class="w"> </span>~<span class="w"> </span>$<span class="w"> </span>pf<span class="s2">&quot;/home/</span><span class="si">${</span><span class="s1">&#39;US&#39;</span><span class="p"> + </span><span class="s1">&#39;ER&#39;</span><span class="si">}</span><span class="s2">&quot;</span>
PosixPath<span class="o">(</span><span class="s1">&#39;/home/gil&#39;</span><span class="o">)</span>
</pre></div>
</div>
</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Set <code class="docutils literal notranslate"><span class="pre">ls</span></code> to <code class="docutils literal notranslate"><span class="pre">predict_true</span></code> in <code class="docutils literal notranslate"><span class="pre">default_threadable_predictors</span></code>.  This prevents <code class="docutils literal notranslate"><span class="pre">ls</span></code> on OSX
from being flagged on OSX as unthreadable (incorrectly) because it relies on <code class="docutils literal notranslate"><span class="pre">ncurses</span></code>.</p></li>
</ul>
</section>
<section id="v0-8-6">
<h2>v0.8.6<a class="headerlink" href="#v0-8-6" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Doco about how to update xonsh and how to set and unset environment variables</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul>
<li><p>Updated behavior of the <code class="docutils literal notranslate"><span class="pre">cat</span></code> coreutils function so that it properly
handles as vareity of cases such as:</p>
<blockquote>
<div><ul class="simple">
<li><p>Exits after concatenating normal files which have a finite size</p></li>
<li><p>Continues to run for special files which do not have a size,
such as <code class="docutils literal notranslate"><span class="pre">/dev/random</span></code></p></li>
<li><p>Is interruptable in all cases with Crtl-C.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Callable aliases were not properly raising a <code class="docutils literal notranslate"><span class="pre">CalledProcessError</span></code> when they
returned a non-zero exist status when <code class="docutils literal notranslate"><span class="pre">$RAISE_SUBPROC_ERROR</span> <span class="pre">=</span> <span class="pre">True</span></code>. This has
been fixed.</p></li>
<li><p>Fixed interpretation of color names with PTK2 and Pygments 2.3.1.</p></li>
</ul>
</section>
<section id="v0-8-5">
<h2>v0.8.5<a class="headerlink" href="#v0-8-5" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p>Add alias to <a class="reference external" href="https://github.com/chriskempson/base16-shell">base16 shell</a></p></li>
<li><dl>
<dt>Installation / Usage</dt><dd><ol class="arabic">
<li><p>To install use pip</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>xontrib-base16-shell
</pre></div>
</div>
</li>
<li><p>Add on <code class="docutils literal notranslate"><span class="pre">~/.xonshrc</span></code></p>
<div class="highlight-xonsh notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="nv">$BASE16_SHELL</span> <span class="o">=</span> <span class="nv">$HOME</span> <span class="o">+</span> <span class="s2">&quot;/.config/base16-shell/&quot;</span>
<span class="linenos">2</span><span class="n">xontrib</span> <span class="n">load</span> <span class="n">base16_shell</span>
</pre></div>
</div>
</li>
<li><p>See image</p>
<a class="reference internal image-reference" href="https://raw.githubusercontent.com/ErickTucto/xontrib-base16-shell/master/docs/terminal.png"><img alt="terminal.png" src="https://raw.githubusercontent.com/ErickTucto/xontrib-base16-shell/master/docs/terminal.png" style="width: 600px;" />
</a>
</li>
</ol>
</dd>
</dl>
</li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">DumbShell</span></code> class that kicks in whenever <code class="docutils literal notranslate"><span class="pre">$TERM</span> <span class="pre">==</span> <span class="pre">&quot;dumb&quot;</span></code>.
This usually happens in emacs. Currently, this class inherits from
the <code class="docutils literal notranslate"><span class="pre">ReadlineShell</span></code> but adds some light customization to make
sure that xonsh looks good in the resultant terminal emulator.</p></li>
<li><p>Aliases from foreign shells (e.g. Bash) that are more than single expressions,
or contain sub-shell executions, are now evaluated and run in the foreign shell.
Previously, xonsh would attempt to translate the alias from sh-lang into
xonsh. These restrictions have been removed.  For example, the following now
works:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>source-bash<span class="w"> </span><span class="s1">&#39;alias eee=&quot;echo aaa \$(echo b)&quot;&#39;</span>
$<span class="w"> </span>eee
aaa<span class="w"> </span>b
</pre></div>
</div>
</li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">ForeignShellBaseAlias</span></code>, <code class="docutils literal notranslate"><span class="pre">ForeignShellFunctionAlias</span></code>, and
<code class="docutils literal notranslate"><span class="pre">ForeignShellExecAlias</span></code> classes have been added which manage foreign shell
alias execution.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul>
<li><p>String aliases will now first be checked to see if they contain sub-expressions
that require evaluations, such as <code class="docutils literal notranslate"><span class="pre">&#64;(expr)</span></code>, <code class="docutils literal notranslate"><span class="pre">$[cmd]</span></code>, etc. If they do,
then an <code class="docutils literal notranslate"><span class="pre">ExecAlias</span></code> will be constructed, rather than a simple list-of-strs
substitutiuon alias being used. For example:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>aliases<span class="o">[</span><span class="s1">&#39;uuu&#39;</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;echo ccc </span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span>ddd<span class="k">)</span><span class="s2">&quot;</span>
$<span class="w"> </span>aliases<span class="o">[</span><span class="s1">&#39;uuu&#39;</span><span class="o">]</span>
ExecAlias<span class="o">(</span><span class="s1">&#39;echo ccc $(echo ddd)\n&#39;</span>,<span class="w"> </span><span class="nv">filename</span><span class="o">=</span><span class="s1">&#39;&lt;exec-alias:uuu&gt;&#39;</span><span class="o">)</span>
$<span class="w"> </span>uuu
ccc<span class="w"> </span>ddd
</pre></div>
</div>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">parse_aliases()</span></code> function now requires the shell name.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ForeignShellFunctionAlias</span></code> now inherits from <code class="docutils literal notranslate"><span class="pre">ForeignShellBaseAlias</span></code>
rather than <code class="docutils literal notranslate"><span class="pre">object</span></code>.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed issues where the prompt-toolkit v2 shell would print an extra newline
after Python evaluations in interactive mode.</p></li>
</ul>
</section>
<section id="v0-8-4">
<h2>v0.8.4<a class="headerlink" href="#v0-8-4" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Added the possibility of arbitrary paths to the help strings in <code class="docutils literal notranslate"><span class="pre">vox</span> <span class="pre">activate</span></code> and
<code class="docutils literal notranslate"><span class="pre">vox</span> <span class="pre">remove</span></code>; also updated the documentation accordingly.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.aliases.ExecAlias</span></code> class enables multi-statement aliases.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.ast.isexpression()</span></code> function will return a boolean of whether
code is a simple xonsh expression or not.</p></li>
<li><p>Added top-level <code class="docutils literal notranslate"><span class="pre">run-tests.xsh</span></code> script for safely running the test suite.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul>
<li><p>String aliases are no longer split with <code class="docutils literal notranslate"><span class="pre">shlex.split()</span></code>, but instead use
<code class="docutils literal notranslate"><span class="pre">xonsh.lexer.Lexer.split()</span></code>.</p></li>
<li><p>Update xonsh/prompt/cwd.py _collapsed_pwd to print 2 chars if a directory begins with “.”</p></li>
<li><p>test which determines whether a directory is a virtualenv</p>
<p>previously it used to check the existence of ‘pyvenv.cfg’
now it checks if ‘bin/python’ is executable</p>
</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul>
<li><p>Fixed issue with <code class="docutils literal notranslate"><span class="pre">and</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">or</span></code> being incorrectly tokenized in implicit
subprocesses. Auto-wrapping of certain subprocesses will now correctly work.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ echo x-and-y
x-and-y
</pre></div>
</div>
</li>
<li><p>Fix EOFError when press <cite>control+d</cite></p></li>
<li><p>fix no candidates if no permission files in PATH</p></li>
<li><p>Fixed interpretation of color names with PTK2 and Pygments 2.3.</p></li>
<li><p>Several ResourceWarnings: unclosed file in tests</p></li>
<li><p>AttributeError crash when using –timings flag</p></li>
<li><p>issue #2929</p></li>
</ul>
</section>
<section id="v0-8-3">
<h2>v0.8.3<a class="headerlink" href="#v0-8-3" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Dociumentation paragrapgh about gow to run xonsh in Emacs shell</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Updated what pip requirements are needed to build the documnetaion</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$XONSH_TRACEBACK_LOGFILE</span></code> now beside strings also accepts <code class="docutils literal notranslate"><span class="pre">os.PathLike</span></code>
objects.</p></li>
<li><p>Updated vended version of <code class="docutils literal notranslate"><span class="pre">ply</span></code> to 3.11</p></li>
<li><p>Deprecation warnings now print from stacklevel 3.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul>
<li><p>Annotation assignment statements (e.g. <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">42</span></code>) are now supported.</p></li>
<li><p>Fixed error output wording for fg and bg commands</p></li>
<li><p>Flake8 errors</p></li>
<li><p>xonsh can now properly parse import statements with trailing comma within
parentheses, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">x</span> <span class="kn">import</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,)</span>
</pre></div>
</div>
</li>
<li><p>ResourceWarning: unclosed scandir iterator in imphooks.py</p></li>
<li><p>Removed use of deprecated <code class="docutils literal notranslate"><span class="pre">inspect.formatargspec()</span></code> for <code class="docutils literal notranslate"><span class="pre">inspect.signature()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Makefile</span></code> directive that updates vended version of <code class="docutils literal notranslate"><span class="pre">ply</span></code></p></li>
</ul>
</section>
<section id="v0-8-2">
<h2>v0.8.2<a class="headerlink" href="#v0-8-2" title="Link to this heading">¶</a></h2>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Now there is only a single instance of <code class="docutils literal notranslate"><span class="pre">string.Formatter()</span></code> in the
code base, which is called <code class="docutils literal notranslate"><span class="pre">xonsh.tools.FORMATTER</span></code>.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>f-strings (<code class="docutils literal notranslate"><span class="pre">f&quot;{expr}&quot;</span></code>) are now fully capable of executing xonsh expressions.
The one exception to this is that <code class="docutils literal notranslate"><span class="pre">![cmd]</span></code> and <code class="docutils literal notranslate"><span class="pre">!(cmd)</span></code> don’t work because
the <code class="docutils literal notranslate"><span class="pre">!</span></code> character interferes with Python string formatting. If you need to
run subprocesses inside of f-strings, use <code class="docutils literal notranslate"><span class="pre">$[cmd]</span></code> and <code class="docutils literal notranslate"><span class="pre">$(cmd)</span></code> instead.</p></li>
<li><p>Fixed occasional “no attribute ‘settitle’ error”</p></li>
</ul>
</section>
<section id="v0-8-1">
<h2>v0.8.1<a class="headerlink" href="#v0-8-1" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">SubprocSpec</span></code> has a new <code class="docutils literal notranslate"><span class="pre">pipeline_index</span></code> integer attribute that indicates
the commands position in a pipeline. For example, in</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nv">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>!<span class="o">[</span>ls<span class="w"> </span>-l<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>x<span class="o">]</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">ls</span></code> command would have a pipeline index of 0
(<code class="docutils literal notranslate"><span class="pre">p.specs[0].pipeline_index</span> <span class="pre">==</span> <span class="pre">0</span></code>) and <code class="docutils literal notranslate"><span class="pre">grep</span></code> would have a pipeline index
of 1 (<code class="docutils literal notranslate"><span class="pre">p.specs[1].pipeline_index</span> <span class="pre">==</span> <span class="pre">1</span></code>).  This may be usefule in callable
alaises which recieve the spec as an argument.</p>
</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">fish</span></code> from list of supported foreign shells in the wizard.</p></li>
<li><p>Circle CI config updated to use a pinned version of <code class="docutils literal notranslate"><span class="pre">black</span></code> (18.9b0)</p></li>
<li><p>Pytest plugin now uses <code class="docutils literal notranslate"><span class="pre">xonsh.main.setup()</span></code> to setup test environment.</p></li>
<li><p>Linux platform discovery will no longer use <code class="docutils literal notranslate"><span class="pre">platform.linux_distribution()</span></code>
on Python &gt;=3.6.6. due to pending deprecation warning.</p></li>
<li><p>Updated Linux Guide as Xonsh is now available in Arch Linux official repositories.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Builtin dynamic proxies and deprecation warning proxies were not deleting
attributes and items properly.</p></li>
<li><p>Fixed stdout/sdterr writing infinite recursion error that would occur in
long pipelines of callable aliases.</p></li>
<li><p>Fixed a bug which under very rare conditions could cause the shell
to die with PermissionError exception while sending SIGSTOP signal
to a child process.</p></li>
<li><p>Fixed further raw string deprecation warnings thoughout the code base.</p></li>
</ul>
</section>
<section id="v0-8-0">
<h2>v0.8.0<a class="headerlink" href="#v0-8-0" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p>Windows CI jobs on Azure Pipelines</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">cryptop</span></code> command will no longer have its output captured
by default.</p></li>
<li><p>Added new env-var <code class="docutils literal notranslate"><span class="pre">PTK_STYLE_OVERRIDES</span></code>. The variable is
a dictionary containing custom prompt_toolkit style definitions.
For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$PTK_STYLE_OVERRIDES[&#39;completion-menu&#39;] = &#39;bg:#333333 #EEEEEE&#39;
</pre></div>
</div>
<p>will provide for more visually pleasing completion menu style whereas:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$PTK_STYLE_OVERRIDES[&#39;bottom-toolbar&#39;] = &#39;noreverse&#39;
</pre></div>
</div>
<p>will prevent prompt_toolkit from inverting the bottom toolbar colors
(useful for powerline extension users)</p>
<p>Note: This only works with prompt_toolkit 2 prompter.</p>
</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>All <code class="docutils literal notranslate"><span class="pre">__xonsh_*__</span></code> builtins have been migrated to a <code class="docutils literal notranslate"><span class="pre">XonshSession</span></code> instance at
<code class="docutils literal notranslate"><span class="pre">__xonsh__</span></code>. E.g. <code class="docutils literal notranslate"><span class="pre">__xonsh_env__</span></code> is now <code class="docutils literal notranslate"><span class="pre">__xonsh__.env</span></code>.</p></li>
<li><p>Other xonsh-specific builtins (such as <code class="docutils literal notranslate"><span class="pre">XonshError</span></code>) have been proxied to
the <code class="docutils literal notranslate"><span class="pre">__xonsh__</span></code> session object as well.</p></li>
</ul>
<p><strong>Deprecated:</strong></p>
<ul class="simple">
<li><p>All <code class="docutils literal notranslate"><span class="pre">__xonsh_*__</span></code> builtins are deprected. Instead, the corresponding
<code class="docutils literal notranslate"><span class="pre">__xonsh__.*</span></code> accessor should be used. The existing <code class="docutils literal notranslate"><span class="pre">__xonsh_*__</span></code> accessors
still work, but issue annoying warnings.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul>
<li><p>Fixed deprecation warnings from unallowed escape sequences as well as importing abstract base classes directly from <code class="docutils literal notranslate"><span class="pre">collections</span></code></p></li>
<li><p>Fix for string index error in stripped prefix</p></li>
<li><p>bash_completions to include special characters in lprefix</p>
<p>Previously, glob expansion characters would not be included in lprefix for replacement</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>touch<span class="w"> </span>/tmp/abc
$<span class="w"> </span>python
&gt;&gt;&gt;<span class="w"> </span>from<span class="w"> </span>bash_completion<span class="w"> </span>import<span class="w"> </span>bash_completions
&gt;&gt;&gt;
&gt;&gt;&gt;<span class="w"> </span>def<span class="w"> </span>get_completions<span class="o">(</span>line<span class="o">)</span>:
...<span class="w">     </span><span class="nv">split</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>line.split<span class="o">()</span>
...<span class="w">     </span><span class="k">if</span><span class="w"> </span>len<span class="o">(</span>split<span class="o">)</span><span class="w"> </span>&gt;<span class="w"> </span><span class="m">1</span><span class="w"> </span>and<span class="w"> </span>not<span class="w"> </span>line.endswith<span class="o">(</span><span class="s1">&#39; &#39;</span><span class="o">)</span>:
...<span class="w">         </span><span class="nv">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>split<span class="o">[</span>-1<span class="o">]</span>
...<span class="w">         </span><span class="nv">begidx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>len<span class="o">(</span>line.rsplit<span class="o">(</span>prefix<span class="o">)[</span><span class="m">0</span><span class="o">])</span>
...<span class="w">     </span><span class="k">else</span>:
...<span class="w">         </span><span class="nv">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span>
...<span class="w">         </span><span class="nv">begidx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>len<span class="o">(</span>line<span class="o">)</span>
...<span class="w">     </span><span class="nv">endidx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>len<span class="o">(</span>line<span class="o">)</span>
...<span class="w">     </span><span class="k">return</span><span class="w"> </span>bash_completions<span class="o">(</span>prefix,<span class="w"> </span>line,<span class="w"> </span>begidx,<span class="w"> </span>endidx<span class="o">)</span>
...
&gt;&gt;&gt;<span class="w"> </span>get_completions<span class="o">(</span><span class="s1">&#39;ls /tmp/a*&#39;</span><span class="o">)</span>
<span class="o">({</span><span class="s1">&#39;/tmp/abc &#39;</span><span class="o">}</span>,<span class="w"> </span><span class="m">0</span><span class="o">)</span>
</pre></div>
</div>
<p>Now, lprefix begins at the first special character:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python
&gt;&gt;&gt;<span class="w"> </span>from<span class="w"> </span>bash_completion<span class="w"> </span>import<span class="w"> </span>bash_completions
&gt;&gt;&gt;
&gt;&gt;&gt;<span class="w"> </span>def<span class="w"> </span>get_completions<span class="o">(</span>line<span class="o">)</span>:
...<span class="w">     </span><span class="nv">split</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>line.split<span class="o">()</span>
...<span class="w">     </span><span class="k">if</span><span class="w"> </span>len<span class="o">(</span>split<span class="o">)</span><span class="w"> </span>&gt;<span class="w"> </span><span class="m">1</span><span class="w"> </span>and<span class="w"> </span>not<span class="w"> </span>line.endswith<span class="o">(</span><span class="s1">&#39; &#39;</span><span class="o">)</span>:
...<span class="w">         </span><span class="nv">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>split<span class="o">[</span>-1<span class="o">]</span>
...<span class="w">         </span><span class="nv">begidx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>len<span class="o">(</span>line.rsplit<span class="o">(</span>prefix<span class="o">)[</span><span class="m">0</span><span class="o">])</span>
...<span class="w">     </span><span class="k">else</span>:
...<span class="w">         </span><span class="nv">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span>
...<span class="w">         </span><span class="nv">begidx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>len<span class="o">(</span>line<span class="o">)</span>
...<span class="w">     </span><span class="nv">endidx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>len<span class="o">(</span>line<span class="o">)</span>
...<span class="w">     </span><span class="k">return</span><span class="w"> </span>bash_completions<span class="o">(</span>prefix,<span class="w"> </span>line,<span class="w"> </span>begidx,<span class="w"> </span>endidx<span class="o">)</span>
...
&gt;&gt;&gt;<span class="w"> </span>get_completions<span class="o">(</span><span class="s1">&#39;ls /tmp/a*&#39;</span><span class="o">)</span>
<span class="o">({</span><span class="s1">&#39;/tmp/abc &#39;</span><span class="o">}</span>,<span class="w"> </span><span class="m">7</span><span class="o">)</span>
</pre></div>
</div>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">xonsh.main.setup()</span></code> function now correctly passes the
<code class="docutils literal notranslate"><span class="pre">shell_type</span></code> argument to the shell instance.</p></li>
<li><p>try_subproc_toks now works for subprocs with trailing and leading whitespace</p>
<p>Previously, non-greedy wrapping of commands would fail if they had leading and trailing whitespace:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">false</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span>a
xonsh:<span class="w"> </span>For<span class="w"> </span>full<span class="w"> </span>traceback<span class="w"> </span>set:<span class="w"> </span><span class="nv">$XONSH_SHOW_TRACEBACK</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>True
NameError:<span class="w"> </span>name<span class="w"> </span><span class="s1">&#39;false&#39;</span><span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>defined

$<span class="w"> </span>echo<span class="p">;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span>a

xonsh:<span class="w"> </span>For<span class="w"> </span>full<span class="w"> </span>traceback<span class="w"> </span>set:<span class="w"> </span><span class="nv">$XONSH_SHOW_TRACEBACK</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>True
NameError:<span class="w"> </span>name<span class="w"> </span><span class="s1">&#39;echo&#39;</span><span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>defined
</pre></div>
</div>
<p>Now, the commands are parsed as expected:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">false</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span>a
a

$<span class="w"> </span>echo<span class="p">;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span>a


a
</pre></div>
</div>
</li>
</ul>
</section>
<section id="v0-7-10">
<h2>v0.7.10<a class="headerlink" href="#v0-7-10" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>‘off’ can be passed as falsy value to all flags accepting boolean argument.</p></li>
<li><p>DragonFly BSD support</p></li>
<li><p>Format strings (f-strings) now allow environment variables to be looked up.
For example, <code class="docutils literal notranslate"><span class="pre">f&quot;{$HOME}&quot;</span></code> will yield <code class="docutils literal notranslate"><span class="pre">&quot;/home/user&quot;</span></code>. Note that this will
look up and fill in the <code class="docutils literal notranslate"><span class="pre">detype()</span></code>-ed version of the environment variable,
i.e. it’s native string representation.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Running <code class="docutils literal notranslate"><span class="pre">aurman</span></code> command will now be predicted to be unthreaded by default.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>The xonsh <code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">wizard</span></code> would crash if an unknown foreign shell was
provided. This has been fixed.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">hg</span> <span class="pre">split</span></code> command will now predict as unthreadable.</p></li>
<li><p>Fixed path completer crash on attempted f-string completion</p></li>
</ul>
</section>
<section id="v0-7-9">
<h2>v0.7.9<a class="headerlink" href="#v0-7-9" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p>The python-mode <code class="docutils literal notranslate"><span class="pre">&#64;(expr)</span></code> syntax may now be used inside of subprocess
arguments, not just as a stand-alone argument. For example:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;hello&#39;</span>
$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>/path/to/@<span class="o">(</span>x<span class="o">)</span>
/path/to/hello
</pre></div>
</div>
<p>This syntax will even properly expand to the outer product if the <code class="docutils literal notranslate"><span class="pre">expr</span></code>
is a list (or other non-string iterable) of values:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>/path/to/@<span class="o">([</span><span class="s1">&#39;hello&#39;</span>,<span class="w"> </span><span class="s1">&#39;world&#39;</span><span class="o">])</span>
/path/to/hello<span class="w"> </span>/path/to/world

$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>@<span class="o">([</span><span class="s1">&#39;a&#39;</span>,<span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="o">])</span>:@<span class="o">(</span><span class="s1">&#39;x&#39;</span>,<span class="w"> </span><span class="s1">&#39;y&#39;</span><span class="o">)</span>
a:x<span class="w"> </span>a:y<span class="w"> </span>b:x<span class="w"> </span>b:y
</pre></div>
</div>
<p>Previously this was not possible.</p>
</li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">$DOTGLOB</span></code> environment variable enables globs to match
“hidden” files which start with a literal <code class="docutils literal notranslate"><span class="pre">.</span></code>. Set this
variable to <code class="docutils literal notranslate"><span class="pre">True</span></code> to get this matching behavior.
Cooresponding API changes have been made to
<code class="docutils literal notranslate"><span class="pre">xonsh.tools.globpath()</span></code> and <code class="docutils literal notranslate"><span class="pre">xonsh.tools.iglobpath()</span></code></p></li>
<li><p>New environment variable <code class="docutils literal notranslate"><span class="pre">$FOREIGN_ALIASES_SUPPRESS_SKIP_MESSAGE</span></code>
enables the removal of skipping foreign alias messages.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">--suppress-skip-message</span></code> command line option for skipping
foreign alias messages when sourcing foreign shells.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>In Bash completions, if there are no files to source, a <code class="docutils literal notranslate"><span class="pre">set()</span></code> will
no longer be inserted into the completion script.</p></li>
<li><p>Fixed issue with TAB completion in readline not replacing values
with spaces properly when the prefix was unquoted.</p></li>
</ul>
</section>
<section id="v0-7-8">
<h2>v0.7.8<a class="headerlink" href="#v0-7-8" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.lib.collections.ChainDB</span></code>, a chain map which merges mergable fields</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Pass all params to voxapi.create</p></li>
<li><p>PTK tab-completion now auto-accepts completion if only one option is present
(note that fix is only for PTK2)</p></li>
</ul>
</section>
<section id="v0-7-7">
<h2>v0.7.7<a class="headerlink" href="#v0-7-7" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>A xontrib which adds support for autojump to xonsh</p></li>
<li><p>Added new env-var <code class="docutils literal notranslate"><span class="pre">XONSH_HISTORY_MATCH_ANYWHERE</span></code>. If set to <code class="docutils literal notranslate"><span class="pre">True</span></code> then
up-arrow history matching will match existing history entries with the search
term located anywhere, not just at the beginning of the line. Default value is
<code class="docutils literal notranslate"><span class="pre">False</span></code></p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Improved iteration over virtual environments in <code class="docutils literal notranslate"><span class="pre">Vox.__iter__</span></code></p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul>
<li><p>Fix for <code class="docutils literal notranslate"><span class="pre">Enter</span></code> not returning from Control-R search buffer</p></li>
<li><p>Fixed automatic wrapping of many subprocesses that spanned multiple lines via
line continuation characters with logical operators separating the commands.
For example, the following now works:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="se">\</span>
and<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;b&#39;</span>
</pre></div>
</div>
</li>
<li><p>Environment swapping would not properly reraise errors due to weird
Python name binding issue.</p></li>
</ul>
</section>
<section id="v0-7-6">
<h2>v0.7.6<a class="headerlink" href="#v0-7-6" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Callable aliases may now accept a <code class="docutils literal notranslate"><span class="pre">stack</span></code> argument. If they do, then the
stack, as computed from the aliases call site, is provided as a list of
<code class="docutils literal notranslate"><span class="pre">FrameInfo</span></code> objects (as detailed in the standard library <code class="docutils literal notranslate"><span class="pre">inspect</span></code>
module). Otherwise, the <code class="docutils literal notranslate"><span class="pre">stack</span></code> parameter is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SubprocSpec</span></code> now has a <code class="docutils literal notranslate"><span class="pre">stack</span></code> attribute, for passing the call stack
to callable aliases. This defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code> if the spec does not
need the stack. The <code class="docutils literal notranslate"><span class="pre">resolve_stack()</span></code> method computes the <code class="docutils literal notranslate"><span class="pre">stack</span></code>
attribute.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>xonsh/environ.py
Exceptions are caught in the code executed under Env.swap()</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Scripts are now cached by their realpath, not just abspath.</p></li>
<li><p>Fixed a potential crash (<code class="docutils literal notranslate"><span class="pre">AssertionError:</span> <span class="pre">wrong</span> <span class="pre">color</span> <span class="pre">format</span></code>) on Python 3.5 and prompt_toolkit 1.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">completer</span></code> command now correctly finds completion functions
when nested inside of other functions.</p></li>
<li><p>Fixed a crash when using the <code class="docutils literal notranslate"><span class="pre">$XONSH_STDERR_PREFIX/POSTFIX</span></code> with
prompt_toolkit and Pygments 2.2.</p></li>
</ul>
</section>
<section id="v0-7-5">
<h2>v0.7.5<a class="headerlink" href="#v0-7-5" title="Link to this heading">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Recent command history in ptk2 prompt now returns most recently executed
commands first (as expected)</p></li>
<li><p>Fixed a regression taat prevented the readline backend from beeing used. This
regression was caused by the new ansi-color names, which are incompatible with
pygments 2.2.</p></li>
</ul>
</section>
<section id="v0-7-4">
<h2>v0.7.4<a class="headerlink" href="#v0-7-4" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh-cat</span></code> command line utility, which is a xonsh replacement
for the standard UNIX <code class="docutils literal notranslate"><span class="pre">cat</span></code> command.</p></li>
<li><p>The new <code class="docutils literal notranslate"><span class="pre">xonsh.xoreutils.cat.cat_main()</span></code> enables the <code class="docutils literal notranslate"><span class="pre">xonsh.xoreutils.cat</span></code>
module to be run as a command line utility.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">CommandsCache.is_only_functional_alias()</span></code> and
<code class="docutils literal notranslate"><span class="pre">CommandsCache.lazy_is_only_functional_alias()</span></code> methods for determining if
if a command name is only implemented as a function, and thus has no
underlying binary command to execute.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.xontribs.xontribs_load()</span></code> is a new first-class API for loading
xontribs via a Python function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$COMPLETIONS_DISPLAY</span></code> now supports readline-like behavior on
prompt-toolkit v2.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>The xonsh Jupyter kernel now will properly redirect the output of commands
such as <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">log</span></code>, <code class="docutils literal notranslate"><span class="pre">man</span></code>, <code class="docutils literal notranslate"><span class="pre">less</span></code> and other paged commands to the client.
This is done by setting <code class="docutils literal notranslate"><span class="pre">$PAGER</span> <span class="pre">=</span> <span class="pre">'cat'</span></code>. If <code class="docutils literal notranslate"><span class="pre">cat</span></code> is not available
on the system, <code class="docutils literal notranslate"><span class="pre">xonsh-cat</span></code> is used instead.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">setup()</span></code> function for starting up a working xonsh has <code class="docutils literal notranslate"><span class="pre">aliases</span></code>,
<code class="docutils literal notranslate"><span class="pre">xontribs</span></code>, and <code class="docutils literal notranslate"><span class="pre">threadable_predictors</span></code> as new additional keyword
arguments for customizing the loading of xonsh.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><dl class="simple">
<dt>Fixed a bug with converting new PTK2 colors names to old names when using PTK1 or Jupyter</dt><dd><p>as the shell type.</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CommandsCache.locate_binary()</span></code> will now properly return None when
<code class="docutils literal notranslate"><span class="pre">ignore_alias=False</span></code> and the command is only a functional alias,
such as with <code class="docutils literal notranslate"><span class="pre">cd</span></code>. Previously, it would return the name of the
command.</p></li>
<li><p>Fixed issue with <code class="docutils literal notranslate"><span class="pre">$COMPLETIONS_DISPLAY</span></code> raising an error on
prompt-toolkit v2 when the value was not set to <code class="docutils literal notranslate"><span class="pre">multi</span></code>.</p></li>
<li><p>ValueError when executing <code class="docutils literal notranslate"><span class="pre">vox</span> <span class="pre">list</span></code></p></li>
</ul>
</section>
<section id="v0-7-3">
<h2>v0.7.3<a class="headerlink" href="#v0-7-3" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">PROMPT_TOOLKIT_COLOR_DEPTH</span></code> environment to xonsh default environment.
Possible values are <code class="docutils literal notranslate"><span class="pre">DEPTH_1_BIT</span></code>/<code class="docutils literal notranslate"><span class="pre">MONOCHROME</span></code>,
<code class="docutils literal notranslate"><span class="pre">DEPTH_4_BIT</span></code>/<code class="docutils literal notranslate"><span class="pre">ANSI_COLORS_ONLY</span></code>, <code class="docutils literal notranslate"><span class="pre">DEPTH_8_BIT</span></code>/<code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code>, or <code class="docutils literal notranslate"><span class="pre">DEPTH_24_BIT</span></code>/<code class="docutils literal notranslate"><span class="pre">TRUE_COLOR</span></code>.
Note: not all terminals support all color depths.</p></li>
<li><p>New way to fix unreadable default terminal colors on Windows 10. Windows 10
now supports true color in the terminal, so if prompt toolkit 2 is
installed Xonsh will use a style with hard coded colors instead of the
default terminal colors. This will give the same color experience as on linux an mac.
The behaviour can be disabled with <code class="docutils literal notranslate"><span class="pre">$INTENSIFY_COLORS_ON_WIN</span></code>
environment variable.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">JupyterShell</span></code> for interactive interfacing with Jupyter.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>All ansicolor names used in styles have ben updated to the color names used by prompt_toolkit 2.
The new names are are much easier to understand
(e.g. <code class="docutils literal notranslate"><span class="pre">ansicyan</span></code>/<code class="docutils literal notranslate"><span class="pre">ansibrightcyan</span></code> vs. the old <code class="docutils literal notranslate"><span class="pre">#ansiteal</span></code>/<code class="docutils literal notranslate"><span class="pre">#ansiturquoise</span></code>). The names are automatically
translated back when using prompt_toolkit 1.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>Removed support for pygments &lt; 2.2.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>New ansi-color names fixes the problem with darker colors using prompt_toolkit 2 on windows.</p></li>
<li><p>Fixed a problem with the color styles on prompt toolkit 2. The default pygment
style is no longer merged into style selected in xonsh.</p></li>
<li><p>The JupyterKernel has been fixed from a rather broken state.</p></li>
</ul>
</section>
<section id="v0-7-2">
<h2>v0.7.2<a class="headerlink" href="#v0-7-2" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">show</span></code> builtin now supports optional <code class="docutils literal notranslate"><span class="pre">-0</span></code> parameter that switches
the output to null-delimited. Useful for piping history to external filters.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>If exception is raised in indir context manager, return to original directory</p></li>
<li><p>Fixed issue that autocomplete menu does not display
at terminal’s maximum height</p></li>
</ul>
</section>
<section id="v0-7-1">
<h2>v0.7.1<a class="headerlink" href="#v0-7-1" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Added feature to aliases.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.lib.os.rmtree()</span></code> an rmtree which works on windows properly (even with
git)</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>set default value of <code class="docutils literal notranslate"><span class="pre">$AUTO_SUGGEST_IN_COMPLETIONS=False</span></code></p></li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">pygments_cache.get_all_styles()</span></code> function instead of
interacting directly with pygments.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul>
<li><p>Fixed issue with <code class="docutils literal notranslate"><span class="pre">$ARG&lt;N&gt;</span></code> varaibles not being passed to subprocesses correctly.</p></li>
<li><p>Fixed issue with multiline string inside of <code class="docutils literal notranslate"><span class="pre">&#64;(expr)</span></code> in
unwrapped subprocesses. For example, the following now works:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="o">@</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;hello</span>
<span class="s2">mom&quot;&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CommandPipeline.output</span></code> now does properly lazy, non-blocking creation of
output string. <code class="docutils literal notranslate"><span class="pre">CommandPipeline.out</span></code> remains blocking.</p></li>
<li><p>Fix regression in <code class="docutils literal notranslate"><span class="pre">INTENSIFY_COLORS_ON_WIN</span></code> functionality due to prompt_toolkit 2 update.</p></li>
<li><p>Fixed issue that can’t insert quotation marks and double quotes
for completion.</p></li>
<li><p>Fixed issue with <code class="docutils literal notranslate"><span class="pre">SyntaxErrors</span></code> being reported on the wrong line
when a block of code contained multiple implicit subprocesses.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prompt_toolkit</span> <span class="pre">&gt;=</span> <span class="pre">2</span></code> will start up even if Pygments isn’t present</p></li>
<li><p>Fixed a regression with <code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">styles</span></code> reporting <code class="docutils literal notranslate"><span class="pre">AttributeError:</span> <span class="pre">module</span> <span class="pre">'pygments'</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'styles'</span></code></p></li>
<li><p>ptk dependent xontribs (that use custom keybindings) now work with both ptk1
and ptk2</p></li>
<li><p>Fixed async tokenizing issue on Python v3.7.</p></li>
</ul>
</section>
<section id="v0-7-0">
<h2>v0.7.0<a class="headerlink" href="#v0-7-0" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Added a hook for printing a spcial display method on an object.</p></li>
<li><p>Support for <code class="docutils literal notranslate"><span class="pre">prompt_toolkit</span> <span class="pre">2.0</span></code></p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">--shell-type</span></code> (<code class="docutils literal notranslate"><span class="pre">$SHELL_TYPE</span></code>) may now be specified using
shortcuts, such as <code class="docutils literal notranslate"><span class="pre">rl</span></code> for <code class="docutils literal notranslate"><span class="pre">readline</span></code> and <code class="docutils literal notranslate"><span class="pre">ptk2</span></code> for
<code class="docutils literal notranslate"><span class="pre">prompt_toolkit2</span></code>. See <code class="docutils literal notranslate"><span class="pre">xonsh</span> <span class="pre">--help</span></code> for a full listing
of available aliases.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Restored AUGASSIGN_OPS definition, which was inadvertently removed.</p></li>
</ul>
</section>
<section id="v0-6-10">
<h2>v0.6.10<a class="headerlink" href="#v0-6-10" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.lib.subprocess.check_output</span></code> as a <code class="docutils literal notranslate"><span class="pre">check_output</span></code> drop in</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.lib.subprocess.run</span></code> doesn’t change dirs unless asked</p></li>
</ul>
</section>
<section id="v0-6-9">
<h2>v0.6.9<a class="headerlink" href="#v0-6-9" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>New xonsh standard library <code class="docutils literal notranslate"><span class="pre">xonsh.lib</span></code> subpackage</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.lib.os.indir</span></code> a context manager for temporarily entering into a directory</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.lib.subprocess.run</span></code> and <code class="docutils literal notranslate"><span class="pre">xonsh.lib.subprocess.check_call</span></code>
subprocess stubs using <code class="docutils literal notranslate"><span class="pre">xonsh</span></code> as the backend</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>update xoreutils._which.which() for python 3.x support.</p></li>
<li><p>Fixed issue with incorrect strip lengths for prefixes with quotes in them</p></li>
<li><p>Fixed bash script to also consider leading double quotes and not just single
quotes</p></li>
<li><p>Launching xonsh with prompt_toolkit version 2.x no longer fails, and instead fallsback to readline shell. This is a patch for until prompt_toolkit 2.x support is fully implemented. See PR #2570</p></li>
</ul>
</section>
<section id="v0-6-8">
<h2>v0.6.8<a class="headerlink" href="#v0-6-8" title="Link to this heading">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>completions relative to <code class="docutils literal notranslate"><span class="pre">CDPATH</span></code> only trigger when used with <code class="docutils literal notranslate"><span class="pre">cd</span></code></p></li>
<li><p>Import of <code class="docutils literal notranslate"><span class="pre">ctypes.util</span></code> is now explictly performed, as needed.
Python v3.7 no longer imports this module along with <code class="docutils literal notranslate"><span class="pre">ctypes</span></code>.</p></li>
<li><p>Fixed issue with pygments-cache not properly generating a cache the first
time when using prompt-toolkit. This was due to a lingering lazy import
of <code class="docutils literal notranslate"><span class="pre">pkg_resources</span></code> that has been removed.</p></li>
<li><p>Removed duplicate <code class="docutils literal notranslate"><span class="pre">pip</span></code> completer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bash_completion</span></code> no longer returns invalid prefix lengths for directories
containing escape file names</p></li>
<li><p>Fixed error when using redirection (e.g., &gt;) on Windows.</p></li>
</ul>
</section>
<section id="v0-6-7">
<h2>v0.6.7<a class="headerlink" href="#v0-6-7" title="Link to this heading">¶</a></h2>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Xonsh live example has been re-added back to the documentation.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed issue where xonsh would fail to properly return the terminal prompt
(and eat up 100% CPU) after a failed subprocess command in interactive mode
if <code class="docutils literal notranslate"><span class="pre">$RAISE_SUBPROC_ERROR</span> <span class="pre">=</span> <span class="pre">True</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.tokenize.tok_name</span></code> no longer mutates the standard library <code class="docutils literal notranslate"><span class="pre">tokenize.tok_name</span></code>.
A copy is made on import instead.</p></li>
</ul>
</section>
<section id="v0-6-6">
<h2>v0.6.6<a class="headerlink" href="#v0-6-6" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p>A multipurpose add method to EnvPath. For example:</p>
<div class="highlight-xonshcon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nv">$PATH</span>
<span class="go">EnvPath(</span>
<span class="go">[&#39;/usr/bin&#39;, &#39;/usr/local/bin&#39;, &#39;/bin&#39;]</span>
<span class="go">)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nv">$PATH</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;~/.local/bin&#39;</span><span class="p">,</span> <span class="n">front</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span> <span class="nv">$PATH</span>
<span class="go">EnvPath(</span>
<span class="go">[&#39;/home/user/.local/bin&#39;, &#39;/usr/bin&#39;, &#39;/usr/local/bin&#39;, &#39;/bin&#39;]</span>
<span class="go">)</span>
<span class="gp">&gt;&gt;&gt;</span> <span class="nv">$PATH</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s1">&#39;/usr/bin&#39;</span><span class="p">,</span> <span class="n">front</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">True</span><span class="p">);</span> <span class="nv">$PATH</span>
<span class="go">EnvPath(</span>
<span class="go">[&#39;/usr/bin&#39;, &#39;/home/user/.local/bin&#39;, &#39;/usr/local/bin&#39;, &#39;/bin&#39;]</span>
<span class="go">)</span>
</pre></div>
</div>
</li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">pygments-cache</span></code> project in order to reduce startup time.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>built_ins.py, corrected a typo.</p></li>
<li><p>test/test_news.py
It now uses regex to verify the format of rst files</p></li>
<li><p>Mercurial (<code class="docutils literal notranslate"><span class="pre">hg</span></code>) will no longer run in a threadable subprocess when
it is run in interactive mode.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>issue 2313</p></li>
</ul>
</section>
<section id="v0-6-5">
<h2>v0.6.5<a class="headerlink" href="#v0-6-5" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Wizard <code class="docutils literal notranslate"><span class="pre">FileInsterter</span></code> node class now has <code class="docutils literal notranslate"><span class="pre">dumps()</span></code> method for
converting a mapping to a string to insert in a file.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed issue with <code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">wizard</span></code> writer failing to write valid run control
files for environment variables that are containter types. In particular,
the storage of <code class="docutils literal notranslate"><span class="pre">$XONSH_HISTORY_SIZE</span></code> has been fixed.</p></li>
</ul>
</section>
<section id="v0-6-4">
<h2>v0.6.4<a class="headerlink" href="#v0-6-4" title="Link to this heading">¶</a></h2>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Error message improved for sourcing foreign shells, when file cannot be found
or there is a syntax error.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed issues with readline completer tab completing entries
with spaces.</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">xonsh.tools.columnize()</span></code> bug the prevented single-row
input from being columnized correctly.</p></li>
<li><p>Now honor ASYNC and AWAIT as keywords in tokenizer on
Python 3.7.</p></li>
</ul>
</section>
<section id="v0-6-3">
<h2>v0.6.3<a class="headerlink" href="#v0-6-3" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Docs for using <code class="docutils literal notranslate"><span class="pre">&#64;(&lt;expr&gt;)</span></code> as a way to run commands and a gotcha about
list of strings vs single string expressions.</p></li>
<li><p>Ubuntu versions which xonsh is packaged for (with xonsh versions)</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>When reporting errors without a traceback (i.e. <code class="docutils literal notranslate"><span class="pre">$XONSH_SHOW_TRACEBACK</span> <span class="pre">=</span> <span class="pre">False</span></code>) and the error is a <code class="docutils literal notranslate"><span class="pre">XonshError</span></code>
the exception type is not longer printed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CommandPipeline.proc</span></code> may now be <code class="docutils literal notranslate"><span class="pre">None</span></code>, to accomodate when the process
fails to even start (i.e. a missing command or incorrect permisions).</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">curl</span></code> command will now be run in a thread, which prevents documents that
do not end in a newline from writing over the next prompt and vice versa.</p></li>
<li><p>Fix bug on Windows when <code class="docutils literal notranslate"><span class="pre">PATHEXT</span></code> environment variable did not exist.
This also fixes building the xonsh documentation on Windows.</p></li>
<li><p>Fixed a bug in the <a class="reference external" href="http://xon.sh/xontribs.html#free-cwd">free_cwd</a> Windows Xontrib, which caused the prompt to error if the current directory is
deleted/renamed from an other process.</p></li>
<li><p>Fixed issue with <code class="docutils literal notranslate"><span class="pre">$XONSH_SHOW_TRACEBACK</span></code> not being respected in subprocess
mode when the command could not be found or had incorrect permissions.</p></li>
</ul>
</section>
<section id="v0-6-2">
<h2>v0.6.2<a class="headerlink" href="#v0-6-2" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Release tarballs now include licenses and minimal documentation for xonsh and ply</p></li>
<li><p>Wizard now has a <code class="docutils literal notranslate"><span class="pre">FileInserter</span></code> node that allows blocks to be
inserted and replaced inside of a file. This adheres to conversion
rules fordumping as provided on this node.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.wizard.StateVisitor.flatten()</span></code> method for flattening the
current state.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>The xonsh startup wizard will only be triggered if no xonshrc files exist
and the file <code class="docutils literal notranslate"><span class="pre">~/.local/config/xonsh/no-wizard</span></code> is not present.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">wizard</span></code> command will now run write out to the xonshrc file.</p></li>
<li><p>Wizard nodes <code class="docutils literal notranslate"><span class="pre">Save</span></code> and <code class="docutils literal notranslate"><span class="pre">Load</span></code> had their names changed to <code class="docutils literal notranslate"><span class="pre">SaveJSON</span></code>
and <code class="docutils literal notranslate"><span class="pre">LoadJSON</span></code>.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>Static configuration is dead (<code class="docutils literal notranslate"><span class="pre">config.json</span></code>), long live run control (<code class="docutils literal notranslate"><span class="pre">xonshrc</span></code>)!</p></li>
<li><p>The following evironment variables have been removed as they are no longer needed:
<code class="docutils literal notranslate"><span class="pre">$LOADED_CONFIG</span></code> and <code class="docutils literal notranslate"><span class="pre">$XONSHCONFIG</span></code>.</p></li>
<li><p>Many support functions for static configuration have also been removed.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Files starting with <code class="docutils literal notranslate"><span class="pre">#</span></code> are auto-escaped by TAB completion</p></li>
</ul>
</section>
<section id="v0-6-1">
<h2>v0.6.1<a class="headerlink" href="#v0-6-1" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Support for MSYS2.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.main.setup()</span></code> function for starting up xonsh in 3rd party
packages.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Updated CircleCI to use circle version 2.0</p></li>
<li><p>Replaced StopIteration with return in CommandPipeline.iterraw.</p></li>
<li><p>Xonsh run control now also looks for the XDG-compliant file
<code class="docutils literal notranslate"><span class="pre">~/.config/xonsh/rc.xsh</span></code> at startup.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Clean out <code class="docutils literal notranslate"><span class="pre">$LINES</span></code> and <code class="docutils literal notranslate"><span class="pre">$COLUMNS</span></code> if set, preventing some programs from drawing weirdly</p></li>
<li><p>cat from xoreutils now outputs in configured encoding</p></li>
<li><p>Fixed hanging issue with pipelines whose middle processes exit before the
first or last process.</p></li>
<li><p>Fixed issue where xonsh would deduplicate spaces from bash autocompletions.</p></li>
<li><p>Fixed failing redirections from stderr to stdout when the command
being executed was a callable alias.</p></li>
<li><p>Ensure that the <code class="docutils literal notranslate"><span class="pre">free_cwd</span></code> contrib can only be active on pure Windows.</p></li>
<li><p>Made an exceptional case in <code class="docutils literal notranslate"><span class="pre">iglobpath()</span></code> more robust when Python globbing
fails for due to strange scrandir issue.</p></li>
<li><p>Unexpected process suspension on Cygwin and MSYS2.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$XONSH_APPEND_NEWLINE</span></code> will now default to True when in interactive mode.</p></li>
<li><p>Fixed issue with uncalled lambdas being run in subproc mode.</p></li>
<li><p>Lambda nodes not have proper line and column numbers in AST.</p></li>
<li><p>Properly throw <code class="docutils literal notranslate"><span class="pre">SyntaxError</span></code> when no kwargs are defined
in a kwarg-only function. This used to throw a
<code class="docutils literal notranslate"><span class="pre">TypeError:</span> <span class="pre">'NoneType'</span> <span class="pre">object</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">iterable</span></code>.</p></li>
<li><p>Addressed issue where encoding and errors were None when teeing output.</p></li>
<li><p>Commands like <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">c</span></code> would complete to <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">'checkout</span> <span class="pre">'</span></code> because git adds an extra space
to the end of the completion, which was being captured in the completion. Xonsh now fixes the git issue
while retaining all whitespace when there is other internal whitespace.</p></li>
</ul>
</section>
<section id="v0-6-0">
<h2>v0.6.0<a class="headerlink" href="#v0-6-0" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p>Added an alias command, matching bash’s implementation, available as part of bashisms.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">$AUTO_SUGGEST_IN_COMPLETIONS</span></code> environment variable that enables/disables
whether the auto-suggestion result appears in the tab completions.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">__add__()</span></code> and <code class="docutils literal notranslate"><span class="pre">__radd__()</span></code> methods to <code class="docutils literal notranslate"><span class="pre">EnvPath</span></code>.</p></li>
<li><p>Xonsh now supports f-strings, as in Python v3.6+.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">ipython</span></code> as unthreadable in command cache threadabilty predictors.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">whole_word_jumping</span></code> xontrib</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">$XONSH_APPEND_NEWLINE</span></code> environment variable</p></li>
<li><p>Support for PEP 515: Underscores in Numeric Literals</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.color_tools.make_palette()</span></code></p>
<p>Simple rename of the pre-existing
<code class="docutils literal notranslate"><span class="pre">xonsh.color_tools.make_pallete()</span></code> function.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.tools.decorator()</span></code> function/method decorator.</p>
<p>This allows for an API function to be annotated with a
decorator that documents deprecation, while also tying in
functionality that will warn a user that the function has
been deprecated, and, raise an <code class="docutils literal notranslate"><span class="pre">AssertionError</span></code> if the
function has passed its expiry date.</p>
</li>
<li><p>New xontrib <code class="docutils literal notranslate"><span class="pre">schedule</span></code> (Xonsh Task Scheduler)</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">on_pre_prompt</span></code> is now fired before prompt calculations are made, allowing modifications to the prompt.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">emacsclient</span></code> will now return false in the threadable predictors.</p></li>
<li><p>Improved the autopair behavior to match that of popular code editors.</p></li>
<li><p>Moved the lazy <code class="docutils literal notranslate"><span class="pre">pkg_resources</span></code> package back to its original
place. The will hopefully address some of the slowdown issues
experiances on some platforms.</p></li>
<li><p>When xonsh is used to run an <code class="docutils literal notranslate"><span class="pre">xsh</span></code> script, the <code class="docutils literal notranslate"><span class="pre">xonshrc</span></code> is not loaded</p></li>
<li><p>Change in the behavior of the default predictor with binary analysis. The pattern <code class="docutils literal notranslate"><span class="pre">libgpm</span></code> is use, assuming when <code class="docutils literal notranslate"><span class="pre">gpm</span></code> is used the program is not threadable. This change solves issues with programs as <code class="docutils literal notranslate"><span class="pre">links</span></code>.</p></li>
<li><p>Error messages added to the <code class="docutils literal notranslate"><span class="pre">source</span></code> command if it is used with a language
that is not xonsh or Python.</p></li>
</ul>
<p><strong>Deprecated:</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.color_tools.make_pallette()</span></code></p>
<p>Deprecated in release 0.5.10 and will be removed in release 0.6.0.</p>
</li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Now f-strings can be used inside &#64;() without explicit enclosing command in ![]</p></li>
<li><p>Fix for <code class="docutils literal notranslate"><span class="pre">x,</span> <span class="pre">y,</span> <span class="pre">*z</span> <span class="pre">=</span> <span class="pre">...</span></code> unpacking.</p></li>
<li><p>Git branch detection now correctly passes the environment down to the subprocess
call.  This allows for branch detection when git is installed into a non-standard
location.</p></li>
<li><p>Escape regex characters in <code class="docutils literal notranslate"><span class="pre">path_complete</span></code> to avoid regex parsing errors for
certain combinations of characters in path completer</p></li>
<li><p>gistatus: Fixed hash not being shown when in detaced HEAD and there are no tags</p></li>
<li><p>Fix branch colorization when <code class="docutils literal notranslate"><span class="pre">git</span></code> or <code class="docutils literal notranslate"><span class="pre">hg</span></code> are aliases.</p></li>
<li><p>Fixed leftover <code class="docutils literal notranslate"><span class="pre">.git/index.lock</span></code> in <code class="docutils literal notranslate"><span class="pre">gitstatus</span></code></p></li>
<li><p>Made JSON history loading more robust to corrupt files.</p></li>
<li><p>Starting a new command with an open parentheses will no longer
throw a traceback when <code class="docutils literal notranslate"><span class="pre">$UPDATE_COMPLETIONS_ON_KEYPRESS</span></code> is
<code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p>Automatically wrapping subprocess calls would sometimes include
semincolons and other line-ending tokens, rather than stopping at them.
This has been fixed.</p></li>
<li><p>Numerous spelling errors in documentation, docstrings/comments, text
strings and local variable names.</p></li>
<li><p>Spelling error in the <code class="docutils literal notranslate"><span class="pre">xonsh.color_tools.make_pallete()</span></code> public
function declaration. This was fixed by renaming the function to
<code class="docutils literal notranslate"><span class="pre">xonsh.color_tools.make_palette()</span></code> while maintaining a binding
of <code class="docutils literal notranslate"><span class="pre">make_pallete()</span></code> to the new <code class="docutils literal notranslate"><span class="pre">make_palette()</span></code> in case users
are already used to this API.</p></li>
<li><p>Fixed issue with starting triple quote strings being run as a command.</p></li>
<li><p>Fixed a problem with escaping charet (^) character for cmd.exe in the source-cmd function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EOF</span> <span class="pre">in</span> <span class="pre">multi-line</span> <span class="pre">statement</span></code> errors were misreported as being on line 0.
Now they are correctly reported as being on the last line of the file.</p></li>
</ul>
</section>
<section id="v0-5-12">
<h2>v0.5.12<a class="headerlink" href="#v0-5-12" title="Link to this heading">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">release.xsh</span></code> to prevent it from dirtying the repo on release and
leading to an unwanted <code class="docutils literal notranslate"><span class="pre">.dev</span></code> suffix on the version number</p></li>
</ul>
</section>
<section id="v0-5-11">
<h2>v0.5.11<a class="headerlink" href="#v0-5-11" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">release.xsh</span></code> creates a github release with the merged news entries as the
release body</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xonfig</span></code> now displays the proper value for “on linux”</p></li>
</ul>
</section>
<section id="v0-5-10">
<h2>v0.5.10<a class="headerlink" href="#v0-5-10" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">xclip</span></code> and <code class="docutils literal notranslate"><span class="pre">repo</span></code> to default threadable predictors (Issues #2355
and #2348)</p></li>
<li><p>Pretty printing of the $PATH variable</p></li>
<li><p>Add “fzf-widgets” xontrib which provides fuzzy search productivity widgets
with on custom keybindings to xontrib list.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">free_cwd</span></code> xontrib for Windows, which prevent the current directory from being locked when the prompt is shown.
This allows the other programs or Windows explorer to delete the current or parent directory. This is accomplished by
resetting the CWD to the users home directory temporarily while the prompt is displayed. The directory is still locked
while any commands are processed so xonsh still can’t remove it own working directory.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Codecov threshold to 2%</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>On Windows environments variables in wrapped like``%foo%`` are no longer expanded automatically.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed the <code class="docutils literal notranslate"><span class="pre">--rc</span></code> option so it now runs xonsh with the specified rc file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;$</span></code> operator now functions properly when returned command is an alias</p></li>
<li><p>Correct line continuation would not work on Windows if the line continuations were used
in the <code class="docutils literal notranslate"><span class="pre">xonshrc</span></code> file.</p></li>
<li><p>Fixed a regression in the Windows <code class="docutils literal notranslate"><span class="pre">sudo</span></code> command, that allows users to run elevated commands in xonsh.</p></li>
<li><p>Fix echo command from xoreutils.</p></li>
<li><p>Fixed a bug on Windows which meant xonsh wasn’t using PATH environment variable but instead relying on a default
value from the windows registry.</p></li>
</ul>
</section>
<section id="v0-5-9">
<h2>v0.5.9<a class="headerlink" href="#v0-5-9" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Alt</span> <span class="pre">.</span></code> keybinding to <code class="docutils literal notranslate"><span class="pre">bashisms-xontrib</span></code> to insert last argument of
previous command into current buffer</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fix crash when openSSH version of bash is on PATH on Windows.</p></li>
<li><p>Added missing ensurers to make sure that <code class="docutils literal notranslate"><span class="pre">bool</span></code> env_vars are bools and
<code class="docutils literal notranslate"><span class="pre">int</span></code> env_vars are integers:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">DIRSTACK_SIZE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXPAND_ENV_VARS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PUSHD_MINUS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PUSHD_SILENT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SUGGEST_COMMANDS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SUGGEST_MAX_NUM</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SUGGEST_THRESHOLD</span></code></p></li>
</ul>
</li>
</ul>
</section>
<section id="v0-5-8">
<h2>v0.5.8<a class="headerlink" href="#v0-5-8" title="Link to this heading">¶</a></h2>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">xonsh.platform.os_environ</span></code> wrapper is  now case-insensitive and
case-preserving on Windows.</p></li>
<li><p>The private <code class="docutils literal notranslate"><span class="pre">_TeeStd</span></code> class will no longer attempt to write to a
standard buffer after the tee has been ‘closed’ and the standard
buffer returned to the system.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed a bug on py34 where os.scandir was used by accident.</p></li>
<li><p>Line continuations (<code class="docutils literal notranslate"><span class="pre">\\</span></code>) is subproc mode will no longer consume the
surrounding whitespace.</p></li>
<li><p>Fixed a bug if foreign_shell name was not written in lower case in
the static configuration file <code class="docutils literal notranslate"><span class="pre">config.json</span></code></p></li>
<li><p>Fixed a regression on Windows where caused <code class="docutils literal notranslate"><span class="pre">which</span></code> reported that the
<code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable could not be found.</p></li>
<li><p>Fixed issue with foregrounding jobs that were started in the background.</p></li>
<li><p>Fixed that <code class="docutils literal notranslate"><span class="pre">Ctrl-C</span></code> crashes xonsh after running an invalid command.</p></li>
<li><p>Fixed an potential <code class="docutils literal notranslate"><span class="pre">ProcessLookupError</span></code> issue, see #2288.</p></li>
</ul>
</section>
<section id="v0-5-7">
<h2>v0.5.7<a class="headerlink" href="#v0-5-7" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>New <code class="docutils literal notranslate"><span class="pre">color_tools</span></code> module provides basic color tools for converting
to and from various formats as well as creating palettes from color
strings.</p></li>
<li><p>Redirections may now be used in string and list-of-strings
aliases.</p></li>
<li><p>Subprocess redirection may now forego the whitespace between the
redirection and a file name.  For example,
<code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">hello</span> <span class="pre">world</span> <span class="pre">&gt;/dev/null</span></code>.</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">-P</span></code> flag to the <code class="docutils literal notranslate"><span class="pre">cd</span></code> function in order to change directory and
following symlinks.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">tutorial</span></code> command to launch the <a class="reference external" href="http://xon.sh/tutorial">http://xon.sh/tutorial</a> in the
browser.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;(...)</span></code> syntax now supports generators and tuples without parentheses.</p></li>
<li><p>Sourcing foreign shells now have the <code class="docutils literal notranslate"><span class="pre">--show</span></code> option, which
lets you see when script will be run, and the <code class="docutils literal notranslate"><span class="pre">--dryrun</span></code>
option which prevents the source from actually taking place.
Xonsh’s foreign shell API also added these keyword arguments.</p></li>
<li><p>Subprocess mode now supports subshells. Place any xonsh
code between two parentheses, e.g. <code class="docutils literal notranslate"><span class="pre">(cmd)</span></code>, to run
this command in a separate xonsh subprocess.</p></li>
<li><p>Foreign shell aliases now have the ability to take extra arguments,
if needed.</p></li>
<li><p>Xonsh will issue a warning message when the current working
directory has been remove out from under it and not replaced
prior to running the next command.</p></li>
<li><p>Line continuation backslashes are respected on Windows in the PTK shell if
the backspace is is preceded by a space.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">ponysay</span></code> as a command which will usually not run in a
threaded mode in the commands cache.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">jsonutils</span></code> module available for serializing special
xonsh objects to JSON.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>The literal tokens <code class="docutils literal notranslate"><span class="pre">and</span></code> and <code class="docutils literal notranslate"><span class="pre">or</span></code> must be surrounded by
whitespace to delimit subprocess mode. If they do not have
whitespace on both sides in subproc mode, they are considered
to be part of a command argument.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">xontrib</span></code> command is now flagged as unthreadable and will be
run on the main Python thread. This allows xontribs to set signal
handlers and other operations that require the main thread.</p></li>
<li><p>nvim (Neovim) has been flagged as unthreadable</p></li>
<li><p>The interactive prompt will now catch <code class="docutils literal notranslate"><span class="pre">SystemExit</span></code> and, instead
of exiting the session, will refresh the prompt. This is the same
process as for keyboard interrupts.</p></li>
<li><p>Xonsh no longer launches the wizard for new users. Instead a welcome screen is
shown which says how to launch the wizard.</p></li>
<li><p>Added Windows <code class="docutils literal notranslate"><span class="pre">expanduser()</span></code>-like function which prevents
the expansion of <code class="docutils literal notranslate"><span class="pre">~</span></code> that are not followed by a path
separator.</p></li>
<li><p>Collecting xonsh history files was reported to have random runtime
OSError failures. This exception is now handled, just in case. The
The exception will still be printed in debug mode.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Shell.stype</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">Shell.shell_type</span></code>.</p></li>
<li><p>The configuration wizard now displays the proper control sequence to leave
the wizard at the to start of the wizard itself. Note that this is Ctrl+D for
readline and Ctrl+C for prompt-toolkit.</p></li>
<li><p>Callable alias proxy functions are now more friendly to
<code class="docutils literal notranslate"><span class="pre">functools.partial()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prompt.vc.get_hg_branch</span></code> now uses <code class="docutils literal notranslate"><span class="pre">os.scandir</span></code> to walk up the filetree
looking for a <code class="docutils literal notranslate"><span class="pre">.hg</span></code> directory. This results in (generally) faster branch
resolution compared to the subprocess call to <code class="docutils literal notranslate"><span class="pre">hg</span> <span class="pre">root</span></code>.</p></li>
<li><p>Xonsh’s script and code caches will are now invalidated whenever the
xonsh version changes for a given Python version.</p></li>
<li><p>Autowrapping of subprocess globs has been improved to cover
more cases that are ambiguous with Python syntax.</p></li>
<li><p>Job control info when foregrounding or backgrounding jobs will now
only be displayed when xonsh is in interactive mode.</p></li>
<li><p>Enabled virtual terminal processing in the prompt-toolkit shell for Windows.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>3rd party pygments styles (like solorized or monokailight) are now
able to be used in xonsh. These styles are dynamically created upon
first use, rather than being lazily loaded by xonsh.</p></li>
<li><p>On Windows, <code class="docutils literal notranslate"><span class="pre">os.environ</span></code> is case insensitive. This would potentially
change the case of environment variables set into the environment.
Xonsh now uses <code class="docutils literal notranslate"><span class="pre">nt.environ</span></code>, the case sensitive counterpart, to avoid
these issues on Windows.</p></li>
<li><p>Fix how <code class="docutils literal notranslate"><span class="pre">$PWD</span></code> is managed in order to work with symlinks gracefully</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">replay</span></code> no longer barfs on <code class="docutils literal notranslate"><span class="pre">style_name</span></code> when setting up the
environment</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Shell.shell_type</span></code> is now properly set to the same value as <code class="docutils literal notranslate"><span class="pre">$SHELL_TYPE</span></code>.</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">source-zsh</span></code> to work with zsh v5.2.</p></li>
<li><p>Fixed issue where <code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">(x,</span> <span class="pre">y)</span></code> would raise a syntax error.</p></li>
<li><p>Certain vim commands issue commands involving subshells,
and this is now supported.</p></li>
<li><p>Null bytes handed to Popen are now automatically escaped prior
to running a subprocess. This prevents Popen from issuing
embedded null byte exceptions.</p></li>
<li><p>Xonsh will no longer crash is the current working directory is
removed out from under it.</p></li>
<li><p>Multiline strings can now be written in subprocess mode.</p></li>
<li><p>PTK completions will now correctly deduplicate autosuggest completions
and display completions values based on the cursor position.</p></li>
<li><p>Fixed bug where trailing backspaces on Windows paths could be interpreted
as line continuations characters. Now line continuation characters must be
preceded by a space on Windows. This only applies to xonsh in interactive
mode to ensure  scripts are portable.</p></li>
<li><p>Importing <code class="docutils literal notranslate"><span class="pre">*.xsh</span></code> files will now respect the encoding listed in
that file and properly fallback to UTF-8. This behaviour follows
the rules described in PEP 263.</p></li>
<li><p>Wizard is now able to properly serialize environment paths.</p></li>
</ul>
</section>
<section id="v0-5-6">
<h2>v0.5.6<a class="headerlink" href="#v0-5-6" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>New core utility function aliases (written in pure Python) are now
available in <code class="docutils literal notranslate"><span class="pre">xonsh.xoreutils</span></code>. These include: <code class="docutils literal notranslate"><span class="pre">cat</span></code>, <code class="docutils literal notranslate"><span class="pre">echo</span></code>,
<code class="docutils literal notranslate"><span class="pre">pwd</span></code>, <code class="docutils literal notranslate"><span class="pre">tee</span></code>, <code class="docutils literal notranslate"><span class="pre">tty</span></code>, and <code class="docutils literal notranslate"><span class="pre">yes</span></code>. These are not enabled by default.
Use the new <code class="docutils literal notranslate"><span class="pre">coreutils</span></code> xontrib to load them.</p></li>
<li><p>CircleCI test post codecov run</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">trace</span></code> will automatically disable color printing when
stdout is not a TTY or stdout is captured.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">jedi</span></code> xontrib enables jedi-based tab completions when it is loaded.
This supersedes xonsh’s default Python-mode completer.</p></li>
<li><p>The lexer has a new <code class="docutils literal notranslate"><span class="pre">split()</span></code> method which splits strings
according to xonsh’s rules for whitespace and quotes.</p></li>
<li><p>New events for hooking into the Python import process are now available.
You can now provide a handler for:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">on_import_pre_find_spec</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">on_import_post_find_spec</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">on_import_pre_create_module</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">on_import_post_create_module</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">on_import_pre_exec_module</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">on_import_post_exec_module</span></code></p></li>
</ul>
</li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>The prompt toolkit shell’s first completion will now be the
current token from the auto-suggestion, if available.</p></li>
<li><p>Sourcing foreign shells will now safely skip applying aliases
with the same name as existing xonsh aliases by default.
This prevents accidentally overwriting important xonsh standard
aliases, such as <code class="docutils literal notranslate"><span class="pre">cd</span></code>.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Threadable prediction for subprocesses will now consult both the command
as it was typed in and any resolved aliases.</p></li>
<li><p>The first prompt will no longer print in the middle of the line if the user has
already started typing.</p></li>
<li><p>Windows consoles will now automatically enable virtual terminal processing
with the readline shell, if available. This allows the full use of ANSI
escape sequences.</p></li>
<li><p>On the Windows readline shell, the tab-completion suppression prompt will no
longer error out depending on what you press.</p></li>
<li><p>Fixed issue with subprocess mode wrapping not respecting line continuation
backslashes.</p></li>
<li><p>Handle a bug where Bash On Windows causes platform.windows_bash_command()
to raise CalledProcessError.</p></li>
<li><p>Fixed issues pertaining to completing from raw string paths.
This is particularly relevant to Windows, where raw strings
are inserted in path completion.</p></li>
<li><p>Replace deprecated calls to <code class="docutils literal notranslate"><span class="pre">time.clock()</span></code> by calls to
<code class="docutils literal notranslate"><span class="pre">time.perf_counter()</span></code>.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">clock()</span></code> to set the start time of <code class="docutils literal notranslate"><span class="pre">_timings</span></code> in non-windows instead
of manually setting it to <code class="docutils literal notranslate"><span class="pre">0.0</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">trace</span></code> utility will now correctly color output and not
print extraneous newlines when called in a script.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">&#64;$(cmd)</span></code> operator now correctly splits strings according to
xonsh semantics, rather than just on whitespace using <code class="docutils literal notranslate"><span class="pre">str.split()</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">mpl</span></code> xontrib has been updated to improve matplotlib
handling. If <code class="docutils literal notranslate"><span class="pre">xontrib</span> <span class="pre">load</span> <span class="pre">mpl</span></code> is run before matplotlib
is imported and xonsh is in interactive mode, matplotlib
will automatically enter interactive mode as well. Additionally,
<code class="docutils literal notranslate"><span class="pre">pyplot.show()</span></code> is patched in interactive mode to be non-blocking.
If a non-blocking show fails to draw the figure for some reason,
a regular blocking version is called.</p></li>
<li><p>Fixed issues like <code class="docutils literal notranslate"><span class="pre">timeit</span> <span class="pre">ls</span></code> causing OSError - “Inappropriate ioctl
for device”.</p></li>
<li><p>Fixed a potential “OSError: [Errno 22] Invalid argument” to increase job
control stability.</p></li>
</ul>
</section>
<section id="v0-5-5">
<h2>v0.5.5<a class="headerlink" href="#v0-5-5" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>New <code class="docutils literal notranslate"><span class="pre">--rc</span></code> command line option allows users to specify paths to run control
files from the command line. This includes both xonsh-based and JSON-based
configuration.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">$UPDATE_COMPLETIONS_ON_KEYPRESS</span></code> controls whether or not completions
will automatically display and update while typing. This feature is only
available in the prompt-toolkit shell.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Xonsh scripts now report <code class="docutils literal notranslate"><span class="pre">__file__</span></code> and <code class="docutils literal notranslate"><span class="pre">__name__</span></code> when run as scripts
or sourced. These variables have the same meaning as they do in Python
scripts.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$XONSHRC</span></code> and related configuration variables now accept JSON-based
static configuration file names as elements. This unifies the two methods
of run control to a single entry point and loading system.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">xonsh.shell.Shell()</span></code> class now requires that an Execer instance
be explicitly provided to its init method. This class is no longer
responsible for creating an execer an its dependencies.</p></li>
<li><p>Moved decorators <code class="docutils literal notranslate"><span class="pre">unthreadable</span></code>, <code class="docutils literal notranslate"><span class="pre">uncapturable</span></code> from
<code class="docutils literal notranslate"><span class="pre">xonsh.proc</span></code> to <code class="docutils literal notranslate"><span class="pre">xonsh.tools</span></code>.</p></li>
<li><p>Some refactorings on jobs control.</p></li>
</ul>
<p><strong>Deprecated:</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">--config-path</span></code> command line option is now deprecated in favor of
<code class="docutils literal notranslate"><span class="pre">--rc</span></code>.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.environ.DEFAULT_XONSHRC</span></code> has been removed due to deprecation.
For this value, please check the environment instead, or call
<code class="docutils literal notranslate"><span class="pre">xonsh.environ.default_xonshrc(env)</span></code>.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Command pipelines that end in a callable alias are now interruptable with
<code class="docutils literal notranslate"><span class="pre">^C</span></code> and the processes that are piped into the alias have their file handles
closed. This should ensure that the entire pipeline is closed.</p></li>
<li><p>Fixed issue where unthreadable subprocs were not allowed to be
captured with the <code class="docutils literal notranslate"><span class="pre">$(cmd)</span></code> operator.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ProcProxy</span></code> class (unthreadable aliases) was not being executed and would
hang if the alias was capturable. This has been fixed.</p></li>
<li><p>Fixed a <code class="docutils literal notranslate"><span class="pre">tcsetattr:</span> <span class="pre">Interrupted</span> <span class="pre">system</span> <span class="pre">call</span></code> issue when run xonsh scripts.</p></li>
<li><p>Fixed issue with <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> being thrown from <code class="docutils literal notranslate"><span class="pre">inspect.signature()</span></code>
when called on C-extension callables in tab completer.</p></li>
<li><p>Fixed issue that <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">|</span> <span class="pre">less</span></code> crashes on Mac.</p></li>
<li><p>Threadable prediction was incorrectly based on the user input command, rather than
the version where aliases have been resolved. This has been corrected.</p></li>
</ul>
</section>
<section id="v0-5-4">
<h2>v0.5.4<a class="headerlink" href="#v0-5-4" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Add alias <code class="docutils literal notranslate"><span class="pre">xip</span></code> (“kip”) so that xonsh’s Python environment (whatever that is) can be modified.</p></li>
<li><p>HistoryEntry, a SimpleNamespace object that represents a command in history.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.completers.bash_completion</span></code> module</p></li>
<li><p>Added option to report timing information of xonsh startup times. Start xonsh
with the <code class="docutils literal notranslate"><span class="pre">--timings</span></code> flag to use the feature.</p></li>
<li><p>The Python tab completer will now complete the argument names of functions
and other callables.</p></li>
<li><p>Uptime module added to <code class="docutils literal notranslate"><span class="pre">xonsh.xoreutils</span></code>. This can report the system
boot time and up time.</p></li>
<li><p>The environment variable <code class="docutils literal notranslate"><span class="pre">XONSH_HISTORY_BACKEND</span></code> now also supports a
value of class type or a History Backend instance.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">on_envvar_new</span></code> event that fires after a new envvar is created.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">on_envvar_change</span></code> event that fires after an envvar is changed.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>history indexing api to be more simple, now returns HistoryEntry.</p></li>
<li><p>Decoupled <code class="docutils literal notranslate"><span class="pre">bash_completion</span></code> from xonsh project and added shim back to
xonsh.</p></li>
<li><p>The JSON history backend will now unlock history files that were created
prior to the last reboot.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed broken bash completions on Windows if ‘Windows Subsystem for Linux’ is installed.</p></li>
<li><p>Readline history would try to read the first element of history prior to
actually loading any history. This caused an exception to be raised on
Windows at xonsh startup when using pyreadline.</p></li>
<li><p>Fixed issue with readline tab completer overwriting initial prefix in
some instances.</p></li>
<li><p>Fixed issue wherein if <code class="docutils literal notranslate"><span class="pre">git</span></code> or (presumably) <code class="docutils literal notranslate"><span class="pre">hg</span></code> are aliased, then branch
information no longer appears in the <code class="docutils literal notranslate"><span class="pre">$PROMPT</span></code></p></li>
<li><p>Fixed an issue with commands that background themselves (such as
<code class="docutils literal notranslate"><span class="pre">gpg-connect-agent</span></code>) not being able to be run from within xonshrc.</p></li>
</ul>
</section>
<section id="v0-5-3">
<h2>v0.5.3<a class="headerlink" href="#v0-5-3" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Tab completion xontrib for python applications based on click framework.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">on_transform_command</span></code> event for pre-processing that macros can’t handle.</p></li>
<li><p>Autodetection of backgroundability by binary analysis on POSIX.</p></li>
<li><p>New argument <code class="docutils literal notranslate"><span class="pre">expand_user=True</span></code> to <code class="docutils literal notranslate"><span class="pre">tools.expand_path</span></code>.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">$COMPLETION_QUERY_LIMIT</span></code> environment variable for setting the
number of completions above which the user will be asked if they wish to
see the potential completions.</p></li>
<li><p>Users may now redirect stdout to stderr in subprocess mode.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">Block</span></code> and <code class="docutils literal notranslate"><span class="pre">Functor</span></code> context managers from <code class="docutils literal notranslate"><span class="pre">xonsh.contexts</span></code> have been
rewritten to use xonsh’s macro capabilities. You must now enter these via the
<code class="docutils literal notranslate"><span class="pre">with!</span></code> statement, e.g. <code class="docutils literal notranslate"><span class="pre">with!</span> <span class="pre">Block():</span> <span class="pre">pass</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">distributed</span></code> xontrib now needs to use the <code class="docutils literal notranslate"><span class="pre">with!</span></code> statement, since it
relies on <code class="docutils literal notranslate"><span class="pre">Functor</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">telnet</span></code> has been flagged as unthreadable.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">$DYNAMIC_CWD_ELISION_CHAR</span></code> is non empty and the last dir of cwd is too
long and shortened, the elision char is added at the end.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pygments</span></code> is no longer a strict dependency of the <code class="docutils literal notranslate"><span class="pre">prompt_toolkit</span></code>
backend. If <code class="docutils literal notranslate"><span class="pre">pygments</span></code> is not installed, the PTK backend will use the
default ansi color settings from the terminal. Syntax highlighting requires
that <code class="docutils literal notranslate"><span class="pre">pygments</span></code> is installed.</p></li>
<li><p>Events are now keyword arguments only</p></li>
<li><p>Restored <code class="docutils literal notranslate"><span class="pre">on_precommand</span></code> to its original signature.</p></li>
<li><p>Move <code class="docutils literal notranslate"><span class="pre">built_ins.expand_path</span></code> to <code class="docutils literal notranslate"><span class="pre">tools.expand_path</span></code>.</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">tools.expandpath</span></code> to <code class="docutils literal notranslate"><span class="pre">tools._expandpath</span></code>.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">gvim</span></code> command to unthreadable predictors.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">source</span></code> alias now passes <code class="docutils literal notranslate"><span class="pre">$ARGS</span></code> down to file it is sourcing.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">XonshBlockError</span></code> has been removed, since it no longer serves a purpose.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PopenThread</span></code> will now re-issue SIGINT to the main thread when it is
received.</p></li>
<li><p>Fixed an issue that using sqlite history backend does not kill unfinished
jobs when quitting xonsh with a second “exit”.</p></li>
<li><p>Fixed an issue that xonsh would fail over to external shells when
running .xsh script which raises exceptions.</p></li>
<li><p>Fixed an issue with <code class="docutils literal notranslate"><span class="pre">openpty()</span></code> returning non-unix line endings in its buffer.
This was causing git and ssh to fail when xonsh was used as the login shell on the
server. See <a class="reference external" href="https://mail.python.org/pipermail/python-list/2013-June/650460.html">https://mail.python.org/pipermail/python-list/2013-June/650460.html</a> for
more details.</p></li>
<li><p>Restored the ability to ^Z and <code class="docutils literal notranslate"><span class="pre">fg</span></code> processes on posix platforms.</p></li>
<li><p>CommandPipelines were not guaranteed to have been ended when the return code
was requested. This has been fixed.</p></li>
<li><p>Introduce path expansion in <code class="docutils literal notranslate"><span class="pre">is_writable_file</span></code> to fix
<code class="docutils literal notranslate"><span class="pre">$XONSH_TRACEBACK_LOGFILE=~/xonsh.log</span></code>.</p></li>
<li><p>Backgrounding a running process (^Z) now restores ECHO mode to the terminal
in cases where the subprocess doesn’t properly restore itself. A major instance
of this behaviour is Python’s interactive interpreter.</p></li>
<li><p>Readline backend would not ask the user to confirm the printing of completion
options if they numbered above a certain value. Instead they would be dumped to
the screen. This has been fixed.</p></li>
<li><p>Jupyter kernel was no longer properly running subprocess commands.
This has been fixed.</p></li>
<li><p>The filename is applied to the target of the <code class="docutils literal notranslate"><span class="pre">source</span></code> alias, providing better
tracebacks.</p></li>
</ul>
</section>
<section id="v0-5-2">
<h2>v0.5.2<a class="headerlink" href="#v0-5-2" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">weechat</span></code> to default predictors</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$DYNAMIC_CWD_ELISION_CHAR</span></code> environment variable to control how a shortened
path is displayed.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_ret_code</span></code> function of <code class="docutils literal notranslate"><span class="pre">prompt_ret_code</span></code> xontrib return now <code class="docutils literal notranslate"><span class="pre">None</span></code> when
return code is 0 instead of empty string allowing more customization of prompt
format.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Minor Python completer token counting bug fix.</p></li>
<li><p>multiline syntax error in PTK shell due to buffer not being reset</p></li>
<li><p>Segfaults and other early exit signals are now reported correctly,
again.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tests/bin/{cat,pwd,wc}</span></code> shebang changed to python3</p></li>
</ul>
</section>
<section id="v0-5-1">
<h2>v0.5.1<a class="headerlink" href="#v0-5-1" title="Link to this heading">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed xonfig raising error when xonsh is not installed from source.</p></li>
</ul>
</section>
<section id="v0-5-0">
<h2>v0.5.0<a class="headerlink" href="#v0-5-0" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>$XONTRIB_MPL_MINIMAL environment variable can be set to change if plots are minimalist or as-seen</p></li>
<li><p>xontrib-mpl now supports iTerm2 inline image display if iterm2_tools python package is installed</p></li>
<li><p>Xonsh now will fallback to other shells if encountered errors when
starting up.</p></li>
<li><p>Added entry to customization faq re: <code class="docutils literal notranslate"><span class="pre">dirs</span></code> alias (#1452)</p></li>
<li><p>Added entry to customization faq re: tab completion selection (#1725)</p></li>
<li><p>Added entry to customization faq re: libgcc core dump (#1160)</p></li>
<li><p>Section about quoting in the tutorial.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">$VC_HG_SHOW_BRANCH</span></code> environment variable to control whether to hide the hg branch in the prompt.</p></li>
<li><p>xonfig now contains the latest git commit date if xonsh installed
from source.</p></li>
<li><p>Alt+Enter will execute a multiline code block irrespective of cursor position</p></li>
<li><p>Windows now has the ability to read output asynchronously from
the console.</p></li>
<li><p>Use <a class="reference external" href="https://drdoctr.github.io/doctr/">doctr</a> to deploy dev docs to github pages</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.proc.uncapturable()</span></code> decorator for declaring that function
aliases should not be run in a captured subprocess.</p></li>
<li><p>New history backend sqlite.</p></li>
<li><p>Prompt user to install xontrib package if they try to load an uninstalled
xontrib</p></li>
<li><p>Callable aliases may now take a final <code class="docutils literal notranslate"><span class="pre">spec</span></code> argument, which is the
corresponding <code class="docutils literal notranslate"><span class="pre">SubprocSpec</span></code> instance.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">bashisms</span></code> xontrib provides additional Bash-like syntax, such as <code class="docutils literal notranslate"><span class="pre">!!</span></code>.
This xontrib only affects the command line, and not xonsh scripts.</p></li>
<li><p>Tests that create testing repos (git, hg)</p></li>
<li><p>New subprocess specification class <code class="docutils literal notranslate"><span class="pre">SubprocSpec</span></code> is used for specifying
and manipulating subprocess classes prior to execution.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">PopenThread</span></code> class runs subprocesses on a a separate thread.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">CommandPipeline</span></code> and <code class="docutils literal notranslate"><span class="pre">HiddenCommandPipeline</span></code> classes manage the
execution of a pipeline of commands via the execution of the last command
in the pipeline. Instances may be iterated and stream lines from the
stdout buffer. These pipelines read from the stdout &amp; stderr streams in a
non-blocking manner.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$XONSH_STORE_STDOUT</span></code> is now available on all platforms!</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">CommandsCache</span></code> now has the ability to predict whether or not a
command must be run in the foreground using <code class="docutils literal notranslate"><span class="pre">Popen</span></code> or may use a
background thread and can use <code class="docutils literal notranslate"><span class="pre">PopenThread</span></code>.</p></li>
<li><p>Callable aliases may now use the full gamut of functions signatures:
<code class="docutils literal notranslate"><span class="pre">f()</span></code>, <code class="docutils literal notranslate"><span class="pre">f(args)</span></code>,  <code class="docutils literal notranslate"><span class="pre">f(args,</span> <span class="pre">stdin=None)</span></code>,
<code class="docutils literal notranslate"><span class="pre">f(args,</span> <span class="pre">stdin=None,</span> <span class="pre">stdout=None)</span></code>, and `
<code class="docutils literal notranslate"><span class="pre">f(args,</span> <span class="pre">stdin=None,</span> <span class="pre">stdout=None,</span> <span class="pre">stderr=None)</span></code>.</p></li>
<li><p>Uncaptured subprocesses now receive a PTY file handle for stdout and
stderr.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">$XONSH_PROC_FREQUENCY</span></code> environment variable that specifies how long
loops in the subprocess framework should sleep. This may be adjusted from
its default value to improved performance and mitigate “leaky” pipes on
slower machines.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Shift+Tab</span></code> moves backwards in completion dropdown in prompt_toolkit</p></li>
<li><p>PromptFormatter class that holds all the related prompt methods</p></li>
<li><p>PromptFormatter caching when building the prompt</p></li>
<li><p>p-strings: <code class="docutils literal notranslate"><span class="pre">p'/foo/bar'</span></code> is short for <code class="docutils literal notranslate"><span class="pre">pathlib.Path('/foo/bar')</span></code></p></li>
<li><p>byte strings: prefixes other than <code class="docutils literal notranslate"><span class="pre">b'foo'</span></code> (eg, <code class="docutils literal notranslate"><span class="pre">RB'foo'</span></code>) now work</p></li>
<li><p>Backticks for regex or glob searches now support an additional modifier
<code class="docutils literal notranslate"><span class="pre">p</span></code>, which causes them to return Path objects instead of strings.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">BOTTOM_TOOLBAR</span></code> environment variable to control a bottom toolbar as specified in prompt-toolkit</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">$XONSH_STDERR_PREFIX</span></code> and <code class="docutils literal notranslate"><span class="pre">$XONSH_STDERR_POSTFIX</span></code> environment
variables allow the user to print a prompt-like string before and after
all stderr that is seen. For example, say that you would like stderr
to appear on a red background, you might set
<code class="docutils literal notranslate"><span class="pre">$XONSH_STDERR_PREFIX</span> <span class="pre">=</span> <span class="pre">&quot;{BACKGROUND_RED}&quot;</span></code> and
<code class="docutils literal notranslate"><span class="pre">$XONSH_STDERR_PREFIX</span> <span class="pre">=</span> <span class="pre">&quot;{NO_COLOR}&quot;</span></code>.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xonsh.pyghooks.XonshTerminal256Formatter</span></code> class patches
the pygments formatter to understand xonsh color token semantics.</p></li>
<li><p>Load events are now available</p></li>
<li><p>New events added: <code class="docutils literal notranslate"><span class="pre">on_post_init</span></code>, <code class="docutils literal notranslate"><span class="pre">on_pre_cmdloop</span></code>, <code class="docutils literal notranslate"><span class="pre">on_pre_rc</span></code>, <code class="docutils literal notranslate"><span class="pre">on_post_rc</span></code>, <code class="docutils literal notranslate"><span class="pre">on_ptk_create</span></code></p></li>
<li><p>Completion for <code class="docutils literal notranslate"><span class="pre">xonsh</span></code> builtin functions <code class="docutils literal notranslate"><span class="pre">xontrib</span></code> and <code class="docutils literal notranslate"><span class="pre">xonfig</span></code></p></li>
<li><p>Added a general customization FAQ page to the docs to collect various
tips/tricks/fixes for common issues/requests</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">test_single_command</span></code> and <code class="docutils literal notranslate"><span class="pre">test_redirect_out_to_file</span></code> tests in <code class="docutils literal notranslate"><span class="pre">test_integrations</span></code></p></li>
<li><p>Add note that the target of redirection should be separated by a space.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul>
<li><p>CircleCI now handles flake8 checks</p></li>
<li><p>Travis doesn’t allow failures on nightly</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_hg_branch</span></code> runs <code class="docutils literal notranslate"><span class="pre">hg</span> <span class="pre">root</span></code> to find root dir and check if we’re in repo</p></li>
<li><p>The default style will now use the color keywords (#ansired, #ansidarkred)
to set colors that follow the terminal color schemes. Currently, this requires
prompt_toolkit master (&gt;1.0.8) and pygments master (2.2) to work correctly.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vox</span> <span class="pre">activate</span></code> now accepts relative directories.</p></li>
<li><p>Updated the effectivity of <code class="docutils literal notranslate"><span class="pre">$XONSH_DEBUG</span></code> on debug messages.</p></li>
<li><p>Better documentation on how to get nice colors in Windows’ default console</p></li>
<li><p>All custom prompt_toolkit key binding filters now declared with the
<code class="docutils literal notranslate"><span class="pre">&#64;Condition</span></code> decorator</p></li>
<li><p>The style for the prompt toolkit completion menu is now lightgray/darkgray instead of turquoise/teal</p></li>
<li><p>landscape.io linting now ignores ply directory</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">history</span></code> help messages to reflect subcommand usage</p></li>
<li><p>Quote all paths when completion if any of the paths needs be quoted,
so that bash can automatically complete to the max prefix of the paths.</p></li>
<li><p>Tee’d reads now occur in 1kb chunks, rather than character-by-character.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">which</span></code> alias no longer has a trailing newline if it is captured.
This means that <code class="docutils literal notranslate"><span class="pre">$(which</span> <span class="pre">cmd)</span></code> will simply be the path to the command.</p></li>
<li><p>The following commands are, by default, predicted to be not threadable
in some circumstances:</p>
<blockquote>
<div><ul class="simple">
<li><p>bash</p></li>
<li><p>csh</p></li>
<li><p>clear</p></li>
<li><p>clear.exe</p></li>
<li><p>cls</p></li>
<li><p>cmd</p></li>
<li><p>ex</p></li>
<li><p>fish</p></li>
<li><p>htop</p></li>
<li><p>ksh</p></li>
<li><p>less</p></li>
<li><p>man</p></li>
<li><p>more</p></li>
<li><p>mutt</p></li>
<li><p>nano</p></li>
<li><p>psql</p></li>
<li><p>ranger</p></li>
<li><p>rview</p></li>
<li><p>rvim</p></li>
<li><p>scp</p></li>
<li><p>sh</p></li>
<li><p>ssh</p></li>
<li><p>startx</p></li>
<li><p>sudo</p></li>
<li><p>tcsh</p></li>
<li><p>top</p></li>
<li><p>vi</p></li>
<li><p>view</p></li>
<li><p>vim</p></li>
<li><p>vimpager</p></li>
<li><p>xo</p></li>
<li><p>xonsh</p></li>
<li><p>zsh</p></li>
</ul>
</div></blockquote>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">run_subproc()</span></code> function has been replaced with a new implementation.</p></li>
<li><p>Piping between processes now uses OS pipes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$XONSH_STORE_STDIN</span></code> now uses <code class="docutils literal notranslate"><span class="pre">os.pread()</span></code> rather than <code class="docutils literal notranslate"><span class="pre">tee</span></code> and a new
file.</p></li>
<li><p>The implementation of the <code class="docutils literal notranslate"><span class="pre">foreground()</span></code> decorator has been moved to
<code class="docutils literal notranslate"><span class="pre">unthreadable()</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">voxapi.Vox</span></code> now supports <code class="docutils literal notranslate"><span class="pre">pathlib.Path</span></code> and <code class="docutils literal notranslate"><span class="pre">PathLike</span></code> objects as virtual environment identifiers</p></li>
<li><p>Renamed FORMATTER_DICT to PROMPT_FIELDS</p></li>
<li><p>BaseShell instantiates PromptFormatter</p></li>
<li><p>readline/ptk shells use PromptFormatter</p></li>
<li><p>Updated the bundled version of <code class="docutils literal notranslate"><span class="pre">ply</span></code> to current master available</p></li>
<li><p>vended <code class="docutils literal notranslate"><span class="pre">ply</span></code> is now a git subtree to help with any future updates</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WHITE</span></code>  color keyword now means lightgray and <code class="docutils literal notranslate"><span class="pre">INTENSE_WHITE</span></code> completely white</p></li>
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">add_to_shell</span></code> doc section from <code class="docutils literal notranslate"><span class="pre">*nix</span></code> install pages and instead
relocated it to the general customization page</p></li>
<li><p>Moved a few <code class="docutils literal notranslate"><span class="pre">*nix</span></code> customization tips from the linux install page to the general
customization page</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>coverage checks</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CompletedCommand</span></code> and <code class="docutils literal notranslate"><span class="pre">HiddenCompletedCommand</span></code> classes have been removed
in favor of <code class="docutils literal notranslate"><span class="pre">CommandPipeline</span></code> and <code class="docutils literal notranslate"><span class="pre">HiddenCommandPipeline</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SimpleProcProxy</span></code> and <code class="docutils literal notranslate"><span class="pre">SimpleForegroundProcProxy</span></code> have been removed
in favor of a more general mechanism for dispatching callable aliases
implemented in the <code class="docutils literal notranslate"><span class="pre">ProcProxyThread</span></code>  and <code class="docutils literal notranslate"><span class="pre">ProcProxy</span></code> classes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">test_run_subproc.py</span></code> in favor of <code class="docutils literal notranslate"><span class="pre">test_integrations.py</span></code></p></li>
<li><p>Unused imports in many tests</p></li>
<li><p>Many duplicated tests (copypasta)</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>xontrib-mpl now preserves the figure and does not permanently alter it for viewing</p></li>
<li><p>Fix up small pep8 violations</p></li>
<li><p>Fixed a bug where some files are not showing using bash completer</p></li>
<li><p>Fixed some issues with subprocess capturing aliases that it probably
shouldn’t.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">safe_readable()</span></code> now checks for <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> as well.</p></li>
<li><p>The scroll bars in the PTK completions menus are back.</p></li>
<li><p>Jupyter kernel installation now respects the setuptools <code class="docutils literal notranslate"><span class="pre">root</span></code> parameter.</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">__repr__</span></code> and <code class="docutils literal notranslate"><span class="pre">__str__</span></code> methods of <code class="docutils literal notranslate"><span class="pre">SubprocSpec</span></code> so they report
correctly</p></li>
<li><p>Fixed the message printed when which is unable to find the command.</p></li>
<li><p>Fixed a handful of sphinx errors and warnings in the docs</p></li>
<li><p>Fixed many PEP8 violations that had gone unnoticed</p></li>
<li><p>Fix failure to detect an Anaconda python distribution if the python was install from the conda-forge channel.</p></li>
<li><p>current_branch will try and locate the vc binary once</p></li>
<li><p>May now Crtl-C out of an infinite loop with a subprocess, such as
<code class="docutils literal notranslate"><span class="pre">`while</span> <span class="pre">True:</span> <span class="pre">sleep</span> <span class="pre">1</span></code>.</p></li>
<li><p>Fix for stdin redirects.</p></li>
<li><p>Backgrounding works with <code class="docutils literal notranslate"><span class="pre">$XONSH_STORE_STDOUT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PopenThread</span></code> blocks its thread from finishing until command has completed
or process is suspended.</p></li>
<li><p>Added a minimum time buffer time for command pipelines to check for
if previous commands have executed successfully.  This is helpful
for pipelines where the last command takes a long time to start up,
such as GNU Parallel. This also checks to make sure that output has occurred.
This includes piping 2+ commands together and pipelines that end in
unthreadable commands.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">curr_branch</span></code> reports correctly when <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">status.short</span> <span class="pre">true</span></code> is used</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span></code> completion now filters results by prefix</p></li>
<li><p>Fixed streaming <code class="docutils literal notranslate"><span class="pre">!(alias)</span></code> repr evaluation where bytes where not
streamed.</p></li>
<li><p>Aliases that begin with a comma now complete correctly (no spurious comma)</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">python3</span></code> in shebang lines for compatibility with distros that still use Python 2 as the default Python</p></li>
<li><p>STDOUT is only stored when <code class="docutils literal notranslate"><span class="pre">$XONSH_STORE_STDOUT=True</span></code></p></li>
<li><p>Fixed issue with alias redirections to files throwing an OSError because
the function ProcProxies were not being waited upon.</p></li>
<li><p>Fixed issue with callable aliases that happen to call sys.exit() or
raise SystemExit taking out the whole xonsh process.</p></li>
<li><p>Safely flushes file handles on threaded buffers.</p></li>
<li><p>Proper default value and documentation for <code class="docutils literal notranslate"><span class="pre">$BASH_COMPLETIONS</span></code></p></li>
<li><p>Fixed readline completer issues on paths with spaces</p></li>
<li><p>Fix bug in <code class="docutils literal notranslate"><span class="pre">argvquote()</span></code> functions used when sourcing batch files on Windows. The bug meant an extra backslash was added to UNC paths.
Thanks to &#64;bytesemantics for spotting it, and &#64;janschulz for fixing the issue.</p></li>
<li><p>pep8, lint and refactor in pytest style of <code class="docutils literal notranslate"><span class="pre">test_ptk_multiline.py</span></code>, <code class="docutils literal notranslate"><span class="pre">test_replay.py</span></code></p></li>
<li><p>Tab completion of aliases returned a upper cased alias on Windows.</p></li>
<li><p>History show all action now also include current session items.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">proc.stream_stderr</span></code> now handles stderr that doesn’t have buffer attribute</p></li>
<li><p>Made <code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">show</span></code> result sorted.</p></li>
<li><p>Fixed issue that <code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">gc</span></code> does not delete empty history files.</p></li>
<li><p>Standard stream tees have been fixed to accept the possibility that
they may not be backed by a binary buffer. This includes the pipeline
stdout tee as well as the shell tees.</p></li>
<li><p>Fixed a bug when the pygments plugin was used by third party editors etc.</p></li>
<li><p>CPU usage of <code class="docutils literal notranslate"><span class="pre">PopenThread</span></code> and <code class="docutils literal notranslate"><span class="pre">CommandPipeline</span></code> has been brought
down significantly.</p></li>
</ul>
</section>
<section id="v0-4-7">
<h2>v0.4.7<a class="headerlink" href="#v0-4-7" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Define alias for ‘echo’ on startup for Windows only.</p></li>
<li><p>New coredev <a class="reference external" href="https://github.com/AstraLuma">AstraLuma</a> added</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">which</span> <span class="pre">-a</span></code> now searches in <code class="docutils literal notranslate"><span class="pre">__xonsh_ctx__</span></code> too</p></li>
<li><p>Info about the xontrib cookiecutter template on xontrib tutorial</p></li>
<li><p>xonsh’s optional dependencies may now be installed with the pip extras <code class="docutils literal notranslate"><span class="pre">ptk</span></code>, <code class="docutils literal notranslate"><span class="pre">proctitle</span></code>, <code class="docutils literal notranslate"><span class="pre">linux</span></code>, <code class="docutils literal notranslate"><span class="pre">mac</span></code>, and <code class="docutils literal notranslate"><span class="pre">win</span></code>.</p></li>
<li><p>Env <code class="docutils literal notranslate"><span class="pre">help</span></code> method to format and print the vardocs for an envvar</p></li>
<li><p>test_news fails if no empty line before a category</p></li>
<li><p>more info on test_news failures</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">on_precommand</span></code> and <code class="docutils literal notranslate"><span class="pre">on_postcommand</span></code> <a class="reference external" href="/events.html">events</a></p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">FORMATTER_DICT</span></code> entry <code class="docutils literal notranslate"><span class="pre">gitstatus</span></code> to provides informative git status</p></li>
<li><p>FOREIGN_ALIASES_OVERRIDE envvar to control whether foreign aliases should
override xonsh aliases with the same name.</p></li>
<li><p>Warning on tutorial about foreign aliases being ignored if a xonsh alias
exist with the same name if not FOREIGN_ALIASES_OVERRIDE.</p></li>
<li><p>The prompt-toolkit shell now auto-inserts matching parentheses, brackets, and quotes. Enabled via the <code class="docutils literal notranslate"><span class="pre">XONSH_AUTOPAIR</span></code> environment variable</p></li>
<li><p>Better syntax highlights in prompt-toolkit, including valid command / path highlighting, macro syntax highlighting, and more</p></li>
<li><p>More info on tutorial about history interaction</p></li>
<li><p>Entry on bash_to_xsh</p></li>
<li><p>Macro context managers are now available via the <code class="docutils literal notranslate"><span class="pre">with!</span></code>
syntax.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Devguide reflects the current process of releasing through <code class="docutils literal notranslate"><span class="pre">release.xsh</span></code></p></li>
<li><p>moved <code class="docutils literal notranslate"><span class="pre">which</span></code> from <code class="docutils literal notranslate"><span class="pre">xonsh.aliases</span></code> into <code class="docutils literal notranslate"><span class="pre">xoreutils.which</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.prompt.gitstatus.gitstatus</span></code> now returns a namedtuple</p></li>
<li><p>implementation of <code class="docutils literal notranslate"><span class="pre">xonsh.prompt.vc_branch.get_git_branch</span></code> and
<code class="docutils literal notranslate"><span class="pre">xonsh.prompt.vc_branch.git_dirty_working_directory</span></code> to use ‘git status –procelain’</p></li>
<li><p>moved prompt formatting specific functions from <code class="docutils literal notranslate"><span class="pre">xonsh.environ</span></code>
to <code class="docutils literal notranslate"><span class="pre">xonsh.prompt.base</span></code></p></li>
<li><p>All prompt formatter functions moved to <code class="docutils literal notranslate"><span class="pre">xonsh.prompt</span></code> subpackage</p></li>
<li><p>Printing the message about foreign aliases being ignored happens only
if XONSH_DEBUG is set.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">SetConsoleTitleW()</span></code> on Windows instead of a process call.</p></li>
<li><p>Tutorial to reflect the current history command argument functionality</p></li>
<li><p>Macro function arguments now default to <code class="docutils literal notranslate"><span class="pre">str</span></code>, rather than <code class="docutils literal notranslate"><span class="pre">eval</span></code>,
for consistency with other parts of the macro system.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>aliases that use ‘!’ in their name cause they clash with the macro syntax</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fix regression where bash git completions where not loaded
automatically when GitForWindows is installed.</p></li>
<li><p>More tokens are now supported in subproc args, such as <code class="docutils literal notranslate"><span class="pre">==</span></code>.</p></li>
<li><p>Python completions now work without space delimiters, e.g. <code class="docutils literal notranslate"><span class="pre">a=matpl&lt;TAB&gt;</span></code>
will complete to <code class="docutils literal notranslate"><span class="pre">a=matplotlib</span></code></p></li>
<li><p>Parser would fail on nested, captured suprocess macros. Now, it works,
hooray!?</p></li>
<li><p>now fires chdir event if OS change in working directory is detected.</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">xonsh.prompt.vc_branch.git_dirty_working_directory</span></code></dt><dd><p>uses <code class="docutils literal notranslate"><span class="pre">porcelain</span></code> option instead of using the bytestring
<code class="docutils literal notranslate"><span class="pre">nothing</span> <span class="pre">to</span> <span class="pre">commit</span></code> to find out if a git directory is dirty</p>
</dd>
</dl>
</li>
<li><p>Fix bug where know commands where not highlighted on windows.</p></li>
<li><p>Fixed completer showing executable in upper case on windows.</p></li>
<li><p>Fixed issue where tilde expansion was occurring more than once before an
equals sign.</p></li>
<li><p>test_dirstack test_cdpath_expansion leaving stray testing dirs</p></li>
<li><p>Better completer display for long completions in prompt-toolkit</p></li>
<li><p>Automatically append newline to target of <code class="docutils literal notranslate"><span class="pre">source</span></code> alias, so that it may
be exec’d.</p></li>
<li><p>test_news fails when single graves around word</p></li>
<li><p>Slashes in virtual environment names work in vox</p></li>
<li><p>non string type value in $FORMATTER_DICT turning prompt ugly</p></li>
<li><p>whole prompt turning useless when one formatting function raises an exception</p></li>
<li><p>Fix completion after alias expansion</p></li>
<li><p>Fix hard crash when foreign shell functions fails to run. #1715</p></li>
<li><p>Bug where non-default locations for <code class="docutils literal notranslate"><span class="pre">XDG_DATA_HOME</span></code> and <code class="docutils literal notranslate"><span class="pre">XONSH_DATA_DIR</span></code>
would not expand <code class="docutils literal notranslate"><span class="pre">~</span></code> into the home directory</p></li>
<li><p>Auto quote path completions if path contains ‘and’ or ‘or’</p></li>
<li><p>Completion now works on subcommands after pipe, <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">||</span></code> and so on.</p></li>
<li><p>cd . and cd &lt;singleCharacter&gt; now work.  Fix indexerror in AUTO_PUSHD case, too.</p></li>
<li><p>Fixed issue with accidentally wrapping generators inside of function calls.</p></li>
<li><p>History indexing with string returns most recent command.</p></li>
</ul>
</section>
<section id="v0-4-6">
<h2>v0.4.6<a class="headerlink" href="#v0-4-6" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>New option <code class="docutils literal notranslate"><span class="pre">COMPLETIONS_CONFIRM</span></code>. When set, <code class="docutils literal notranslate"><span class="pre">&lt;Enter&gt;</span></code> is used to confirm
completion instead of running command while completion menu is displayed.</p></li>
<li><p>NetBSD is now supported.</p></li>
<li><p>Macro function calls are now available. These use a Rust-like
<code class="docutils literal notranslate"><span class="pre">f!(arg)</span></code> syntax.</p></li>
<li><p>Macro subprocess call now available with the <code class="docutils literal notranslate"><span class="pre">echo!</span> <span class="pre">x</span> <span class="pre">y</span> <span class="pre">z</span></code>
syntax.</p></li>
<li><p>A new <a class="reference external" href="http://xon.sh/tutorial_events.html">event subsystem</a> has been added.</p></li>
<li><p>howto install sections for Debian/Ubuntu and Fedora.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">History</span></code> methods <code class="docutils literal notranslate"><span class="pre">__iter__</span></code> and <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tools.get_portions</span></code> that yields parts of an iterable</p></li>
<li><p>Added a py.test plugin to collect <code class="docutils literal notranslate"><span class="pre">test_*.xsh</span></code> files and run <code class="docutils literal notranslate"><span class="pre">test_*()</span></code> functions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__repr__</span></code> and <code class="docutils literal notranslate"><span class="pre">__str__</span></code> magic method on LazyObject</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">create_module</span></code> implementation on XonshImportHook</p></li>
<li><p>Results of the <code class="docutils literal notranslate"><span class="pre">bash</span></code> tab completer are now properly escaped (quoted) when necessary.</p></li>
<li><p>Foreign aliases that match xonsh builtin aliases are now ignored with a warning.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prompt_toolkit</span></code> completions now only show the rightmost portion
of a given completion in the dropdown</p></li>
<li><p>The value of <code class="docutils literal notranslate"><span class="pre">'none'</span></code> is no longer allowed for <code class="docutils literal notranslate"><span class="pre">$SHELL_TYPE</span></code> just during the initial
load from the environment. <code class="docutils literal notranslate"><span class="pre">-D</span></code>, later times, and other sources still work.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">yacc_debug=True</span></code> now load the parser on the same thread that the
Parser instance is created. <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> now uses this synchronous
form as it was causing the parser table to be missed by some package
managers.</p></li>
<li><p>Tilde expansion for the home directory now has the same semantics as Bash.
Previously it only matched leading tildes.</p></li>
<li><p>Context sensitive AST transformation now checks that all names in an
expression are in scope. If they are, then Python mode is retained. However,
if even one is missing, subprocess wrapping is attempted. Previously, only the
left-most name was examined for being within scope.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dirstack.pushd</span></code> and <code class="docutils literal notranslate"><span class="pre">dirstack.popd</span></code> now handle UNC paths (of form <code class="docutils literal notranslate"><span class="pre">\\&lt;server&gt;\&lt;share&gt;\...</span></code>), but only on Windows.
They emulate behavior of <cite>CMD.EXE</cite> by creating a temporary mapped drive letter (starting from z: down) to replace
the <code class="docutils literal notranslate"><span class="pre">\\&lt;server&gt;\&lt;share&gt;</span></code> portion of the path, on the <code class="docutils literal notranslate"><span class="pre">pushd</span></code> and unmapping the drive letter when all references
to it are popped.</p></li>
<li><p>And <code class="docutils literal notranslate"><span class="pre">dirstack</span></code> suppresses this temporary drive mapping funky jive if registry entry
<code class="docutils literal notranslate"><span class="pre">HKCU\software\microsoft\command</span> <span class="pre">processor\DisableUNCCheck</span></code> (or HKLM...) is a DWORD value 1.  This allows Xonsh
to show the actual UNC path in your prompt string and <em>also</em> allows subprocess commands invoking <cite>CMD.EXE</cite> to run in
the expected working directory. See <a class="reference external" href="https://support.microsoft.com/en-us/kb/156276">https://support.microsoft.com/en-us/kb/156276</a> to satisfy any lingering curiosity.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lazy_locate_binary</span></code> handles binary on different drive letter than current working directory (on Windows).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_curr_session_parser</span></code> now iterates over <code class="docutils literal notranslate"><span class="pre">History</span></code></p></li>
<li><p>New implementation of bash completer with better performance and compatibility.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$COMPLETIONS_BRACKETS</span></code> is now available to determine whether or not to
include opening brackets in Python completions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.bat</span></code> tries to use <a class="reference external" href="https://www.python.org/dev/peps/pep-0397/">pylauncher</a> when available.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">History</span></code> method <code class="docutils literal notranslate"><span class="pre">show</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_hist_get_portion</span></code> in favor of <code class="docutils literal notranslate"><span class="pre">tools.get_portions</span></code></p></li>
<li><p>Unused imports in proc, flake8.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>xonsh modules imported now have the __file__ attribute</p></li>
<li><p>Context sensitive AST transformer was not adding argument names to the
local scope. This would then enable extraneous subprocess mode wrapping
for expressions whose leftmost name was function argument. This has been
fixed by properly adding the argument names to the scope.</p></li>
<li><p>Foreign shell functions that are mapped to empty filenames no longer
receive aliases since they can’t be found to source later.</p></li>
<li><p>Correctly preserve arguments given to xon.sh, in case there are quoted ones.</p></li>
<li><p>Environment variables in subprocess mode were not being expanded
unless they were in a sting. They are now expanded properly.</p></li>
<li><p>Fixed a bug that prevented xonsh from running scripts with code caching disabled.</p></li>
<li><p>Text of instructions to download missing program now does not get off and
appears in whole.</p></li>
<li><p>Fix some test problems when win_unicode_console was installed on windows.</p></li>
<li><p>Fixed bug that prompt string and <code class="docutils literal notranslate"><span class="pre">$PWD</span></code> failed to track change in actual working directory if the
invoked Python function happened to change it (e.g via <code class="docutils literal notranslate"><span class="pre">`os.chdir()`</span></code>.  Fix is to update <code class="docutils literal notranslate"><span class="pre">$PWD</span></code>
after each command in <code class="docutils literal notranslate"><span class="pre">`BaseShell.default()`</span></code>.</p></li>
<li><p>The interactive prompt now correctly handles multiline strings.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">\\&lt;server&gt;\&lt;share&gt;</span></code> now works when $AUTO_PUSHD is set, either creating a temporary mapped drive or simply
setting UNC working directory based on registry <code class="docutils literal notranslate"><span class="pre">DisableUNCCheck</span></code>.  However, if $AUTO_PUSHD is not set and UNC
checking is enabled (default for Windows), it issues an error message and fails.  This improves on prior behavior,
which would fail to change the current working directory, but would set $PWD and prompt string to the UNC path,
creating false expectations.</p></li>
<li><p>fix parsing for tuple of tuples (like <cite>(),()</cite>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sys.stdin</span></code>, <code class="docutils literal notranslate"><span class="pre">sys.stdout</span></code>, <code class="docutils literal notranslate"><span class="pre">sys.stderr</span></code> no longer complete with
opening square brackets</p></li>
<li><p>xonsh now properly handles syntax error messages arising from using values in inappropriate contexts (e.g., <code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">7</span></code>).</p></li>
</ul>
</section>
<section id="v0-4-5">
<h2>v0.4.5<a class="headerlink" href="#v0-4-5" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">_hist_get</span></code> that uses generators to filter and fetch
the history commands of each session.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-n</span></code> option to the show subcommand to choose
to numerate the commands.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">exec</span></code> command is now a first class alias that acts the same way as in
sh-based languages. It replaces the current process with the command and
argument that follows it. This allows xonsh to be used as a default shell
while maintaining functionality with SSH, gdb, and other third party programs
that assume the default shell supports raw <code class="docutils literal notranslate"><span class="pre">exec</span> <span class="pre">command</span> <span class="pre">[args]</span></code> syntax.</p>
<p>This feature introduces some ambiguity between exec-as-a-subprocess and
exec-as-a-function (the inescapable Python builtin). Though the two pieces of
syntax do not overlap, they perform very different operations. Please see
the xonsh FAQ for more information on trade-offs and mitigation strategies.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">which</span> <span class="pre">-v</span></code> now calls superhelp, which will print highlighted source.</p></li>
<li><p>Added xontribs:
* <a class="reference external" href="https://github.com/AstraLuma/xontrib-z">z (Tracks your most used directories, based on ‘frecency’.)</a></p></li>
<li><p>amalgamate.py now supports relative imports.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">show</span></code> args <code class="docutils literal notranslate"><span class="pre">-t</span></code>, <code class="docutils literal notranslate"><span class="pre">-f</span></code>, <code class="docutils literal notranslate"><span class="pre">-T</span></code> <code class="docutils literal notranslate"><span class="pre">+T</span></code> to filter commands by timestamp</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ensure_timestamp</span></code> in xonsh.tools to try and convert an object to a timestamp a.k.a float</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$XONSH_DATETIME_FORMAT</span></code> envvar, the default format to be used with <code class="docutils literal notranslate"><span class="pre">datetime.datetime.strptime()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xon.sh</span></code> script now sets <code class="docutils literal notranslate"><span class="pre">$LANG=C.UTF8</span></code> in the event that no encoding
is detected.</p></li>
<li><p>amalgamate.py now properly handles <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span></code> imports.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">_hist_show</span></code> now uses <code class="docutils literal notranslate"><span class="pre">_hist_get</span></code> to print out the commands.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.completers</span></code> sub-package is now fully lazy.</p></li>
<li><p>The vox xontrib now takes flags very similar to Python’s venv tool. Use
<code class="docutils literal notranslate"><span class="pre">vox</span> <span class="pre">--help</span> <span class="pre">&lt;command&gt;</span></code> to learn more.</p></li>
<li><p>Xontribs may now define <code class="docutils literal notranslate"><span class="pre">__all__</span></code> as a module top-level to limit what gets exported to the shell context</p></li>
<li><p>xon.sh uses the interpreter used to install instead of the default python3.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">imphooks</span></code> now checks directory access rights.</p></li>
<li><p>$TITLE now changes both icon (tab) and window title</p></li>
<li><p>Moved <code class="docutils literal notranslate"><span class="pre">amalgamate_source</span></code> outside <code class="docutils literal notranslate"><span class="pre">build_tables</span></code></p></li>
<li><p>Disable amalgamation on setup develop</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_hist_parse_args</span></code> implementation refactor</p></li>
<li><p>moved all parameter checking in <code class="docutils literal notranslate"><span class="pre">_hist_get</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_hist_show</span></code> to handle numeration and timestamp printing of commands</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.imphooks</span></code> does not install the import hooks automatically, you now
need to explicitly call the  <cite>install_hook()</cite> method defined in this module.
For example: <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">xonsh.imphooks</span> <span class="pre">import</span> <span class="pre">install_hook;</span> <span class="pre">install_hook()</span></code>. The
<code class="docutils literal notranslate"><span class="pre">install_hook</span></code> method can safely be called several times. If you need
compatibility with previous versions of Xonsh you can use the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">xonsh</span> <span class="kn">import</span> <span class="n">imphooks</span>
<span class="nb">getattr</span><span class="p">(</span><span class="n">imphooks</span><span class="p">,</span> <span class="s1">&#39;install_hook&#39;</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span><span class="kc">None</span><span class="p">)()</span>
</pre></div>
</div>
</li>
<li><p>xonfig command now dumps more encoding related settings.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>Anaconda Build is shutting down so we can no longer build conda development packages.
All references to these packages are removed from the documentation.</p></li>
<li><p>Removed conda build recipe since the it is no longer used for Anaconda Build.
The recipe used to build xonsh on conda-forge can be found here:
<a class="reference external" href="https://github.com/conda-forge/xonsh-feedstock/blob/master/recipe/meta.yaml">https://github.com/conda-forge/xonsh-feedstock/blob/master/recipe/meta.yaml</a></p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_zsh_hist_parser</span></code> not parsing history files without timestamps.</p></li>
<li><p>Fixed amalgamation of aliased imports that are already in <code class="docutils literal notranslate"><span class="pre">sys.modules</span></code>.</p></li>
<li><p>Xonsh will no longer fail to start in directories where the user doesn’t have
read access.</p></li>
<li><p>Fixed parser error line number exception from being raised while trying to
raise a SyntaxError.</p></li>
<li><p>Made pip completer more robust to when pip is not installed.</p></li>
<li><p>Fix a startup problem on windows caused by a refactor of Prompt_toolkit.
<a class="reference external" href="https://github.com/jonathanslenders/python-prompt-toolkit/commit/a9df2a2">https://github.com/jonathanslenders/python-prompt-toolkit/commit/a9df2a2</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ensure_slice</span></code> bugfix for -1 index/slice</p></li>
<li><p>Alias tab completion works again</p></li>
<li><p>Version number reported by bundled PLY</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonfig</span></code> no longer breaks if PLY is externally installed and version 3.8</p></li>
<li><p>LazyObject supports set union</p></li>
<li><p>Fixed error with not sourcing files with <code class="docutils literal notranslate"><span class="pre">$XONSH_ENCODING</span></code> and
<code class="docutils literal notranslate"><span class="pre">$XONSH_ENCODING_ERRORS</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$IGNOREEOF</span></code> envrionment variable now works properly in the
prompt-toolkit shell.</p></li>
<li><p>Completions in <code class="docutils literal notranslate"><span class="pre">jupyter_kernel.py</span></code> now use updated completion framework</p></li>
</ul>
</section>
<section id="v0-4-4">
<h2>v0.4.4<a class="headerlink" href="#v0-4-4" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p>New <code class="docutils literal notranslate"><span class="pre">lazyobject()</span></code>, <code class="docutils literal notranslate"><span class="pre">lazydict()</span></code>, and <code class="docutils literal notranslate"><span class="pre">lazybool()</span></code> decorators to turn
functions into lazy, global objects.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vox</span> <span class="pre">remove</span></code> command can remove multiple environments at once.</p></li>
<li><p>Added FreeBSD support.</p></li>
<li><p>Tab completion for pip python package manager.</p></li>
<li><p>Regular expressions for environment variable matching.</p></li>
<li><p>__contains__ method on Env</p></li>
<li><p>Added news tests to enforce changelog conformity.</p></li>
<li><p>A new way to add optional items to the prompt format string has been added.
Instead of relying on formatter dict items being padded with a space, now the
padding characters are specified in the format string itself, in place of the
format spec (after a <code class="docutils literal notranslate"><span class="pre">:</span></code>).</p>
<p>For example, previously the prompt string <code class="docutils literal notranslate"><span class="pre">{cwd}{curr_branch}</span> <span class="pre">$</span></code> would rely
on <code class="docutils literal notranslate"><span class="pre">curr_branch</span></code> giving its output prepended with a space for separation,
or outputting nothing if it is not applicable. Now <code class="docutils literal notranslate"><span class="pre">curr_branch</span></code> just
outputs a value or <code class="docutils literal notranslate"><span class="pre">None</span></code>, and the prompt string has to specify the
surrounding characters: <code class="docutils literal notranslate"><span class="pre">{cwd}{curr_branch:</span> <span class="pre">{}}</span> <span class="pre">$</span></code>. Here the  value of
<code class="docutils literal notranslate"><span class="pre">curr_branch</span></code> will be prepended with a space (<code class="docutils literal notranslate"><span class="pre">{}</span></code> is a placeholder for
the value itself). The format string after <code class="docutils literal notranslate"><span class="pre">:</span></code> is applied only if the value
is not <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.completers</span></code> subpackage is now amalgamated.</p></li>
<li><p>amalgamate.py will now warn if the same name is defined across multiple
different files.</p></li>
<li><p>xonsh_builtins, xonsh_execer fixtures in conftest.py</p></li>
<li><p>Docs on how to tweak the Windows ConHost for a better color scheme.</p></li>
<li><p>Docs: how to fix Thunar’s “Open Terminal Here” action.</p></li>
<li><p>A new API class was added to Vox: <code class="docutils literal notranslate"><span class="pre">xontrib.voxapi.Vox</span></code>. This allows programmatic access to the virtual environment machinery for other xontribs. See the API documentation for details.</p></li>
<li><p>History now accepts multiple slices arguments separated by spaces</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>amalgamate now works on Python 2 and allows relative imports.</p></li>
<li><p>Top-level xonsh package now more lazy.</p></li>
<li><p>Show conda environment name in prompt in parentheses similar what conda does.</p></li>
<li><p>Implementation of expandvars now uses regex</p></li>
<li><p>Because of the addition of “optional items” to the prompt format string, the
functions <code class="docutils literal notranslate"><span class="pre">xonsh.environ.current_branch</span></code>, <code class="docutils literal notranslate"><span class="pre">xonsh.environ.env_name</span></code> and
formatter dict items <code class="docutils literal notranslate"><span class="pre">curr_branch</span></code>, <code class="docutils literal notranslate"><span class="pre">current_job</span></code>, <code class="docutils literal notranslate"><span class="pre">env_name</span></code> are
no longer padded with a separator.</p></li>
<li><p>many test cases to use fixtures and parametrization</p></li>
<li><p>Public interface in <code class="docutils literal notranslate"><span class="pre">xonsh.ansi_colors</span></code> module now has <code class="docutils literal notranslate"><span class="pre">ansi_</span></code>
prefix to prevent name conflicts with other parts of xonsh.</p></li>
<li><p>Vox was moved to xontrib. Behaves exactly the same as before, just need to add it to your xontribs.</p></li>
<li><p>is_int_as_str and is_slice_as_str are now reimplemented in EAFP style</p></li>
</ul>
<p><strong>Deprecated:</strong></p>
<ul class="simple">
<li><p>yield statements (nose style) and for loops in tests</p></li>
<li><p>is_int_or_slice</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>_is_in_env, _get_env_string functions on tools</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.environ.format_prompt</span></code> has been dropped; <code class="docutils literal notranslate"><span class="pre">partial_format_prompt</span></code>
can be used instead.</p></li>
<li><p>for loops and yield statements in test cases, unused imports</p></li>
<li><p>is_int_or_slice</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed bug on Windows preventing xonsh from changing the console title.</p></li>
<li><p>Unrecognized <code class="docutils literal notranslate"><span class="pre">$XONSH_COLOR_STYLE</span></code> values don’t crash terminal.</p></li>
<li><p>Writing the window title will no longer accidentally answer interactive
questions, eg <code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">-i</span></code> now works as expected.</p></li>
<li><p>more matching cases for envvar reference</p></li>
<li><p>Certain linux VTE terminals would not start new tabs in the previous CWD.
This may now be rectified by adding <code class="docutils literal notranslate"><span class="pre">{vte_new_tab_cwd}</span></code> somewhere to the
prompt.</p></li>
<li><p>Unqualified usage of Unstorable in xonsh setup wizard that was causing the
wizard to crash and burn</p></li>
<li><p>Bare <code class="docutils literal notranslate"><span class="pre">except:</span></code> was replaced with <code class="docutils literal notranslate"><span class="pre">except</span> <span class="pre">Exception</span></code> to prevent
accidentally catching utility exceptions such as KeyboardInterrupt, which
caused unexpected problems like printing out the raw $PROMPT string.</p></li>
<li><p>Fixed multiple definition of <code class="docutils literal notranslate"><span class="pre">EQUAL</span></code>.</p></li>
<li><p>Fixed multiple definition of <code class="docutils literal notranslate"><span class="pre">pprint</span></code>.</p></li>
<li><p>Fixed multiple definition of <code class="docutils literal notranslate"><span class="pre">pyghooks</span></code>.</p></li>
<li><p>Fixed multiple definition of <code class="docutils literal notranslate"><span class="pre">pygments</span></code>.</p></li>
<li><p>Fixed multiple definition of <code class="docutils literal notranslate"><span class="pre">tokenize</span></code>.</p></li>
<li><p>redundant and ‘leaky’ tests in nose</p></li>
<li><p>Fix bug that prevented disabling $INTENSIFY_COLORS_ON_WIN in <code class="docutils literal notranslate"><span class="pre">xonshrc</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LazyJSON</span></code> will now hide failures to close, and instead rely on reference
counting if something goes wrong.</p></li>
<li><p>Fixed maximum recursion error with color styles.</p></li>
<li><p>Parser tables will no longer be generated in the current directory
by accident.</p></li>
<li><p>Error messages when zsh or bash history file is not found</p></li>
</ul>
</section>
<section id="v0-4-3">
<h2>v0.4.3<a class="headerlink" href="#v0-4-3" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>The results of glob expressions are sorted if <code class="docutils literal notranslate"><span class="pre">$GLOB_SORTED</span></code> is set.</p></li>
<li><p>LazyObjects will now load themselves on <code class="docutils literal notranslate"><span class="pre">__getitem__()</span></code></p></li>
<li><p>New tools in <code class="docutils literal notranslate"><span class="pre">xonsh.lazyasd</span></code> module for loading modules in background
threads.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">GLOB_SORTED</span></code> is enabled by default.</p></li>
<li><p>Sped up loading of pygments by ~100x by loading <code class="docutils literal notranslate"><span class="pre">pkg_resources</span></code> in
background.</p></li>
<li><p>Sped up loading of prompt-toolkit by ~2x-3x by loading <code class="docutils literal notranslate"><span class="pre">pkg_resources</span></code>
in background.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setup.py</span></code> will no longer git checkout to replace the version number.
Now it simply stores and reuses the original version line.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>Removed the <code class="docutils literal notranslate"><span class="pre">xonsh.built_ins.ENV</span></code> global instance of the Env class.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Bug with setting hist size not being settable due to lazy object loading
has been resolved.</p></li>
<li><p>Minor amalgamate bug with <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">pkg.mod</span></code> amalgamated imports.</p></li>
<li><p>No longer raises an error if a directory in <code class="docutils literal notranslate"><span class="pre">$PATH</span></code> does not exist on
Python v3.4.</p></li>
<li><p>Fixed a readline shell completion issue that caused by inconsistency between
<code class="docutils literal notranslate"><span class="pre">$CASE_SENSITIVE_COMPLETIONS</span></code> and readline’s inputrc setting.</p></li>
</ul>
</section>
<section id="v0-4-2">
<h2>v0.4.2<a class="headerlink" href="#v0-4-2" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>dev versions now display a <code class="docutils literal notranslate"><span class="pre">devN</span></code> counter at the end and <code class="docutils literal notranslate"><span class="pre">xonfig</span> <span class="pre">info</span></code>
also displays the git sha of the current build</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p><cite>prompt_toolkit</cite> completion no longer automatically selects the first entry on first tab-press when completing multiple directories at once</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Sourcing foreign shells now allow fully capture environment variables that
contain newlines as long as they also don’t contain equal signs.</p></li>
<li><p>Added scripts directory to MANIFEST.in</p></li>
</ul>
</section>
<section id="v0-4-1">
<h2>v0.4.1<a class="headerlink" href="#v0-4-1" title="Link to this heading">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setup.py</span></code> will only amalgamate source files if <code class="docutils literal notranslate"><span class="pre">amalgamate.py</span></code> is
available. This fixes issues with installing from pip.</p></li>
</ul>
</section>
<section id="v0-4-0">
<h2>v0.4.0<a class="headerlink" href="#v0-4-0" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul>
<li><p>A new class, <code class="docutils literal notranslate"><span class="pre">xonsh.tools.EnvPath</span></code> has been added. This class implements a
<code class="docutils literal notranslate"><span class="pre">MutableSequence</span></code> object and overrides the <code class="docutils literal notranslate"><span class="pre">__getitem__</span></code> method so that
when its entries are requested (either explicitly or implicitly), variable
and user expansion is performed, and relative paths are resolved.
<code class="docutils literal notranslate"><span class="pre">EnvPath</span></code> accepts objects (or lists of objects) of <code class="docutils literal notranslate"><span class="pre">str</span></code>, <code class="docutils literal notranslate"><span class="pre">bytes</span></code> or
<code class="docutils literal notranslate"><span class="pre">pathlib.Path</span></code> types.</p></li>
<li><p>New amalgamate tool collapses modules inside of a package into a single
<code class="docutils literal notranslate"><span class="pre">__amalgam__.py</span></code> module. This tool glues together all of the code from the
modules in a package, finds and removes intra-package imports, makes all
non-package imports lazy, and adds hooks into the <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code>.
This helps makes initial imports of modules fast and decreases startup time.
Packages and sub-packages must be amalgamated separately.</p></li>
<li><p>New lazy and self-destructive module <code class="docutils literal notranslate"><span class="pre">xonsh.lazyasd</span></code> adds a suite of
classes for delayed creation of objects.</p>
<blockquote>
<div><ul class="simple">
<li><p>A <code class="docutils literal notranslate"><span class="pre">LazyObject</span></code> won’t be created until it has an attribute accessed.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">LazyDict</span></code> will load each value only when a key is accessed.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">LazyBool</span></code> will only be created when <code class="docutils literal notranslate"><span class="pre">__bool__()</span></code> is called.</p></li>
</ul>
</div></blockquote>
<p>Additionally, when fully loaded, the above objects will replace themselves
by name in the context that they were handed, thus dereferencing themselves.
This is useful for global variables that may be expensive to create,
should only be created once, and may not be used in any particular session.</p>
</li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">xon.sh</span></code> script added for launching xonsh from a sh environment.
This should be used if the normal <code class="docutils literal notranslate"><span class="pre">xonsh</span></code> script does not work for
some reason.</p></li>
<li><p>Normal globbing is now available in Python mode via <code class="docutils literal notranslate"><span class="pre">g``</span></code></p></li>
<li><p>Backticks were expanded to allow searching using arbitrary functions, via
<code class="docutils literal notranslate"><span class="pre">&#64;&lt;func&gt;``</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.platform</span></code> now has a new <code class="docutils literal notranslate"><span class="pre">PATH_DEFAULT</span></code> variable.</p></li>
<li><p>Tab completers can now raise <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code> to prevent consideration of
remaining completers.</p></li>
<li><p>Added tab completer for the <code class="docutils literal notranslate"><span class="pre">completer</span></code> alias.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">Block</span></code> and <code class="docutils literal notranslate"><span class="pre">Functor</span></code> context managers are now available as
part of the <code class="docutils literal notranslate"><span class="pre">xonsh.contexts</span></code> module.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Block</span></code> provides support for turning a context body into a non-executing
list of string lines. This is implement via a syntax tree transformation.
This is useful for creating remote execution tools that seek to prevent
local execution.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Functor</span></code> is a subclass of the <code class="docutils literal notranslate"><span class="pre">Block</span></code> context manager that turns the
block into a callable object.  The function object is available via the
<code class="docutils literal notranslate"><span class="pre">func()</span></code> attribute.  However, the <code class="docutils literal notranslate"><span class="pre">Functor</span></code> instance is itself callable
and will dispatch to <code class="docutils literal notranslate"><span class="pre">func()</span></code>.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">$VC_BRANCH_TIMEOUT</span></code> environment variable is the time (in seconds)
of how long to spend attempting each individual version control branch
information command during <code class="docutils literal notranslate"><span class="pre">$PROMPT</span></code> formatting.  This allows for faster
prompt resolution and faster startup times.</p></li>
<li><p>New lazy methods added to CommandsCache allowing for testing and inspection
without the possibility of recomputing the cache.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!(command)</span></code> is now usefully iterable, yielding lines of stdout</p></li>
<li><p>Added XonshCalledProcessError, which includes the relevant CompletedCommand.
Also handles differences between Py3.4 and 3.5 in CalledProcessError</p></li>
<li><p>Tab completion of paths now includes zsh-style path expansion (subsequence
matching), toggleable with <code class="docutils literal notranslate"><span class="pre">$SUBSEQUENCE_PATH_COMPLETION</span></code></p></li>
<li><p>Tab completion of paths now includes “fuzzy” matches that are accurate to
within a few characters, toggleable with <code class="docutils literal notranslate"><span class="pre">$FUZZY_PATH_COMPLETION</span></code></p></li>
<li><p>Provide <code class="docutils literal notranslate"><span class="pre">$XONSH_SOURCE</span></code> for scripts in the environment variables pointing to
the currently running script’s path</p></li>
<li><p>Arguments ‘+’ and ‘-’ for the <code class="docutils literal notranslate"><span class="pre">fg</span></code> command (job control)</p></li>
<li><p>Provide <code class="docutils literal notranslate"><span class="pre">$XONSH_SOURCE</span></code> for scripts in the environment variables pointing to
the currently running script’s path</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!(command)</span></code> is now usefully iterable, yielding lines of stdout</p></li>
<li><p>Added XonshCalledProcessError, which includes the relevant CompletedCommand.
Also handles differences between Py3.4 and 3.5 in CalledProcessError</p></li>
<li><p>XonshError and XonshCalledProcessError are now in builtins:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">session</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">xonsh</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">all</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">zsh</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">history</span> <span class="pre">bash</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__xonsh_history__.show()</span></code></p></li>
</ul>
</li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">pathsep_to_set()</span></code> and <code class="docutils literal notranslate"><span class="pre">set_to_pathsep()</span></code> functions convert to/from
<code class="docutils literal notranslate"><span class="pre">os.pathsep</span></code> separated strings to a set of strings.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Changed testing framework from nose to pytest</p></li>
<li><p>All <code class="docutils literal notranslate"><span class="pre">PATH</span></code>-like environment variables are now stored in an <code class="docutils literal notranslate"><span class="pre">EnvPath</span></code>
object, so that non-absolute paths or paths containing environment variables
can be resolved properly.</p></li>
<li><p>In <code class="docutils literal notranslate"><span class="pre">VI_MODE</span></code>, the <code class="docutils literal notranslate"><span class="pre">v</span></code> key will enter character selection mode, not open
the editor.  <code class="docutils literal notranslate"><span class="pre">Ctrl-X</span> <span class="pre">Ctrl-E</span></code> will still open an editor in any mode</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$XONSH_DEBUG</span></code> will now suppress amalgamated imports. This usually needs to be
set in the calling environment or prior to <em>any</em> xonsh imports.</p></li>
<li><p>Restructured <code class="docutils literal notranslate"><span class="pre">xonsh.platform</span></code> to be fully lazy.</p></li>
<li><p>Restructured <code class="docutils literal notranslate"><span class="pre">xonsh.ansi_colors</span></code> to be fully lazy.</p></li>
<li><p>Ensured the <code class="docutils literal notranslate"><span class="pre">pygments</span></code> and <code class="docutils literal notranslate"><span class="pre">xonsh.pyghooks</span></code> are not imported until
actually needed.</p></li>
<li><p>Yacc parser is now loaded in a background thread.</p></li>
<li><p>Cleaned up argument parsing in <code class="docutils literal notranslate"><span class="pre">xonsh.main.premain</span></code> by removing the
<code class="docutils literal notranslate"><span class="pre">undo_args</span></code> hack.</p></li>
<li><p>Now complains on invalid arguments.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Env</span></code> now guarantees that the <code class="docutils literal notranslate"><span class="pre">$PATH</span></code> is available and mutable when
initialized.</p></li>
<li><p>On Windows the <code class="docutils literal notranslate"><span class="pre">PROMPT</span></code> environment variable is reset to <cite>$P$G</cite> before
sourcing <code class="docutils literal notranslate"><span class="pre">*.bat</span></code> files.</p></li>
<li><p>On Windows the <code class="docutils literal notranslate"><span class="pre">PROMPT</span></code> environment variable is reset to <cite>$P$G</cite> before starting
subprocesses. This prevents the unformatted xonsh <code class="docutils literal notranslate"><span class="pre">PROMPT</span></code> template from showing up
when running batch files with <code class="docutils literal notranslate"><span class="pre">ECHO</span> <span class="pre">ON`</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;()</span></code> now passes through functions as well as strings, which allows for the
use of anonymous aliases and aliases not explicitly added to the <code class="docutils literal notranslate"><span class="pre">aliases</span></code>
mapping.</p></li>
<li><p>Functions in <code class="docutils literal notranslate"><span class="pre">Execer</span></code> now take <code class="docutils literal notranslate"><span class="pre">transform</span></code> kwarg instead of
<code class="docutils literal notranslate"><span class="pre">wrap_subproc</span></code>.</p></li>
<li><p>Provide <code class="docutils literal notranslate"><span class="pre">$XONSH_SOURCE</span></code> for scripts in the environment variables pointing to
the currently running script’s path</p></li>
<li><p>XonshError and XonshCalledProcessError are now in builtins</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__repr__</span></code> on the environment only shows a short representation of the
object instead of printing the whole environment dictionary</p></li>
<li><p>More informative prompt when configuring foreign shells in the wizard.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CommandsCache</span></code> is now a mapping from command names to a tuple of
(executable locations, has alias flags). This enables faster lookup times.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">locate_bin()</span></code> now uses the <code class="docutils literal notranslate"><span class="pre">CommandsCache</span></code>, rather than scanning the
<code class="docutils literal notranslate"><span class="pre">$PATH</span></code> itself.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$PATHEXT</span></code> is now a set, rather than a list.</p></li>
<li><p>Ignore case and leading a quotes when sorting completions</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">'console_scripts'</span></code> option to setuptools has been removed. It was found
to cause slowdowns of over 150 ms on every startup.</p></li>
<li><p>Bash is no longer loaded by default as a foreign shell for initial
configuration. This was done to increase stock startup times. This
behaviour can be recovered by adding <code class="docutils literal notranslate"><span class="pre">{&quot;shell&quot;:</span> <span class="pre">&quot;bash&quot;}</span></code> to your
<code class="docutils literal notranslate"><span class="pre">&quot;foreign_shells&quot;</span></code> in your config.json file. For more details,
see <a class="reference external" href="http://xon.sh/xonshconfig.html#foreign-shells">http://xon.sh/xonshconfig.html#foreign-shells</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ensure_git()</span></code> and <code class="docutils literal notranslate"><span class="pre">ensure_hg()</span></code> decorators removed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">call_hg_command()</span></code> function removed.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Issue where <code class="docutils literal notranslate"><span class="pre">xonsh</span></code> did not expand user and environment variables in
<code class="docutils literal notranslate"><span class="pre">$PATH</span></code>, forcing the user to add absolute paths.</p></li>
<li><p>Fixed a problem with aliases not always being found.</p></li>
<li><p>Fixed issue where input was directed to the last process in a pipeline,
rather than the first.</p></li>
<li><p>Bug where xonfig wizard can’t find ENV docs</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">xonsh.environ.locate_binary()</span></code> to handle PATH variable are given as a tuple.</p></li>
<li><p>Fixed missing completions for <code class="docutils literal notranslate"><span class="pre">cd</span></code> and <code class="docutils literal notranslate"><span class="pre">`rmdir</span></code> when directories had spaces
in their names.</p></li>
<li><p>Bug preventing <cite>xonsh</cite> executable being installed on macOS.</p></li>
<li><p>Strip leading space in commands passed using the “-c” switch</p></li>
<li><p>Fixed xonfig wizard failing on Windows due to colon in created filename.</p></li>
<li><p>Ensured that the prompt_toolkit shell functions, even without a <code class="docutils literal notranslate"><span class="pre">completer</span></code>
attribute.</p></li>
<li><p>Fixed crash resulting from malformed <code class="docutils literal notranslate"><span class="pre">$PROMPT</span></code> or <code class="docutils literal notranslate"><span class="pre">$TITLE</span></code>.</p></li>
<li><p>xonsh no longer backgrounds itself after every command on Cygwin.</p></li>
<li><p>Fixed an issue about <code class="docutils literal notranslate"><span class="pre">os.killpg()</span></code> on Cygwin which caused xonsh to crash
occasionally</p></li>
<li><p>Fix crash on startup when Bash Windows Subsystem for Linux is on the Path.</p></li>
<li><p>Fixed issue with setting and signaling process groups on Linux when the first
process is a function alias and has no pid.</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">_list_completers</span></code> such that it does not throw a ValueError if no completer is registered.</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">_list_completers</span></code> such that it does not throw an AttributeError if a completer has no docstring.</p></li>
<li><p>Bug that caused command line argument <code class="docutils literal notranslate"><span class="pre">--config-path</span></code> to be ignored.</p></li>
<li><p>Bug that caused xonsh to break on startup when prompt-toolkit &lt; 1.0.0.</p></li>
</ul>
</section>
<section id="v0-3-4">
<h2>v0.3.4<a class="headerlink" href="#v0-3-4" title="Link to this heading">¶</a></h2>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">$PROMPT</span></code> from foreign shells is now ignored.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$RC_FILES</span></code> environment variable now stores the run control files we
attempted to load.</p></li>
<li><p>Only show the prompt for the wizard if we did not attempt to load any run
control files (as opposed to if none were successfully loaded).</p></li>
<li><p>Git and mercurial branch and dirty function refactor to improve run times.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed an issue whereby attempting to delete a literal value (e.g., <code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">7</span></code>)
in the prompt_toolkit shell would cause xonsh to crash.</p></li>
<li><p>Fixed broken behavior when using <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">..</span></code> to move into a nonexistent
directory.</p></li>
<li><p>Partial workaround for Cygwin where <code class="docutils literal notranslate"><span class="pre">pthread_sigmask</span></code> appears to be missing
from the <code class="docutils literal notranslate"><span class="pre">signal</span></code> module.</p></li>
<li><p>Fixed crash resulting from malformed <code class="docutils literal notranslate"><span class="pre">$PROMPT</span></code>.</p></li>
<li><p>Fixed regression on Windows with the locate_binary() function.
The bug prevented <cite>source-cmd</cite> from working correctly and broke the
<code class="docutils literal notranslate"><span class="pre">activate</span></code>/<code class="docutils literal notranslate"><span class="pre">deactivate</span></code> aliases for the conda environments.</p></li>
<li><p>Fixed crash resulting from errors other than syntax errors in run control
file.</p></li>
<li><p>On Windows if bash is not on the path look in the registry for the defaults
install directory for GitForWindows.</p></li>
</ul>
</section>
<section id="v0-3-3">
<h2>v0.3.3<a class="headerlink" href="#v0-3-3" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Question mark literals, <code class="docutils literal notranslate"><span class="pre">?</span></code>, are now allowed as part of
subprocess argument names.</p></li>
<li><p>IPython style visual pointer to show where syntax error was detected</p></li>
<li><p>Pretty printing of output and syntax highlighting of input and output can now
be controlled via new environment variables <code class="docutils literal notranslate"><span class="pre">$COLOR_INPUT</span></code>,
<code class="docutils literal notranslate"><span class="pre">$COLOR_RESULTS</span></code>, and <code class="docutils literal notranslate"><span class="pre">$PRETTY_PRINT_RESULTS</span></code>.</p></li>
<li><p>In interactive mode, if there are stopped or background jobs, Xonsh prompts
for confirmations rather than just killing all jobs and exiting.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">which</span></code> now gives a better verbose report of where the executables are
found.</p></li>
<li><p>Tab completion now uses a different interface, which allows new completers
to be implemented in Python.</p></li>
<li><p>Most functions in the <code class="docutils literal notranslate"><span class="pre">Execer</span></code> now take an extra argument
<code class="docutils literal notranslate"><span class="pre">transform</span></code>, indicating whether the syntax tree transformations should
be applied.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prompt_toolkit</span></code> is now loaded lazily, decreasing load times when using
the <code class="docutils literal notranslate"><span class="pre">readline</span></code> shell.</p></li>
<li><p>RC files are now executed directly in the appropriate context.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_</span></code> is now updated by <code class="docutils literal notranslate"><span class="pre">![]</span></code>, to contain the appropriate
<code class="docutils literal notranslate"><span class="pre">CompletedCommand</span></code> object.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>Fixed bug on Windows where <code class="docutils literal notranslate"><span class="pre">which</span></code> did not include current directory</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed crashed bash-completer when bash is not available on Windows</p></li>
<li><p>Fixed bug on Windows where tab-completion for executables would return all files.</p></li>
<li><p>Fixed bug on Windows which caused the bash $PROMPT variable to be used when no
no $PROMPT variable was set in .xonshrc</p></li>
<li><p>Improved start-up times by caching information about bash completion
functions</p></li>
<li><p>The –shell-type CLI flag now takes precedence over $SHELL_TYPE specified in
.xonshrc</p></li>
<li><p>Fixed an issue about <code class="docutils literal notranslate"><span class="pre">os.killpg()</span></code> on OS X which caused xonsh crash with
occasionally.</p></li>
</ul>
</section>
<section id="v0-3-2">
<h2>v0.3.2<a class="headerlink" href="#v0-3-2" title="Link to this heading">¶</a></h2>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed PermissionError when tab completions tries to lookup executables in
directories without read permissions.</p></li>
<li><p>Fixed incorrect parsing of command line flags</p></li>
</ul>
</section>
<section id="v0-3-1">
<h2>v0.3.1<a class="headerlink" href="#v0-3-1" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>When a subprocess exits with a signal (e.g. SIGSEGV), a message is printed,
similar to Bash.</p></li>
<li><p>Added comma literals to subproc mode.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;$(cmd)</span></code> has been added as a subprocess-mode operator, which replaces in
the subprocess command itself with the result of running <code class="docutils literal notranslate"><span class="pre">cmd</span></code>.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">showcmd</span></code> alias for displaying how xonsh interprets subprocess mode
commands and arguments.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">$DYNAMIC_CWD_WIDTH</span></code> to allow the adjusting of the current working
directory width in the prompt.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">$XONSH_DEBUG</span></code> environment variable to help with debugging.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">${...}</span></code> shortcut for <code class="docutils literal notranslate"><span class="pre">__xonsh_env__</span></code> now returns appropriate
completion options</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>On Windows the default bash completions files <code class="docutils literal notranslate"><span class="pre">$BASH_COMPLETIONS</span></code> now points
to the default location of the completions files used by ‘Git for Windows’</p></li>
<li><p>On Cygwin, some tweaks are applied to foreign shell subprocess calls and the
readline import, in order to avoid hangs on launch.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>Special cased code for handling version of prompt_toolkit &lt; v1.0.0</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Show sorted bash completions suggestions.</p></li>
<li><p>Fix bash completions (e.g git etc.) on windows when completions files have
spaces in their path names</p></li>
<li><p>Fixed a bug preventing <code class="docutils literal notranslate"><span class="pre">source-bash</span></code> from working on Windows</p></li>
<li><p>Numerous improvements to job control via a nearly-complete rewrite.</p></li>
<li><p>Addressed issue with finding the next break in subproc mode in context
sensitive parsing.</p></li>
<li><p>Fixed issue with loading readline init files (inputrc) that seems to be
triggered by libedit.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">$MULTILINE_PROMPT</span></code> now allows colors, as originally intended.</p></li>
<li><p>Rectified install issue with Jupyter hook when installing with pyenv,
Jupyter install hook now respects <code class="docutils literal notranslate"><span class="pre">--prefix</span></code> argument.</p></li>
<li><p>Fixed issue with the xonsh.ply subpackage not being installed.</p></li>
<li><p>Fixed a parsing bug whereby a trailing <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> on a line was being ignored
(processes were unable to be started in the background)</p></li>
</ul>
</section>
<section id="v0-3-0">
<h2>v0.3.0<a class="headerlink" href="#v0-3-0" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">and</span></code>, <code class="docutils literal notranslate"><span class="pre">or</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">||</span></code> have been added as subprocess logical operators,
by popular demand!</p></li>
<li><p>Subprocesses may be negated with <code class="docutils literal notranslate"><span class="pre">not</span></code> and grouped together with parentheses.</p></li>
<li><p>New framework for writing xonsh extensions, called <code class="docutils literal notranslate"><span class="pre">xontribs</span></code>.</p></li>
<li><p>Added a new shell type <code class="docutils literal notranslate"><span class="pre">'none'</span></code>, used to avoid importing <code class="docutils literal notranslate"><span class="pre">readline</span></code> or
<code class="docutils literal notranslate"><span class="pre">prompt_toolkit</span></code> when running scripts or running a single command.</p></li>
<li><p>New: <cite>sudo</cite> functionality on Windows through an alias</p></li>
<li><p>Automatically enhance colors for readability in the default terminal (cmd.exe)
on Windows. This functionality can be enabled/disabled with the
$INTENSIFY_COLORS_ON_WIN environment variable.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Ellipsis</span></code> lookup to <code class="docutils literal notranslate"><span class="pre">__xonsh_env__</span></code> to allow environment variable checks, e.g. <code class="docutils literal notranslate"><span class="pre">'HOME'</span> <span class="pre">in</span> <span class="pre">${...}</span></code></p></li>
<li><p>Added an option to update <code class="docutils literal notranslate"><span class="pre">os.environ</span></code> every time the xonsh environment changes.
This is disabled by default but can be enabled by setting <code class="docutils literal notranslate"><span class="pre">$UPDATE_OS_ENVIRON</span></code> to
True.</p></li>
<li><p>Added Windows ‘cmd.exe’ as a foreign shell. This gives xonsh the ability to source
Windows Batch files (.bat and .cmd). Calling <code class="docutils literal notranslate"><span class="pre">source-cmd</span> <span class="pre">script.bat</span></code> or the
alias <code class="docutils literal notranslate"><span class="pre">source-bat</span> <span class="pre">script.bat</span></code> will call the bat file and changes to the
environment variables will be reflected in xonsh.</p></li>
<li><p>Added an alias for the conda environment activate/deactivate batch scripts when
running the Anaconda python distribution on Windows.</p></li>
<li><p>Added a menu entry to launch xonsh when installing xonsh from a conda package</p></li>
<li><p>Added a new <code class="docutils literal notranslate"><span class="pre">which</span></code> alias that supports both regular <code class="docutils literal notranslate"><span class="pre">which</span></code> and also searches
through xonsh aliases. A pure python implementation of <code class="docutils literal notranslate"><span class="pre">which</span></code> is used. Thanks
to Trent Mick. <a class="reference external" href="https://github.com/trentm/which/">https://github.com/trentm/which/</a></p></li>
<li><p>Added support for prompt toolkit v1.0.0.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">$XONSH_CACHE_SCRIPTS</span></code> and <code class="docutils literal notranslate"><span class="pre">$XONSH_CACHE_EVERYTHING</span></code> environment
variables to control caching of scripts and interactive commands.  These can
also be controlled by command line options <code class="docutils literal notranslate"><span class="pre">--no-script-cache</span></code> and
<code class="docutils literal notranslate"><span class="pre">--cache-everything</span></code> when starting xonsh.</p></li>
<li><p>Added a workaround to allow ctrl-c to interrupt reverse incremental search in
the readline shell</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Running scripts through xonsh (or running a single command with <code class="docutils literal notranslate"><span class="pre">-c</span></code>) no
longer runs the user’s rc file, unless the <code class="docutils literal notranslate"><span class="pre">--login</span></code> option is specified.
Also avoids loading aliases and environments from foreign shells, as well as
loading bash completions.</p></li>
<li><p>rc files are now compiled and cached, to avoid re-parsing when they haven’t
changed.  Scripts are also compiled and cached, and there is the option to
cache interactive commands.</p></li>
<li><p>Left and Right arrows in the <code class="docutils literal notranslate"><span class="pre">prompt_toolkit</span></code> shell now wrap in multiline
environments</p></li>
<li><p>Regexpath matching with backticks, now returns an empty list in python mode.</p></li>
<li><p>Pygments added as a dependency for the conda package</p></li>
<li><p>Foreign shells now allow for setting exit-on-error commands before and after
all other commands via the <code class="docutils literal notranslate"><span class="pre">seterrprevcmd</span></code> and <code class="docutils literal notranslate"><span class="pre">seterrpostcmd</span></code> arguments.
Sensinble defaults are provided for existing shells.</p></li>
<li><p>PLY is no longer a external dependency but is bundled in xonsh/ply. Xonsh can
therefore run without any external dependencies, although having prompt-toolkit
recommended.</p></li>
<li><p>Provide better user feedback when running <code class="docutils literal notranslate"><span class="pre">which</span></code> in a platform that doesn’t
provide it (e.g. Windows).</p></li>
<li><p>The lexer now uses a custom tokenizer that handles regex globs in the proper
way.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Fixed bug with loading prompt-toolkit shell &lt; v0.57.</p></li>
<li><p>Fixed bug with prompt-toolkit completion when the cursor is not at the end of
the line.</p></li>
<li><p>Aliases will now evaluate environment variables and other expansions
at execution time rather than passing through a literal string.</p></li>
<li><p>Fixed environment variables from os.environ not being loaded when a running
a script</p></li>
<li><p>The readline shell will now load the inputrc files.</p></li>
<li><p>Fixed bug that prevented <cite>source-alias</cite> from working.</p></li>
<li><p>Now able to <code class="docutils literal notranslate"><span class="pre">^C</span></code> the xonfig wizard on start up.</p></li>
<li><p>Fixed deadlock on Windows when running subprocess that generates enough output
to fill the OS pipe buffer.</p></li>
<li><p>Sourcing foreign shells will now return a non-zero exit code if the
source operation failed for some reason.</p></li>
<li><p>Fixed PermissionError when running commands in directories without read permissions</p></li>
<li><p>Prevent Windows fixups from overriding environment vars in static config</p></li>
<li><p>Fixed Optional Github project status to reflect added/removed files via git_dirty_working_directory()</p></li>
<li><p>Fixed xonsh.exe launcher on Windows, when Python install directory has a space in it</p></li>
<li><p>Fixed <cite>$CDPATH</cite> to support <cite>~</cite> and environments variables in its items</p></li>
</ul>
</section>
<section id="v0-2-7">
<h2>v0.2.7<a class="headerlink" href="#v0-2-7" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Added new valid <code class="docutils literal notranslate"><span class="pre">$SHELL_TYPE</span></code> called <code class="docutils literal notranslate"><span class="pre">'best'</span></code>. This selects the best value
for the concrete shell type based on the availability on the user’s machine.</p></li>
<li><p>New environment variable <code class="docutils literal notranslate"><span class="pre">$XONSH_COLOR_STYLE</span></code> will set the color mapping
for all of xonsh.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">XonshStyle</span></code> pygments style will determine the appropriate color
mapping based on <code class="docutils literal notranslate"><span class="pre">$XONSH_COLOR_STYLE</span></code>.  The associated <code class="docutils literal notranslate"><span class="pre">xonsh_style_proxy()</span></code>
is intended for wrapping <code class="docutils literal notranslate"><span class="pre">XonshStyle</span></code> when actually being used by
pygments.</p></li>
<li><p>The functions <code class="docutils literal notranslate"><span class="pre">print_color()</span></code> and <code class="docutils literal notranslate"><span class="pre">format_color()</span></code> found in <code class="docutils literal notranslate"><span class="pre">xonsh.tools</span></code>
dispatch to the approriate shell color handling and may be used from
anywhere.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xonsh.tools.HAVE_PYGMENTS</span></code> flag now denotes if pygments is installed and
available on the users system.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ansi_colors</span></code> module is now available for handling ANSI color codes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">?</span></code> and <code class="docutils literal notranslate"><span class="pre">??</span></code> operator output now has colored titles, like in IPython.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">??</span></code> will syntax highlight source code if pygments is available.</p></li>
<li><p>Python mode output is now syntax highlighted if pygments is available.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">$RIGHT_PROMPT</span></code> environment variable for displaying right-aligned
text in prompt-toolkit shell.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">!(...)</span></code> operator, which returns an object representing the result
of running a command.  The truth value of this object is True if the
return code is equal to zero and False otherwise.</p></li>
<li><p>Optional dependency on the win_unicode_console package to enable unicode
support in cmd.exe on Windows. This can be disabled/enabled with the
<code class="docutils literal notranslate"><span class="pre">$WIN_UNICODE_CONSOLE</span></code> environment variable.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>Updated <code class="docutils literal notranslate"><span class="pre">$SHELL_TYPE</span></code> default to <code class="docutils literal notranslate"><span class="pre">'best'</span></code>.</p></li>
<li><p>Shell classes are now responsible for implementing their own color
formatting and printing.</p></li>
<li><p>Prompt coloring, history diffing, and tracing uses new color handling
capabilities.</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">Token.Color</span></code> token for xonsh color names, e.g. we now use
<code class="docutils literal notranslate"><span class="pre">Token.Color.RED</span></code> rather than <code class="docutils literal notranslate"><span class="pre">Token.RED</span></code>.</p></li>
<li><p>Untracked files in git are ignored when determining if a git workdir is
is dirty. This affects the coloring of the branch label.</p></li>
<li><p>Regular expression globbing now uses <code class="docutils literal notranslate"><span class="pre">re.fullmatch</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">re.match</span></code>, and the result of an empty regex glob does not cause the
argument to be deleted.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">xonsh.tools.TERM_COLORS</span></code> mapping has been axed, along with all
references to it. This may cause a problem if you were using a raw color code
in your xonshrc file from <code class="docutils literal notranslate"><span class="pre">$FORMATTER_DICT</span></code>. To fix, simply remove these
references.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Multidimensional slicing, as in numpy, no longer throws SyntaxErrors.</p></li>
<li><p>Some minor zsh fixes for more platforms and setups.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">BaseShell.settitle</span></code> method no longer has its commands captured by
<code class="docutils literal notranslate"><span class="pre">$(...)</span></code></p></li>
</ul>
</section>
<section id="v0-2-6">
<h2>v0.2.6<a class="headerlink" href="#v0-2-6" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trace</span></code> alias added that enables users to turn on and off the printing
of source code lines prior to their execution. This is useful for debugging scripts.</p></li>
<li><p>New ability to force callable alias functions to be run in the foreground, i.e.
the main thread from which the function was called. This is useful for debuggers
and profilers which may require such access. Use the <code class="docutils literal notranslate"><span class="pre">xonsh.proc.foreground</span></code>
decorator on an alias function to flag it. <code class="docutils literal notranslate"><span class="pre">ForegroundProcProxy</span></code> and
<code class="docutils literal notranslate"><span class="pre">SimpleForegroundProcProxy</span></code> classes have been added to support this feature.
Normally, forcing a foreground alias is not needed.</p></li>
<li><p>Added boolean <code class="docutils literal notranslate"><span class="pre">$RAISE_SUBPROC_ERROR</span></code> environment variable. If true
and a subprocess command exits with a non-zero return code, a
CalledProcessError will be raised. This is useful in scripts that should
fail at the first error.</p></li>
<li><p>If the <code class="docutils literal notranslate"><span class="pre">setproctitle</span></code> package is installed, the process title will be
set to <code class="docutils literal notranslate"><span class="pre">'xonsh'</span></code> rather than the path to the Python interpreter.</p></li>
<li><p>zsh foreign shell interface now supported natively in xonsh, like with Bash.
New <code class="docutils literal notranslate"><span class="pre">source-zsh</span></code> alias allows easy access to zsh scripts and functions.</p></li>
<li><p>Vox virtual environment manager added.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">foreign_shell_data()</span></code> keyword arguments <code class="docutils literal notranslate"><span class="pre">envcmd</span></code> and <code class="docutils literal notranslate"><span class="pre">aliascmd</span></code>
now default to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p>Updated alias docs to pull in usage from the commands automatically.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>Hundreds of bugs related to line and column numbers have been addressed.</p></li>
<li><p>Fixed path completion not working for absolute paths or for expanded paths on Windows.</p></li>
<li><p>Fixed issue with hg dirty branches and $PATH.</p></li>
<li><p>Fixed issues related to foreign shell data in files with whitespace in the names.</p></li>
<li><p>Worked around bug in ConEmu/cmder which prevented <code class="docutils literal notranslate"><span class="pre">get_git_branch()</span></code>
from working in these terminal emulators on Windows.</p></li>
</ul>
</section>
<section id="v0-2-5">
<h2>v0.2.5<a class="headerlink" href="#v0-2-5" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>New configuration utility ‘xonfig’ which reports current system
setup information and creates config files through an interactive
wizard.</p></li>
<li><p>Toolkit for creating wizards now available</p></li>
<li><p>timeit and which aliases will now complete their arguments.</p></li>
<li><p>$COMPLETIONS_MENU_ROWS environment variable controls the size of the
tab-completion menu in prompt-toolkit.</p></li>
<li><p>Prompt-toolkit shell now supports true multiline input with the ability
to scroll up and down in the prompt.</p></li>
</ul>
<p><strong>Changed:</strong></p>
<ul class="simple">
<li><p>The xonfig wizard will run on interactive startup if no configuration
file is found.</p></li>
<li><p>BaseShell now has a singleline() method for prompting a single input.</p></li>
<li><p>Environment variable docs are now auto-generated.</p></li>
<li><p>Prompt-toolkit shell will now dynamically allocate space for the
tab-completion menu.</p></li>
<li><p>Looking up nonexistent environment variables now generates an error
in Python mode, but produces a sane default value in subprocess mode.</p></li>
<li><p>Environments are now considered to contain all manually-adjusted keys,
and also all keys with an associated default value.</p></li>
</ul>
<p><strong>Removed:</strong></p>
<ul class="simple">
<li><p>Removed <code class="docutils literal notranslate"><span class="pre">xonsh.ptk.shortcuts.Prompter.create_prompt_layout()</span></code> and
<code class="docutils literal notranslate"><span class="pre">xonsh.ptk.shortcuts.Prompter.create_prompt_application()</span></code> methods
to reduce portion of xonsh that forks prompt-toolkit. This may require
users to upgrade to prompt-toolkit v0.57+.</p></li>
</ul>
<p><strong>Fixed:</strong></p>
<ul class="simple">
<li><p>First prompt in the prompt-toolkit shell now allows for up and down
arrows to search through history.</p></li>
<li><p>Made obtaining the prompt-toolkit buffer thread-safe.</p></li>
<li><p>Now always set non-detypable environment variables when sourcing
foreign shells.</p></li>
<li><p>Fixed issue with job management if a TTY existed but was not controlled
by the process, posix only.</p></li>
<li><p>Jupyter kernel no longer times out when using foreign shells on startup.</p></li>
<li><p>Capturing redirections, e.g. <code class="docutils literal notranslate"><span class="pre">$(echo</span> <span class="pre">hello</span> <span class="pre">&gt;</span> <span class="pre">f.txt)</span></code>, no longer fails
with a decoding error.</p></li>
<li><p>Evaluation in a Jupyter cell will return pformatted object.</p></li>
<li><p>Jupyter with redirect uncaptured subprocs to notebook.</p></li>
<li><p>Tab completion in Jupyter fixed.</p></li>
</ul>
</section>
<section id="v0-2-1-v0-2-4">
<h2>v0.2.1 - v0.2.4<a class="headerlink" href="#v0-2-1-v0-2-4" title="Link to this heading">¶</a></h2>
<p>You are reading the docs…but you still feel hungry.</p>
</section>
<section id="v0-2-0">
<h2>v0.2.0<a class="headerlink" href="#v0-2-0" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Rich history recording and replaying</p></li>
</ul>
</section>
<section id="v0-1-0">
<h2>v0.1.0<a class="headerlink" href="#v0-1-0" title="Link to this heading">¶</a></h2>
<p><strong>Added:</strong></p>
<ul class="simple">
<li><p>Naturally typed environment variables</p></li>
<li><p>Inherits the environment from BASH</p></li>
<li><p>Uses BASH completion for subprocess commands</p></li>
<li><p>Regular expression filename globbing</p></li>
<li><p>Its own PLY-based lexer and parser</p></li>
<li><p>xonsh code parses into a Python AST</p></li>
<li><p>You can do all the normal Python things, like arithmetic and importing</p></li>
<li><p>Captured and uncaptured subprocesses</p></li>
<li><p>Pipes, redirection, and non-blocking subprocess syntax support</p></li>
<li><p>Help and superhelp with ? and ??</p></li>
<li><p>Command aliasing</p></li>
<li><p>Multiline input, unlike ed</p></li>
<li><p>History matching like in IPython</p></li>
<li><p>Color prompts</p></li>
<li><p>Low system overhead</p></li>
</ul>
</section>
<section id="id5">
<h2>&lt;v0.1.0<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h2>
<p>The before times, like 65,000,000 BCE.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="faq.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Frequently Asked Questions</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="devguide.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Developer’s Guide</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2015, Anthony Scopatz
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Xonsh Change Log</a><ul>
<li><a class="reference internal" href="#v0-16-0">v0.16.0</a></li>
<li><a class="reference internal" href="#v0-15-1">v0.15.1</a></li>
<li><a class="reference internal" href="#v0-15-0">v0.15.0</a></li>
<li><a class="reference internal" href="#v0-14-4">v0.14.4</a></li>
<li><a class="reference internal" href="#v0-14-3">v0.14.3</a></li>
<li><a class="reference internal" href="#v0-14-2">v0.14.2</a></li>
<li><a class="reference internal" href="#v0-14-1">v0.14.1</a></li>
<li><a class="reference internal" href="#v0-14-0">v0.14.0</a></li>
<li><a class="reference internal" href="#v0-13-4">v0.13.4</a></li>
<li><a class="reference internal" href="#v0-13-3">v0.13.3</a></li>
<li><a class="reference internal" href="#v0-13-2">v0.13.2</a></li>
<li><a class="reference internal" href="#v0-13-1">v0.13.1</a></li>
<li><a class="reference internal" href="#v0-13-0">v0.13.0</a></li>
<li><a class="reference internal" href="#v0-12-6">v0.12.6</a></li>
<li><a class="reference internal" href="#v0-12-5">v0.12.5</a></li>
<li><a class="reference internal" href="#v0-12-4">v0.12.4</a></li>
<li><a class="reference internal" href="#v0-12-3">v0.12.3</a></li>
<li><a class="reference internal" href="#v0-12-2">v0.12.2</a></li>
<li><a class="reference internal" href="#v0-12-1">v0.12.1</a></li>
<li><a class="reference internal" href="#v0-12-0">v0.12.0</a></li>
<li><a class="reference internal" href="#v0-11-0">v0.11.0</a></li>
<li><a class="reference internal" href="#id2">v0.11.0</a></li>
<li><a class="reference internal" href="#v0-10-1">v0.10.1</a></li>
<li><a class="reference internal" href="#v0-10-0">v0.10.0</a></li>
<li><a class="reference internal" href="#v0-9-27">v0.9.27</a></li>
<li><a class="reference internal" href="#v0-9-26">v0.9.26</a></li>
<li><a class="reference internal" href="#v0-9-25">v0.9.25</a></li>
<li><a class="reference internal" href="#v0-9-24">v0.9.24</a></li>
<li><a class="reference internal" href="#v0-9-23">v0.9.23</a></li>
<li><a class="reference internal" href="#v0-9-22">v0.9.22</a></li>
<li><a class="reference internal" href="#v0-9-21">v0.9.21</a></li>
<li><a class="reference internal" href="#v0-9-20">v0.9.20</a></li>
<li><a class="reference internal" href="#v0-9-19">v0.9.19</a></li>
<li><a class="reference internal" href="#v0-9-18">v0.9.18</a></li>
<li><a class="reference internal" href="#v0-9-17">v0.9.17</a></li>
<li><a class="reference internal" href="#v0-9-16">v0.9.16</a></li>
<li><a class="reference internal" href="#v0-9-15">v0.9.15</a></li>
<li><a class="reference internal" href="#v0-9-14">v0.9.14</a></li>
<li><a class="reference internal" href="#v0-9-13">v0.9.13</a></li>
<li><a class="reference internal" href="#v0-9-12">v0.9.12</a></li>
<li><a class="reference internal" href="#v0-9-11">v0.9.11</a></li>
<li><a class="reference internal" href="#v0-9-10">v0.9.10</a></li>
<li><a class="reference internal" href="#v0-9-9">v0.9.9</a></li>
<li><a class="reference internal" href="#v0-9-8">v0.9.8</a></li>
<li><a class="reference internal" href="#v0-9-7">v0.9.7</a></li>
<li><a class="reference internal" href="#v0-9-6">v0.9.6</a></li>
<li><a class="reference internal" href="#v0-9-5">v0.9.5</a></li>
<li><a class="reference internal" href="#v0-9-4">v0.9.4</a></li>
<li><a class="reference internal" href="#v0-9-3">v0.9.3</a></li>
<li><a class="reference internal" href="#v0-9-2">v0.9.2</a></li>
<li><a class="reference internal" href="#v0-9-1">v0.9.1</a></li>
<li><a class="reference internal" href="#v0-9-0">v0.9.0</a></li>
<li><a class="reference internal" href="#v0-8-12">v0.8.12</a></li>
<li><a class="reference internal" href="#v0-8-11">v0.8.11</a></li>
<li><a class="reference internal" href="#v0-8-10">v0.8.10</a></li>
<li><a class="reference internal" href="#v0-8-9">v0.8.9</a></li>
<li><a class="reference internal" href="#v0-8-8">v0.8.8</a></li>
<li><a class="reference internal" href="#v0-8-7">v0.8.7</a></li>
<li><a class="reference internal" href="#v0-8-6">v0.8.6</a></li>
<li><a class="reference internal" href="#v0-8-5">v0.8.5</a></li>
<li><a class="reference internal" href="#v0-8-4">v0.8.4</a></li>
<li><a class="reference internal" href="#v0-8-3">v0.8.3</a></li>
<li><a class="reference internal" href="#v0-8-2">v0.8.2</a></li>
<li><a class="reference internal" href="#v0-8-1">v0.8.1</a></li>
<li><a class="reference internal" href="#v0-8-0">v0.8.0</a></li>
<li><a class="reference internal" href="#v0-7-10">v0.7.10</a></li>
<li><a class="reference internal" href="#v0-7-9">v0.7.9</a></li>
<li><a class="reference internal" href="#v0-7-8">v0.7.8</a></li>
<li><a class="reference internal" href="#v0-7-7">v0.7.7</a></li>
<li><a class="reference internal" href="#v0-7-6">v0.7.6</a></li>
<li><a class="reference internal" href="#v0-7-5">v0.7.5</a></li>
<li><a class="reference internal" href="#v0-7-4">v0.7.4</a></li>
<li><a class="reference internal" href="#v0-7-3">v0.7.3</a></li>
<li><a class="reference internal" href="#v0-7-2">v0.7.2</a></li>
<li><a class="reference internal" href="#v0-7-1">v0.7.1</a></li>
<li><a class="reference internal" href="#v0-7-0">v0.7.0</a></li>
<li><a class="reference internal" href="#v0-6-10">v0.6.10</a></li>
<li><a class="reference internal" href="#v0-6-9">v0.6.9</a></li>
<li><a class="reference internal" href="#v0-6-8">v0.6.8</a></li>
<li><a class="reference internal" href="#v0-6-7">v0.6.7</a></li>
<li><a class="reference internal" href="#v0-6-6">v0.6.6</a></li>
<li><a class="reference internal" href="#v0-6-5">v0.6.5</a></li>
<li><a class="reference internal" href="#v0-6-4">v0.6.4</a></li>
<li><a class="reference internal" href="#v0-6-3">v0.6.3</a></li>
<li><a class="reference internal" href="#v0-6-2">v0.6.2</a></li>
<li><a class="reference internal" href="#v0-6-1">v0.6.1</a></li>
<li><a class="reference internal" href="#v0-6-0">v0.6.0</a></li>
<li><a class="reference internal" href="#v0-5-12">v0.5.12</a></li>
<li><a class="reference internal" href="#v0-5-11">v0.5.11</a></li>
<li><a class="reference internal" href="#v0-5-10">v0.5.10</a></li>
<li><a class="reference internal" href="#v0-5-9">v0.5.9</a></li>
<li><a class="reference internal" href="#v0-5-8">v0.5.8</a></li>
<li><a class="reference internal" href="#v0-5-7">v0.5.7</a></li>
<li><a class="reference internal" href="#v0-5-6">v0.5.6</a></li>
<li><a class="reference internal" href="#v0-5-5">v0.5.5</a></li>
<li><a class="reference internal" href="#v0-5-4">v0.5.4</a></li>
<li><a class="reference internal" href="#v0-5-3">v0.5.3</a></li>
<li><a class="reference internal" href="#v0-5-2">v0.5.2</a></li>
<li><a class="reference internal" href="#v0-5-1">v0.5.1</a></li>
<li><a class="reference internal" href="#v0-5-0">v0.5.0</a></li>
<li><a class="reference internal" href="#v0-4-7">v0.4.7</a></li>
<li><a class="reference internal" href="#v0-4-6">v0.4.6</a></li>
<li><a class="reference internal" href="#v0-4-5">v0.4.5</a></li>
<li><a class="reference internal" href="#v0-4-4">v0.4.4</a></li>
<li><a class="reference internal" href="#v0-4-3">v0.4.3</a></li>
<li><a class="reference internal" href="#v0-4-2">v0.4.2</a></li>
<li><a class="reference internal" href="#v0-4-1">v0.4.1</a></li>
<li><a class="reference internal" href="#v0-4-0">v0.4.0</a></li>
<li><a class="reference internal" href="#v0-3-4">v0.3.4</a></li>
<li><a class="reference internal" href="#v0-3-3">v0.3.3</a></li>
<li><a class="reference internal" href="#v0-3-2">v0.3.2</a></li>
<li><a class="reference internal" href="#v0-3-1">v0.3.1</a></li>
<li><a class="reference internal" href="#v0-3-0">v0.3.0</a></li>
<li><a class="reference internal" href="#v0-2-7">v0.2.7</a></li>
<li><a class="reference internal" href="#v0-2-6">v0.2.6</a></li>
<li><a class="reference internal" href="#v0-2-5">v0.2.5</a></li>
<li><a class="reference internal" href="#v0-2-1-v0-2-4">v0.2.1 - v0.2.4</a></li>
<li><a class="reference internal" href="#v0-2-0">v0.2.0</a></li>
<li><a class="reference internal" href="#v0-1-0">v0.1.0</a></li>
<li><a class="reference internal" href="#id5">&lt;v0.1.0</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=7de89ed4"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=4e2eecee"></script>
    <script src="_static/runthis-client.min.js?v=ad2a40d9"></script>
    </body>
</html>